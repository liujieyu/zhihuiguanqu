{"remainingRequest":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\views\\View.vue?vue&type=style&index=0&id=3261d942&scoped=true&lang=css&","dependencies":[{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\views\\View.vue","mtime":1646121650915},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ivu-layout-header {\n    background: #409EFF;\n    padding: 0 20px;\n    height: 64px;\n    line-height: 64px;\n}\n\n.ivu-menu-dark {\n    background: #409EFF;\n}\n\n.ivu-icon {\n    color: #fff;\n    font-size: 34px;\n}\n\n.ivu-menu-horizontal {\n    line-height: 64px;\n}\n\n.layout {\n    background: #f5f7f9;\n    position: relative;\n    /*border-radius: 4px;*/\n    overflow: hidden;\n    width: 100%;\n    padding-bottom: 40px;\n}\n\n.layout-logo {\n    float: left;\n    color: #fff;\n    font-size: 24px;\n    margin-left: 25px;\n}\n\n.layout-nav {\n    margin: 0 auto;\n    float: right;\n    color: #fff;\n}\n\n.m-message {\n    line-height: 26px;\n    margin-top: 8px;\n}\n\n.layout-footer-center {\n    text-align: center;\n    background-color: #fff;\n}\n\n.m-icon .ivu-icon {\n    color: #409EFF;\n    font-size: 54px;\n    border: 1px solid #ececec;\n    border-radius: 5px;\n    background-color: #fff;\n    padding: 5px;\n    margin-bottom: 10px;\n}\n\n.m-icon .ivu-icon:hover {\n    box-shadow: 0 1px 20px rgba(74, 74, 74, 0.1);\n    border: 1px solid #fff;\n}\n\n.code-row-bg .ivu-col {\n    text-align: center;\n    font-size: 18px;\n}\n\n.m-content {\n    max-width: 1200px;\n    min-width: 920px;\n    margin: auto;\n}\n\n@media ( max-width: 1240px ) {\n    .m-content {\n        margin: 0 20px;\n    }\n}\n\n@media ( min-width: 1920px ) {\n    .m-content {\n        max-width: 1600px;\n        width: calc( 100vw - 720px );\n    }\n}\n\n.m-card {\n    min-height: 390px;\n}\n\n@media ( max-width: 1240px ) {\n    .m-card {\n        height: calc(((100vw - 40px) / 2 - 10px) * 36 / 59);\n        min-height: calc(450px * 36 / 59);\n    }\n}\n\n@media ( min-width: 1920px ) {\n    .m-card {\n        height: calc((100vw - 720px) / 2 * 36 / 59);\n        max-height: calc((1600px / 2 - 10px) * 36 / 59);\n    }\n}\n\n.row-user {\n    margin-top: 10px;\n    margin-left: 120px;\n    font-size: 16px;\n}\n\n.row-pwd {\n    margin-top: 20px;\n    margin-left: 40px;\n}\n",{"version":3,"sources":["View.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAy0BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"View.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div id=\"view\" style=\"min-width: 960px;;height:100%;\">\r\n    <el-scrollbar style=\"height:100%;\" wrap-style=\"overflow-x:hidden;\">\r\n        <div class=\"layout\">\r\n            <Layout>\r\n                <Header>\r\n                    <Menu mode=\"horizontal\" theme=\"dark\" active-name=\"1\">\r\n                        <Row type=\"flex\" justify=\"space-between\" align=\"middle\" class=\"layout-logo\">\r\n                            <img src=\"../assets/logo.png\" style=\"height: 54px; margin-right: 20px;\"/>\r\n                            <p>\r\n                                黄材灌区综合信息管理平台\r\n                            </p>\r\n                        </Row>\r\n                        <div class=\"layout-nav\">\r\n                            <MenuItem name=\"1\">\r\n                                <div class=\"m-message\" style=\"text-align: right;\">\r\n                                    <p>\r\n                                        <Icon type=\"md-partly-sunny\" style=\"font-size: 24px;\"/>\r\n                                        15°C-20°C 晴 北风一级\r\n                                    </p>\r\n                                    <p>2019-03-07 15:00</p>\r\n                                </div>\r\n                            </MenuItem>\r\n                            <Submenu name=\"2\">\r\n                                <template slot=\"title\">\r\n                                    <Icon type=\"ios-person\"></Icon>\r\n                                </template>\r\n                                <MenuItem name=\"2-1\" @click.native=\"userInfoShow = true\">个人信息</MenuItem>\r\n                                <MenuItem name=\"2-2\" @click.native=\"passwordChangeShow = true\">密码修改</MenuItem>\r\n                                <MenuItem name=\"2-3\" @click.native=\"outlogin\">注销</MenuItem>\r\n                            </Submenu>\r\n                            <Menu-item name=\"3\">\r\n                                <Icon type=\"md-settings\"/>\r\n                            </Menu-item>\r\n                        </div>\r\n                    </Menu>\r\n                </Header>\r\n                <Content>\r\n                    <Row type=\"flex\" justify=\"space-around\" class=\"code-row-bg\"\r\n                         style=\"max-width: 1200px;width: 100%;margin: 20px auto;\">\r\n                        <i-col>\r\n                            <a class=\"m-icon\" target=\"_blank\" @click=\"toHomeLink\">\r\n                                <Icon type=\"ios-water\"/>\r\n                            </a>\r\n                            <!-- <a class=\"m-icon\" target=\"_blank\" :href=\"token\">\r\n                                <Icon type=\"ios-water\"/>\r\n                            </a> -->\r\n                            <p>量测水</p>\r\n                        </i-col>\r\n                        <i-col>\r\n                            <a class=\"m-icon\" @click=\"yuliu\">\r\n                                <Icon type=\"ios-analytics\" />\r\n                            </a>\r\n                            <p>防汛</p>\r\n                        </i-col>\r\n                        <i-col>\r\n                            <a class=\"m-icon\" @click=\"yuliu\">\r\n                                <Icon type=\"md-build\" />\r\n                            </a>\r\n                            <p>工程管理</p>\r\n                        </i-col>\r\n                        <i-col>\r\n                          <!-- href=\"http://183.215.1.210:8088/minbingguanqu/login.htm\" -->\r\n                            <a class=\"m-icon\"  target=\"_blank\" @click=\"yuliu\">\r\n                                <Icon type=\"ios-analytics-outline\" />\r\n                            </a>\r\n                            <p>农业改革</p>\r\n                        </i-col>\r\n                        <i-col>\r\n                          <!-- href=\"http://220.168.151.24:4000/disaster-warning/login.htm\" -->\r\n                            <a class=\"m-icon\" target=\"_blank\" @click=\"yuliu\">\r\n                                <Icon type=\"ios-film\" />\r\n                            </a>\r\n                            <p>水库视频</p>\r\n                        </i-col>\r\n                        <i-col>\r\n                            <a class=\"m-icon\" @click=\"yuliu\">\r\n                                <Icon type=\"ios-apps\"/>\r\n                            </a>\r\n                            <p>更多微应用</p>\r\n                        </i-col>\r\n                    </Row>\r\n                    <div class=\"m-content\">\r\n                        <Row type=\"flex\" justify=\"space-between\">\r\n                            <Col span=\"12\" style=\"padding-right: 10px;\">\r\n                                <Card dis-hover class=\"m-card\">\r\n                                    <div style=\"\">\r\n                                        <p slot=\"title\">今日雨情图</p>\r\n                                        <div ref=\"achart\" style=\"height:350px;\"></div>\r\n                                    </div>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col span=\"12\" style=\"padding-left: 10px;\">\r\n                                <Card dis-hover class=\"m-card\" style=\"\">\r\n                                    <div style=\"width: 560px;\">\r\n                                        <p slot=\"title\">今日流量表</p>\r\n                                        <el-table\r\n                                        :data=\"liuliangData\"\r\n                                        border\r\n                                        v-loading=\"loading\"\r\n                                        height=\"350\"\r\n                                        size=\"mini\"\r\n                                        row-style=\"height:35px\"\r\n                                        cell-style=\"padding:2px\"\r\n                                        style=\"width: 558px;\">\r\n                                        <el-table-column\r\n                                        label=\" \"\r\n                                        type=\"index\"\r\n                                        align=\"center\"\r\n                                        width=\"65\"\r\n                                        >\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"STNM\"\r\n                                          align=\"center\"\r\n                                          label=\"站名\"\r\n                                          width=\"\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"TM\"\r\n                                          align=\"center\"\r\n                                          label=\"时间\"\r\n                                          width=\"140\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"Q\"\r\n                                          align=\"center\"\r\n                                          label=\"流量\"\r\n                                          width=\"75\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"Z\"\r\n                                          align=\"center\"\r\n                                          label=\"水位\"\r\n                                          width=\"75\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"WPTN\"\r\n                                          align=\"center\"\r\n                                          label=\"水势\"\r\n                                          width=\"75\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span :style=\"{color: scope.row.WPTN == 4? 'blue' : scope.row.WPTN == 5?'red' : 'black'}\">{{scope.row.WPTN==4?'↓':(scope.row.WPTN==5?'↑':'-')}}</span>\r\n                                        </template>\r\n                                        </el-table-column>\r\n                                      </el-table>\r\n                                    </div>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row type=\"flex\" justify=\"space-between\" style=\"margin-top: 20px;\">\r\n                            <Col span=\"12\" style=\"padding-right: 10px;\">\r\n                                <Card dis-hover class=\"m-card\">\r\n                                    <div>\r\n                                        <p slot=\"title\">今日水库表</p>\r\n                                        <el-table\r\n                                        :data=\"shuikuData\"\r\n                                        border\r\n                                        v-loading=\"loading\"\r\n                                        height=\"350\"\r\n                                        size=\"mini\"\r\n                                        row-style=\"height:35px\"\r\n                                        cell-style=\"padding:2px\"\r\n                                        style=\"width: 558px;\">\r\n                                        <el-table-column\r\n                                        label=\" \"\r\n                                        type=\"index\"\r\n                                        align=\"center\"\r\n                                        width=\"65\"\r\n                                        >\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"STNM\"\r\n                                          align=\"center\"\r\n                                          label=\"站名\"\r\n                                          width=\"\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"tm\"\r\n                                          align=\"center\"\r\n                                          label=\"时间\"\r\n                                          width=\"140\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"jxx\"\r\n                                          align=\"center\"\r\n                                          label=\"距汛限\"\r\n                                          width=\"75\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"RZ\"\r\n                                          align=\"center\"\r\n                                          label=\"水位\"\r\n                                          width=\"75\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          align=\"center\"\r\n                                          label=\"水势\"\r\n                                          width=\"75\">\r\n                                        <template slot-scope=\"scope\">\r\n                                            <span :style=\"{color: scope.row.RWPTN == 4? 'blue' : scope.row.RWPTN == 5?'red' : 'black'}\">{{scope.row.RWPTN==4?'↓':(scope.row.RWPTN==5?'↑':'-')}}</span>\r\n                                        </template>\r\n                                        </el-table-column>\r\n                                      </el-table>\r\n                                    </div>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col span=\"12\" style=\"padding-left: 10px;\">\r\n                                <Card dis-hover class=\"m-card\">\r\n                                    <div>\r\n                                    <p slot=\"title\">运行工况表</p>\r\n                                        <el-table\r\n                                        :data=\"gongkuangData\"\r\n                                        border\r\n                                        v-loading=\"loading\"\r\n                                        height=\"350\"\r\n                                        size=\"mini\"\r\n                                        row-style=\"height:35px\"\r\n                                        cell-style=\"padding:2px\"\r\n                                        style=\"width: 558px;\">\r\n                                        <el-table-column\r\n                                        label=\" \"\r\n                                        type=\"index\"\r\n                                        align=\"center\"\r\n                                        width=\"65\"\r\n                                        >\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"STNM\"\r\n                                          align=\"center\"\r\n                                          label=\"站名\"\r\n                                          width=\"\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"tm\"\r\n                                          align=\"center\"\r\n                                          label=\"时间\"\r\n                                          width=\"140\">\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"vol\"\r\n                                          align=\"center\"\r\n                                          label=\"电压\"\r\n                                          width=\"75\">\r\n                                          <template slot-scope=\"scope\">\r\n                                              <span :style=\"{color: scope.row.vol<scope.row.VOLMIN||scope.row.vol>scope.row.VOLMAX? 'red' : 'black' }\">{{scope.row.vol}}</span>\r\n                                          </template>\r\n                                        </el-table-column>\r\n                                        <el-table-column\r\n                                          prop=\"CS\"\r\n                                          align=\"center\"\r\n                                          label=\"通讯状态\"\r\n                                          width=\"75\">\r\n                                          <template slot-scope=\"scope\">\r\n                                              <span :style=\"{color: scope.row.CS=='正常'? 'black' : 'red' }\">{{scope.row.CS}}</span>\r\n                                          </template>\r\n                                        </el-table-column>\r\n                                      </el-table>\r\n                                  </div>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </Content>\r\n            </Layout>\r\n        </div>\r\n        \r\n        <Drawer title=\"个人信息\" placement=\"left\" width=\"500px\" :closable=\"false\" v-model=\"userInfoShow\">\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    姓名：\r\n                </Col>\r\n                <Col>\r\n                    张三\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    性别：\r\n                </Col>\r\n                <Col>\r\n                    男\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    年龄：\r\n                </Col>\r\n                <Col>\r\n                    28\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    手机号码：\r\n                </Col>\r\n                <Col>\r\n                    18088888888\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    部门：\r\n                </Col>\r\n                <Col>\r\n                    技术部\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-user\">\r\n                <Col span=\"8\">\r\n                    职务：\r\n                </Col>\r\n                <Col>\r\n                    检测员\r\n                </Col>\r\n            </Row>\r\n        </Drawer>\r\n\r\n        <Drawer title=\"密码修改\" placement=\"left\" width=\"500px\" :closable=\"false\" v-model=\"passwordChangeShow\">\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-pwd\">\r\n                <Col span=\"4\">\r\n                    旧密码：\r\n                </Col>\r\n                <Col span=\"12\">\r\n                    <Input type=\"password\" v-model=\"password\" placeholder=\"\"/>\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-pwd\">\r\n                <Col span=\"4\">\r\n                    新密码：\r\n                </Col>\r\n                <Col span=\"12\">\r\n                    <Input type=\"password\" v-model=\"nPassword\" placeholder=\"\"/>\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" align=\"middle\" class=\"row-pwd\">\r\n                <Col span=\"4\">\r\n                    确认密码：\r\n                </Col>\r\n                <Col span=\"12\">\r\n                    <Input type=\"password\" v-model=\"n2Password\" placeholder=\"\"/>\r\n                </Col>\r\n            </Row>\r\n            <Row type=\"flex\" class=\"row-pwd\">\r\n                <Col span=\"4\">\r\n                </Col>\r\n                <Col span=\"12\">\r\n                    <Button type=\"primary\">确认</Button>\r\n                </Col>\r\n            </Row>\r\n        </Drawer>\r\n\r\n        <Footer class=\"layout-footer-center\">2019 &copy; 湖南智慧灌区综合信息管理平台 版权所有</Footer>\r\n    </el-scrollbar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        // name: \"View\",\r\n        data() {\r\n            return {\r\n                userInfoShow: false,\r\n                passwordChangeShow: false,\r\n\r\n                password: '',\r\n                nPassword: '',\r\n                n2Password: '',\r\n\r\n                columns1: [\r\n                    {\r\n                        title: '序号',\r\n                        key: 'id',\r\n                        width: 60,\r\n                    },\r\n                    {\r\n                        title: '站名',\r\n                        key: 'name',\r\n                        width: 60,\r\n                    },\r\n                    {\r\n                        title: '时间',\r\n                        key: 'date'\r\n                    },\r\n                    {\r\n                        title: '流量(m³/s)',\r\n                        key: 'liu'\r\n                    },\r\n                    {\r\n                        title: '水位(m)',\r\n                        key: 'wei',\r\n                        width: 80,\r\n                    },\r\n                    {\r\n                        title: '水势',\r\n                        key: 'shi',\r\n                        width: 60,\r\n                    },\r\n                    {\r\n                        title: '管区渠道',\r\n                        key: 'qu'\r\n                    },\r\n                ],\r\n                data1: [\r\n                    {\r\n                        id: '1',\r\n                        name: 'A站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '2',\r\n                        name: 'B站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '3',\r\n                        name: 'C站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '4',\r\n                        name: 'D站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '5',\r\n                        name: 'E站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '6',\r\n                        name: 'F站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '7',\r\n                        name: 'G站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '8',\r\n                        name: 'H站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        wei: '8',\r\n                        age: 18,\r\n                        qu: '北总干渠',\r\n                    },\r\n                ],\r\n\r\n                columns2: [\r\n                    {\r\n                        title: '序号',\r\n                        key: 'id',\r\n                        width: 60,\r\n                    },\r\n                    {\r\n                        title: '站名',\r\n                        key: 'name',\r\n                        width: 60,\r\n                    },\r\n                    {\r\n                        title: '时间',\r\n                        key: 'date'\r\n                    },\r\n                    {\r\n                        title: '流量(m³/s)',\r\n                        key: 'liu'\r\n                    },\r\n                    {\r\n                        title: '闸阀前水位(m)',\r\n                        key: 'qwei',\r\n                    },\r\n                    {\r\n                        title: '闸阀前水势',\r\n                        key: 'qshi',\r\n                    },\r\n                    {\r\n                        title: '闸阀后水位(m)',\r\n                        key: 'hwei',\r\n                    },\r\n                    {\r\n                        title: '闸阀后水势',\r\n                        key: 'hshi',\r\n                    },\r\n                    {\r\n                        title: '管区渠道',\r\n                        key: 'qu'\r\n                    },\r\n                ],\r\n                data2: [\r\n                    {\r\n                        id: '1',\r\n                        name: 'A站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '2',\r\n                        name: 'B站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '3',\r\n                        name: 'C站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '4',\r\n                        name: 'D站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '5',\r\n                        name: 'E站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '6',\r\n                        name: 'F站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '7',\r\n                        name: 'G站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                    {\r\n                        id: '8',\r\n                        name: 'H站',\r\n                        date: '2016-10-03',\r\n                        liu: '10',\r\n                        qwei: '8',\r\n                        qshi:'',\r\n                        hwei: '5',\r\n                        hshi:'',\r\n                        qu: '北总干渠',\r\n                    },\r\n                ],\r\n\r\n                \r\n                form:{\r\n                    starttime:'',\r\n                    overtime:'',\r\n                    STNM:[],\r\n                    P:[],\r\n                },\r\n                yuqinglist:[],\r\n                liuliangData:[],\r\n                shuikuData:[],\r\n                gongkuangData:[],\r\n                loading:false,\r\n                token:null,\r\n            }\r\n        },\r\n        mounted(){\r\n            var username=this.Cook.get(\"username\");\r\n            if(username==null || username==''){\r\n                this.$router.push({path: '/login'});\r\n                return;\r\n            }\r\n            this.getinittime();\r\n            this.Load();\r\n            this.token = 'http://localhost:8080';\r\n        },\r\n        methods: {\r\n            toHomeLink(){\r\n                this.$router.push({path: '/home'});\r\n            },\r\n            yuliu(){\r\n              this.$message('预留接口');\r\n            },\r\n            outlogin(){\r\n              this.axios.delete('/guanqu/web/user/logout').then((res)=>{\r\n                console.log(res);\r\n                this.Cook.set(\"username\",null);\r\n                this.$router.push({path: '/login'});\r\n              });\r\n            },\r\n            Load(){\r\n                this.loading = true;\r\n                this.axios.post('/guanqu/yuqing/gis',{Time_min:this.form.starttime,Time_max:this.form.overtime}).then((res)=>{\r\n                    this.yuqinglist = res.data.features;\r\n                    for (var i = 0;i<this.yuqinglist.length ; i++) {\r\n                        if (this.yuqinglist[i].rowinfo.p==null) {\r\n                            this.yuqinglist[i].rowinfo.p = 0;\r\n                        }\r\n                        this.form.STNM.push(this.yuqinglist[i].rowinfo.STNM);\r\n                        this.form.P.push(this.yuqinglist[i].rowinfo.p);\r\n                    }\r\n                    console.log(this.form.STNM,this.form.P);\r\n                    this.drawchart();\r\n                });\r\n                this.axios.get('/guanqu/qudaoshuiqing/gis').then((res)=>{\r\n                    var tableData = new Array();\r\n                    res.data.features.forEach((val, index, array) => {\r\n                        if (val.rowinfo.Q==0.000) {\r\n                            val.rowinfo.Q='';\r\n                        }\r\n                        if (val.rowinfo.Z==0.000) {\r\n                            val.rowinfo.Z='';\r\n                        }else{\r\n                            val.rowinfo.Z = this.Z_Filter(val.rowinfo.Z);\r\n                        }\r\n                        tableData.push(val.rowinfo);\r\n                    });\r\n                    this.liuliangData = tableData;\r\n                    this.loading = false;\r\n                });\r\n                this.axios.get('/guanqu/shuikushuiqing/gis').then((res)=>{\r\n                    var tableData = new Array();\r\n                    res.data.features.forEach((val, index, array) => {\r\n                        if (val.rowinfo.RZ==0.000) {\r\n                            val.rowinfo.RZ='';\r\n                        }else{\r\n                            val.rowinfo.RZ = this.Z_Filter(val.rowinfo.RZ);\r\n                        }\r\n                        tableData.push(val.rowinfo);\r\n                    });\r\n                    this.shuikuData = tableData;\r\n                    this.loading = false;\r\n                    // console.log(tableData);\r\n                });\r\n                this.axios.get('/guanqu/gongkuang/gis').then((res)=>{\r\n                    var tableData = new Array();\r\n                    res.data.features.forEach((val, index, array) => {\r\n                        if (val.rowinfo.vol==0.00) {\r\n                            val.rowinfo.vol='';\r\n                        }else{\r\n                            val.rowinfo.vol = this.Z_Filter(val.rowinfo.vol,1);\r\n                        }\r\n                        tableData.push(val.rowinfo);\r\n                    });\r\n                    this.gongkuangData = tableData;\r\n                    // console.log(tableData);\r\n                    this.loading = false;\r\n                });\r\n            },\r\n            // 水位过滤器\r\n            Z_Filter(Z, figure) {\r\n                if (Z) {\r\n                    var Z = parseFloat(Z);\r\n\r\n                    if (Z !== 0) {\r\n                        return Z.toFixed(figure || 2);\r\n                    }\r\n                    return '';\r\n                } else {\r\n                    return ''\r\n                }\r\n\r\n            },\r\n            //绘画Echart图\r\n            drawchart() {\r\n              var achart = this.$echarts.init(this.$refs.achart);\r\n              console.log(achart);\r\n              achart.resize();\r\n              achart.setOption({\r\n                title: { text: \"\" },\r\n                tooltip : {\r\n                        trigger: 'axis'\r\n                    },\r\n                    toolbox: {\r\n                        show : true,\r\n                        feature : {\r\n                            mark : {show: true},\r\n                            dataView : {show: true, readOnly: false},\r\n\r\n                            restore : {show: true},\r\n                            saveAsImage : {show: true}\r\n                        }\r\n                    },\r\n                    calculable : true,\r\n                    legend: {\r\n                        data:['雨量',]\r\n                    },\r\n                    xAxis : [\r\n                        {\r\n                            type : 'category',\r\n                            data : this.form.STNM,\r\n                        }\r\n                    ],\r\n                    yAxis : [\r\n                        {\r\n                            type : 'value',\r\n                            name : '雨量',\r\n                            axisLabel : {\r\n                                formatter: '{value} mm'\r\n                            },\r\n\r\n                        },\r\n                    ],\r\n                    series : [\r\n\r\n                        {\r\n                            name:'雨量',\r\n                            type:'bar',\r\n                            data:this.form.P,\r\n                            barWidth:20,\r\n                        },\r\n                    ],\r\n                    itemStyle: {\r\n                        color: '#2d8cf0',\r\n                    }\r\n              });\r\n            },\r\n            //获取默认时间\r\n            getinittime(){\r\n              var date = new Date();\r\n              var YR = date.getFullYear();\r\n              var MON = date.getMonth()+1\r\n              var datearray = new Array();\r\n              if (parseInt(MON)<10) {\r\n                MON = `0${MON}`;\r\n              }\r\n              var Day = date.getDate();\r\n              if (parseInt(Day)<10) {\r\n                Day = `0${Day}`;\r\n              }\r\n              var Hour = date.getHours();\r\n              if (parseInt(Hour)<10) {\r\n                Hour = `0${Hour}`;\r\n              }\r\n              if (date.getHours()<8) {\r\n                 //昨天的时间\r\n                var day1 = new Date();\r\n                day1.setTime(day1.getTime()-24*60*60*1000);\r\n                day1.setHours(8);\r\n                day1.setMinutes(0);\r\n                day1.setSeconds(0);\r\n                var Hour2 = day1.getHours();\r\n                var MON2 = day1.getMonth()+1;\r\n                var DAY2 = day1.getDate();\r\n                if (parseInt(Hour2)<10) {\r\n                  Hour2 = `0${Hour2}`;\r\n                }\r\n                if (parseInt(MON2)<10) {\r\n                  MON2 = `0${MON2}`;\r\n                }\r\n                if (parseInt(DAY2)<10) {\r\n                  DAY2 = `0${DAY2}`;\r\n                }\r\n                var s1 = `${day1.getFullYear()}-${MON2}-${DAY2} ${Hour2}:00:00`\r\n                datearray[0] = s1;\r\n                datearray[1] = `${YR}-${MON}-${Day} ${date.getHours()}:00:00`;\r\n                console.log('time1',s1,'time2',datearray[1]);\r\n              }else{\r\n                datearray[0] = `${YR}-${MON}-${Day} 08:00:00`;\r\n                datearray[1] = `${YR}-${MON}-${Day} ${Hour}:00:00`;\r\n              }\r\n              this.form.starttime = datearray[0];\r\n              this.form.overtime = datearray[1];\r\n            },\r\n            routerLink() {\r\n                this.$router.push({path: '/main'});\r\n            },\r\n            drawLine() {\r\n                //基于准本好的DOM，初始化echarts实例\r\n                let chartmainbar = this.$echarts.init(document.getElementById(\"chartmainbar\"));\r\n                //绘制图表\r\n                chartmainbar.setOption(this.option1);\r\n                //点击事件\r\n                chartmainbar.on('click', function (params) {\r\n                    console.log(params);\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .ivu-layout-header {\r\n        background: #409EFF;\r\n        padding: 0 20px;\r\n        height: 64px;\r\n        line-height: 64px;\r\n    }\r\n\r\n    .ivu-menu-dark {\r\n        background: #409EFF;\r\n    }\r\n\r\n    .ivu-icon {\r\n        color: #fff;\r\n        font-size: 34px;\r\n    }\r\n\r\n    .ivu-menu-horizontal {\r\n        line-height: 64px;\r\n    }\r\n\r\n    .layout {\r\n        background: #f5f7f9;\r\n        position: relative;\r\n        /*border-radius: 4px;*/\r\n        overflow: hidden;\r\n        width: 100%;\r\n        padding-bottom: 40px;\r\n    }\r\n\r\n    .layout-logo {\r\n        float: left;\r\n        color: #fff;\r\n        font-size: 24px;\r\n        margin-left: 25px;\r\n    }\r\n\r\n    .layout-nav {\r\n        margin: 0 auto;\r\n        float: right;\r\n        color: #fff;\r\n    }\r\n\r\n    .m-message {\r\n        line-height: 26px;\r\n        margin-top: 8px;\r\n    }\r\n\r\n    .layout-footer-center {\r\n        text-align: center;\r\n        background-color: #fff;\r\n    }\r\n\r\n    .m-icon .ivu-icon {\r\n        color: #409EFF;\r\n        font-size: 54px;\r\n        border: 1px solid #ececec;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        padding: 5px;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .m-icon .ivu-icon:hover {\r\n        box-shadow: 0 1px 20px rgba(74, 74, 74, 0.1);\r\n        border: 1px solid #fff;\r\n    }\r\n\r\n    .code-row-bg .ivu-col {\r\n        text-align: center;\r\n        font-size: 18px;\r\n    }\r\n\r\n    .m-content {\r\n        max-width: 1200px;\r\n        min-width: 920px;\r\n        margin: auto;\r\n    }\r\n\r\n    @media ( max-width: 1240px ) {\r\n        .m-content {\r\n            margin: 0 20px;\r\n        }\r\n    }\r\n\r\n    @media ( min-width: 1920px ) {\r\n        .m-content {\r\n            max-width: 1600px;\r\n            width: calc( 100vw - 720px );\r\n        }\r\n    }\r\n\r\n    .m-card {\r\n        min-height: 390px;\r\n    }\r\n\r\n    @media ( max-width: 1240px ) {\r\n        .m-card {\r\n            height: calc(((100vw - 40px) / 2 - 10px) * 36 / 59);\r\n            min-height: calc(450px * 36 / 59);\r\n        }\r\n    }\r\n\r\n    @media ( min-width: 1920px ) {\r\n        .m-card {\r\n            height: calc((100vw - 720px) / 2 * 36 / 59);\r\n            max-height: calc((1600px / 2 - 10px) * 36 / 59);\r\n        }\r\n    }\r\n\r\n    .row-user {\r\n        margin-top: 10px;\r\n        margin-left: 120px;\r\n        font-size: 16px;\r\n    }\r\n\r\n    .row-pwd {\r\n        margin-top: 20px;\r\n        margin-left: 40px;\r\n    }\r\n</style>\r\n\r\n\r\n"]}]}