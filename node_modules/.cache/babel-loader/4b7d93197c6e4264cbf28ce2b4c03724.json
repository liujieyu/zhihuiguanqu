{"remainingRequest":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\huangcaiplace\\zhihuiguanqu\\src\\assets\\commonJS\\GetDataMethods.js","dependencies":[{"path":"D:\\huangcaiplace\\zhihuiguanqu\\src\\assets\\commonJS\\GetDataMethods.js","mtime":1577669403925},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport FilterMethods from './FilterMethods';\nvar GetDataMethods = {\n  methods: {\n    // 获取行政区划数据\n    getTableData_WRP_AD_B: function getTableData_WRP_AD_B(callback) {\n      this.axios.get('/guanqu/gis/system_info').then(function (res) {\n        var data = res.data.WRP_AD_B;\n        var citys = new Array();\n        data.forEach(function (val, index, array) {\n          if (val.UP_ADCD == \"650000000000\") {\n            val.value = val.AD_CD;\n            val.label = val.AD_NM;\n            val.title = val.AD_NM;\n            citys.push(val);\n          }\n        });\n        var lg = 0; // 获取孩子的递归方法\n\n        function getChildren(array, data) {\n          array.forEach(function (parent) {\n            var children = new Array();\n            data.forEach(function (val, index, array) {\n              if (val.UP_ADCD == parent.AD_CD) {\n                val.value = val.AD_CD;\n                val.label = val.AD_NM;\n                val.title = val.AD_NM;\n                children.push(val);\n              }\n            });\n\n            if (children.length > 0) {\n              lg = lg + children.length;\n              parent.children = children;\n              return getChildren(parent.children, data);\n            }\n          }); // // 剩余的data\n          // data = data.map((val, index) => {\n          //     val.value = val.AD_CD;\n          //     val.label = val.AD_NM;\n          //     val.title = val.AD_NM;\n          //     return val;\n          // })\n\n          return array;\n        }\n\n        citys = getChildren(citys, data);\n        console.log(\"获取行政区划数据\", citys);\n\n        if (typeof callback == \"function\") {\n          callback(citys);\n        }\n      });\n    },\n    // 获取输排水渠道数据\n    getTableData_WRP_IrrBTCanalSystem: function getTableData_WRP_IrrBTCanalSystem(callback) {\n      this.axios.get('/guanqu/admin/WRP_IrrBTCanalSystem?_page_size=999999').then(function (res) {\n        var data = res.data.list;\n        var qudaoList = new Array();\n        data.forEach(function (val, index, array) {\n          if (!val.Upper_Canal_Code || val.Upper_Canal_Code == -1) {\n            val.value = val.Canal_Code;\n            val.label = val.Canal_Name;\n            val.title = val.Canal_Name;\n            qudaoList.push(val);\n          }\n        }); // 获取孩子的递归方法\n\n        function getChildren(array, data) {\n          array.forEach(function (parent) {\n            var children = new Array();\n            data.forEach(function (val, index, array) {\n              if (val.Upper_Canal_Code == parent.Canal_Code) {\n                val.value = val.Canal_Code;\n                val.label = val.Canal_Name;\n                val.title = val.Canal_Name;\n                children.push(val);\n              }\n            });\n\n            if (children.length > 0) {\n              parent.children = children;\n              return getChildren(parent.children, data);\n            }\n          });\n          return array;\n        }\n\n        qudaoList = getChildren(qudaoList, data);\n\n        if (typeof callback == \"function\") {\n          callback(qudaoList);\n        }\n      });\n    },\n    // 获取输排水渠道树数据\n    getTableData_qudao_tree: function getTableData_qudao_tree(callback) {\n      this.axios.get('/guanqu/table/xingzhen_tree').then(function (res) {\n        var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n\n        if (typeof callback == \"function\") {\n          callback(ganQuList);\n        }\n      });\n    },\n    // 获取灵活字段表数据\n    getTableData_WPR_FieldInfo: function getTableData_WPR_FieldInfo(body, callback) {\n      this.axios.get(\"/guanqu/admin/WRP_FieldInfo\", {\n        params: body\n      }).then(function (res) {\n        // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n        var data = res.data.list;\n        data = data.map(function (val) {\n          val.value = val.Field; // 值\n\n          val.label = val.FieldName; // 名字\n\n          return val;\n        });\n\n        if (typeof callback == \"function\") {\n          callback(data);\n        }\n      });\n    },\n    // 获取水库等级数据\n    getTableData_WPR_FieldInfo_LEVEL: function getTableData_WPR_FieldInfo_LEVEL(body, callback) {\n      this.axios.get(\"/guanqu/admin/ShuiKuLevle\", {\n        params: body\n      }).then(function (res) {\n        // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n        var data = res.data.list;\n        data = data.map(function (val) {\n          val.value = val.Field; // 值\n\n          val.label = val.FieldName; // 名字\n\n          return val;\n        });\n\n        if (typeof callback == \"function\") {\n          callback(data);\n        }\n      });\n    },\n    // 获取距离现在XX天/小时的时间\n    getTimeAgo: function getTimeAgo(type, time) {\n      var presentDate = new Date();\n      presentDate = presentDate.valueOf();\n\n      switch (type) {\n        case \"day\":\n          var newDate = presentDate - time * 24 * 60 * 60 * 1000;\n          break;\n\n        case \"history\":\n          var newDate = presentDate - time * 60 * 60 * 1000;\n          break;\n      }\n\n      if (type == \"hour\") {\n        return time; // return `${Hours}:${Minutes}`;\n      }\n\n      newDate = new Date(newDate);\n      var FullYear = newDate.getFullYear();\n      var Month = newDate.getMonth() + 1;\n      var Day = newDate.getDate();\n      var Hours = newDate.getHours();\n      var Minutes = newDate.getMinutes();\n      return \"\".concat(FullYear, \"-\").concat(Month, \"-\").concat(Day, \" \").concat(Hours, \":\").concat(Minutes);\n    },\n    // 获取今天日期(xxxx-xx-xx 00:00)\n    getTodayDate: function getTodayDate() {\n      var todayDate = new Date();\n      var FullYear = todayDate.getFullYear();\n      var Month = todayDate.getMonth() + 1;\n      var Day = todayDate.getDate();\n      return \"\".concat(FullYear, \"-\").concat(Month, \"-\").concat(Day, \" 00:00\");\n    },\n    // 获取今天零点的时间\n    zeroPointOfTheDay: function zeroPointOfTheDay() {\n      var date = new Date();\n      date.setHours(0);\n      date.setMinutes(0);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      return date;\n    },\n    // 获取今天X点的时间\n    xPointOfTheDay: function xPointOfTheDay(number) {\n      var date = new Date();\n      date.setHours(number);\n      date.setMinutes(0);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      return date;\n    },\n    // 获取今天零点到今天现在的时间段 (数组)\n    zeroPointToNowOfTheDay: function zeroPointToNowOfTheDay() {\n      var start = GetDataMethods.methods.zeroPointOfTheDay();\n      var end = new Date();\n      var timeSlot = [start, end];\n      return timeSlot;\n    },\n    // 获取今天 x 点到今天现在的时间段 (数组)\n    xPointToNowOfTheDay: function xPointToNowOfTheDay(number) {\n      var start = GetDataMethods.methods.xPointOfTheDay(number);\n      var end = new Date();\n      var timeSlot = [start, end];\n      return timeSlot;\n    }\n  }\n};\nexport default GetDataMethods;",{"version":3,"sources":["D:\\huangcaiplace\\zhihuiguanqu\\src\\assets\\commonJS\\GetDataMethods.js"],"names":["FilterMethods","GetDataMethods","methods","getTableData_WRP_AD_B","callback","axios","get","then","res","data","WRP_AD_B","citys","Array","forEach","val","index","array","UP_ADCD","value","AD_CD","label","AD_NM","title","push","lg","getChildren","parent","children","length","console","log","getTableData_WRP_IrrBTCanalSystem","list","qudaoList","Upper_Canal_Code","Canal_Code","Canal_Name","getTableData_qudao_tree","ganQuList","QuDao_Tree_Filter","getTableData_WPR_FieldInfo","body","params","map","Field","FieldName","getTableData_WPR_FieldInfo_LEVEL","getTimeAgo","type","time","presentDate","Date","valueOf","newDate","FullYear","getFullYear","Month","getMonth","Day","getDate","Hours","getHours","Minutes","getMinutes","getTodayDate","todayDate","zeroPointOfTheDay","date","setHours","setMinutes","setSeconds","setMilliseconds","xPointOfTheDay","number","zeroPointToNowOfTheDay","start","end","timeSlot","xPointToNowOfTheDay"],"mappings":"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","sourcesContent":["import FilterMethods from './FilterMethods'\r\nvar GetDataMethods = {\r\n    methods: {\r\n        // 获取行政区划数据\r\n        getTableData_WRP_AD_B(callback) {\r\n            this.axios.get('/guanqu/gis/system_info')\r\n                .then(res => {\r\n                    var data = res.data.WRP_AD_B;\r\n\r\n                    var citys = new Array();\r\n\r\n\r\n                    data.forEach((val, index, array) => {\r\n                        if (val.UP_ADCD == \"650000000000\") {\r\n                            val.value = val.AD_CD;\r\n                            val.label = val.AD_NM;\r\n                            val.title = val.AD_NM;\r\n                            citys.push(val);\r\n                        }\r\n                    })\r\n\r\n                    var lg = 0\r\n\r\n\r\n\r\n                    // 获取孩子的递归方法\r\n                    function getChildren(array, data) {\r\n\r\n                        array.forEach(parent => {\r\n                            var children = new Array();\r\n                            data.forEach((val, index, array) => {\r\n                                if (val.UP_ADCD == parent.AD_CD) {\r\n                                    val.value = val.AD_CD;\r\n                                    val.label = val.AD_NM;\r\n                                    val.title = val.AD_NM;\r\n                                    children.push(val);\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n                            if (children.length > 0) {\r\n                                lg = lg + children.length;\r\n                                parent.children = children;\r\n                                return getChildren(parent.children, data);\r\n                            }\r\n\r\n\r\n                        })\r\n                        // // 剩余的data\r\n                        // data = data.map((val, index) => {\r\n                        //     val.value = val.AD_CD;\r\n                        //     val.label = val.AD_NM;\r\n                        //     val.title = val.AD_NM;\r\n                        //     return val;\r\n                        // })\r\n\r\n\r\n                        return array;\r\n\r\n                    }\r\n\r\n                    citys = getChildren(citys, data);\r\n\r\n\r\n                    console.log(\"获取行政区划数据\",citys)\r\n                    if (typeof callback == \"function\") {\r\n\r\n                        callback(citys);\r\n                    }\r\n                })\r\n        },\r\n        // 获取输排水渠道数据\r\n        getTableData_WRP_IrrBTCanalSystem(callback) {\r\n            this.axios.get('/guanqu/admin/WRP_IrrBTCanalSystem?_page_size=999999')\r\n                .then(res => {\r\n                    var data = res.data.list;\r\n                    var qudaoList = new Array();\r\n\r\n                    data.forEach((val, index, array) => {\r\n                        if (!val.Upper_Canal_Code || val.Upper_Canal_Code == -1) {\r\n                            val.value = val.Canal_Code;\r\n                            val.label = val.Canal_Name;\r\n                            val.title = val.Canal_Name;\r\n                            qudaoList.push(val);\r\n                        }\r\n                    })\r\n\r\n                    // 获取孩子的递归方法\r\n                    function getChildren(array, data) {\r\n\r\n                        array.forEach(parent => {\r\n                            var children = new Array();\r\n                            data.forEach((val, index, array) => {\r\n                                if (val.Upper_Canal_Code == parent.Canal_Code) {\r\n                                    val.value = val.Canal_Code;\r\n                                    val.label = val.Canal_Name;\r\n                                    val.title = val.Canal_Name;\r\n                                    children.push(val);\r\n\r\n                                }\r\n\r\n                            })\r\n\r\n                            if (children.length > 0) {\r\n                                parent.children = children;\r\n                                return getChildren(parent.children, data);\r\n                            }\r\n\r\n\r\n                        })\r\n\r\n\r\n\r\n                        return array;\r\n\r\n                    }\r\n\r\n                    qudaoList = getChildren(qudaoList, data);\r\n                    if (typeof callback == \"function\") {\r\n                        callback(qudaoList);\r\n                    }\r\n                })\r\n        },\r\n        // 获取输排水渠道树数据\r\n        getTableData_qudao_tree(callback) {\r\n            this.axios.get('/guanqu/table/xingzhen_tree')\r\n                .then(res => {\r\n                    var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\r\n\r\n                    if (typeof callback == \"function\") {\r\n                        callback(ganQuList)\r\n                    }\r\n                })\r\n        },\r\n        // 获取灵活字段表数据\r\n        getTableData_WPR_FieldInfo(body,callback) {\r\n            this.axios.get(`/guanqu/admin/WRP_FieldInfo`,{\r\n                params: body\r\n            })\r\n                .then(res => {\r\n                    // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\r\n                    var data = res.data.list;\r\n                    data = data.map((val) => {\r\n                        val.value = val.Field; // 值\r\n                        val.label = val.FieldName; // 名字\r\n                        return val;\r\n                    })\r\n                    if (typeof callback == \"function\") {\r\n                        callback(data)\r\n                    }\r\n                })\r\n        },\r\n        // 获取水库等级数据\r\n        getTableData_WPR_FieldInfo_LEVEL(body,callback) {\r\n            this.axios.get(`/guanqu/admin/ShuiKuLevle`,{\r\n                params: body\r\n            })\r\n                .then(res => {\r\n                    // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\r\n                    var data = res.data.list;\r\n                    data = data.map((val) => {\r\n                        val.value = val.Field; // 值\r\n                        val.label = val.FieldName; // 名字\r\n                        return val;\r\n                    })\r\n                    if (typeof callback == \"function\") {\r\n                        callback(data)\r\n                    }\r\n                })\r\n        },\r\n        // 获取距离现在XX天/小时的时间\r\n        getTimeAgo(type, time) {\r\n            var presentDate = new Date();\r\n            presentDate = presentDate.valueOf();\r\n            switch (type) {\r\n                case \"day\":\r\n                var newDate = presentDate - time * 24 * 60 * 60 * 1000;\r\n                    break;\r\n                case \"history\":\r\n                var newDate = presentDate - time * 60 * 60 * 1000;\r\n                    break;\r\n            }\r\n\r\n            if (type == \"hour\") {\r\n                return time;\r\n                // return `${Hours}:${Minutes}`;\r\n            }\r\n\r\n            newDate = new Date(newDate);\r\n\r\n\r\n            var FullYear = newDate.getFullYear();\r\n            var Month = newDate.getMonth() + 1;\r\n            var Day = newDate.getDate();\r\n            var Hours = newDate.getHours();\r\n            var Minutes = newDate.getMinutes();\r\n\r\n\r\n\r\n            return `${FullYear}-${Month}-${Day} ${Hours}:${Minutes}`;\r\n        },\r\n        // 获取今天日期(xxxx-xx-xx 00:00)\r\n        getTodayDate() {\r\n            var todayDate = new Date();\r\n            var FullYear = todayDate.getFullYear();\r\n            var Month = todayDate.getMonth() + 1;\r\n            var Day = todayDate.getDate();\r\n\r\n            return `${FullYear}-${Month}-${Day} 00:00`;\r\n        },\r\n        // 获取今天零点的时间\r\n        zeroPointOfTheDay() {\r\n            var date = new Date();\r\n            date.setHours(0);\r\n            date.setMinutes(0);\r\n            date.setSeconds(0);\r\n            date.setMilliseconds(0);\r\n            return date;\r\n        },\r\n        // 获取今天X点的时间\r\n        xPointOfTheDay(number) {\r\n            var date = new Date();\r\n            date.setHours(number);\r\n            date.setMinutes(0);\r\n            date.setSeconds(0);\r\n            date.setMilliseconds(0);\r\n            return date;\r\n        },\r\n        // 获取今天零点到今天现在的时间段 (数组)\r\n        zeroPointToNowOfTheDay() {\r\n            var start = GetDataMethods.methods.zeroPointOfTheDay();\r\n            var end = new Date();\r\n\r\n            var timeSlot = [start, end];\r\n\r\n            return timeSlot;\r\n        },\r\n        // 获取今天 x 点到今天现在的时间段 (数组)\r\n        xPointToNowOfTheDay(number) {\r\n            var start = GetDataMethods.methods.xPointOfTheDay(number);\r\n            var end = new Date();\r\n\r\n            var timeSlot = [start, end];\r\n\r\n            return timeSlot;\r\n        },\r\n    }\r\n}\r\n\r\nexport default GetDataMethods\r\n"]}]}