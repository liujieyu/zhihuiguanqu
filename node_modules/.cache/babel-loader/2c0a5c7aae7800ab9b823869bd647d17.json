{"remainingRequest":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\huangcaiplace\\zhihuiguanqu\\src\\components\\Details\\Details-tuxiangzhan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huangcaiplace\\zhihuiguanqu\\src\\components\\Details\\Details-tuxiangzhan.vue","mtime":1577669404027},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { setTimeout } from \"timers\";\nimport FilterMethods from \"../../assets/commonJS/FilterMethods\"; // 过滤方法\n\nimport GetDataMethods from \"../../assets/commonJS/GetDataMethods\"; // 获取数据方法\n\nimport { timingSafeEqual } from \"crypto\";\nexport default {\n  props: {\n    info: {}\n  },\n  data: function data() {\n    return {\n      //\n      activeName: \"tuxiang\",\n      siteInfo: {},\n      //   多选框对象\n      checkBox: {\n        shuiqingList: [{\n          value: \"historyTable\",\n          size: \"large\",\n          // iconType: \"logo-facebook\",\n          title: \"历史表\"\n        }, {\n          value: \"hourTable\",\n          size: \"large\",\n          // iconType: \"logo-facebook\",\n          title: \"小时表\"\n        }, {\n          value: \"dayTable\",\n          size: \"large\",\n          // iconType: \"logo-facebook\",\n          title: \"日表\"\n        }, {\n          value: \"nightTable\",\n          size: \"large\",\n          // iconType: \"logo-facebook\",\n          title: \"月表\"\n        }],\n        // 水情多选框绑定值\n        shuiqing_social: [\"historyTable\", \"hourTable\", \"dayTable\", \"nightTable\"]\n      },\n      //   选择框对象\n      select: {\n        searchList: [{\n          value: \"quick\",\n          label: \"快速查询\"\n        }, {\n          value: \"vague\",\n          label: \"模糊查询\"\n        }]\n      },\n      // 表格数据\n      table: {\n        // 图像\n        tuxiang: {\n          // 日期时间选择器的选项配置\n          datePickerOptions: {\n            shortcuts: [{\n              text: \"最近6小时\",\n              onClick: function onClick(picker) {\n                var end = new Date();\n                var start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 6);\n                picker.$emit(\"pick\", [start, end]);\n              }\n            }, {\n              text: \"最近12小时\",\n              onClick: function onClick(picker) {\n                var end = new Date();\n                var start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 12);\n                picker.$emit(\"pick\", [start, end]);\n              }\n            }, {\n              text: \"最近24小时\",\n              onClick: function onClick(picker) {\n                var end = new Date();\n                var start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24);\n                picker.$emit(\"pick\", [start, end]);\n              }\n            }, {\n              text: \"最近36小时\",\n              onClick: function onClick(picker) {\n                var end = new Date();\n                var start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 36);\n                picker.$emit(\"pick\", [start, end]);\n              }\n            }, {\n              text: \"最近72小时\",\n              onClick: function onClick(picker) {\n                var end = new Date();\n                var start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 72);\n                picker.$emit(\"pick\", [start, end]);\n              }\n            }]\n          },\n          // 日期时间选择器类型\n          datePickerType: \"datetimerange\",\n          // 日期时间选择器值\n          date: null,\n          // 表格是否加载中\n          loading: false,\n          // 当前页\n          currentPage: 1,\n          // 每页显示数量\n          pageSizes: 20,\n          // 总条数\n          total: true,\n          Rows: [// {\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\n            // },\n            // {\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\n            // },\n            // {\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\n            // },\n            // {\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\n            // },\n          ]\n        }\n      },\n      //   日期数据\n      date: {\n        shuiqing: \"\"\n      },\n      // 输入框对象\n      input: {\n        // 关系曲线换算的\n        huansuan: {\n          waterLever: \"\",\n          flowLever: \"\"\n        }\n      },\n      //   列表对象\n      list: {\n        imageList: [{\n          imgUrl: \"img/shuizha.9d256eb4.jpg\"\n        }]\n      },\n      //   导出按钮加载控制\n      outPutLoading: false,\n      //   导出确认对话框控制\n      outPutModal: false,\n      // 区域加载控制\n      boxLoading: false\n    };\n  },\n  mixins: [FilterMethods, GetDataMethods],\n  methods: {\n    handleSizeChange: function handleSizeChange() {},\n    handleCurrentChange: function handleCurrentChange() {},\n    //   导出站点信息\n    outPutSiteInfo: function outPutSiteInfo() {\n      var _this = this;\n\n      //   关闭导出确认对话框\n      this.outPutModal = false; //   按钮加载\n\n      this.outPutLoading = true;\n      setTimeout(function () {\n        _this.outPutLoading = false;\n\n        _this.$Modal.success({\n          title: \"关于导出\",\n          content: \"站点信息表导出成功\"\n        });\n      }, 500);\n    },\n    //   确认导出\n    outPutSure: function outPutSure() {\n      this.outPutSiteInfo();\n    },\n    // 搜索\n    search: function search() {\n      var _this2 = this;\n\n      // 表格加载中\n      this.table.loading = true;\n      setTimeout(function () {\n        // var newList = this.featrue.Rows.map((val, index) => {\n        //   return val.attributes;\n        // });\n        // this.table.Rows = newList;\n        // 取消表格加载\n        _this2.table.loading = false;\n      }, 1000);\n    },\n    // 加载表格数据\n    loadTableData: function loadTableData(list, data) {\n      this.table[list].Rows = data;\n    },\n    // 加载站点数据\n    loadSiteData: function loadSiteData(data) {\n      this.siteInfo = data;\n    },\n    // 根据行政区划编码获取行政区划\n    getCompartmentByADDVCD: function getCompartmentByADDVCD(callback) {\n      var ADDVCD = this.info.rowinfo.ADDVCD;\n\n      if (ADDVCD && ADDVCD != \"\") {\n        this.axios.get(\"/guanqu/admin/WRP_AD_B\", {\n          params: {\n            AD_CD: ADDVCD\n          }\n        }).then(function (res) {\n          var data = res.data.rows;\n\n          if (typeof callback == \"function\") {\n            callback(data);\n          }\n        });\n      }\n    },\n    // 查询历史图像数据\n    search_tuxiang: function search_tuxiang() {\n      var _this3 = this;\n\n      this.$TableMethods.tableLoading(this.table.tuxiang); // 传递站码参数\n\n      var body = {\n        STCD: this.siteInfo.STCD,\n        _page: this.table.tuxiang.currentPage,\n        _page_size: this.table.tuxiang.pageSizes,\n        _orderby: \"TM desc\"\n      }; // 如果有选择日期进行查询，根据表格类型传递参数\n\n      if (this.table.tuxiang.date) {\n        var DTT = this.$FilterData.elDatePicker_Filter(this.table.tuxiang.date, \"include_seconds\").split(\",\");\n        body.Time_min = DTT[1];\n        body.Time_max = DTT[2];\n      }\n\n      this.$GetData.Survey_History_TX(body, true, function (data) {\n        _this3.$TableMethods.setTableTotal(_this3.table.tuxiang, data.total);\n\n        _this3.$TableMethods.setTableData(_this3.table.tuxiang, data.data);\n\n        _this3.$TableMethods.cancelTableLoading(_this3.table.tuxiang);\n      });\n    },\n    // 处理页码切换_图像\n    handleCurrentChange_tuxiang: function handleCurrentChange_tuxiang(index) {\n      this.table[\"tuxiang\"].currentPage = index;\n      this.search_tuxiang();\n    },\n    // 处理每页显示条数切换_水情数据\n    handleSizeChange_tuxiang: function handleSizeChange_tuxiang(pageSizes) {\n      this.table[\"tuxiang\"].pageSizes = pageSizes;\n      this.table[\"tuxiang\"].currentPage = 1;\n      this.search_tuxiang();\n    },\n    // 设置图像历史表默认查询日期\n    setTableDefaultDate_tuxiang: function setTableDefaultDate_tuxiang() {\n      var end = new Date();\n      var start = zeroPointOfTheDay();\n      var timeSlot = [start, end];\n      this.table.tuxiang.date = timeSlot; // this.setTableDate(\"tuxiang\", timeSlot);\n\n      function zeroPointOfTheDay() {\n        var date = new Date();\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n      }\n    },\n    // 处理日期时间选择器确定事件_图像\n    handleDatePickerChange_tuxiang: function handleDatePickerChange_tuxiang(item) {\n      this.table.tuxiang.currentPage = 1;\n      this.search_tuxiang();\n    },\n    // 设置 xx表格 时间选择器值\n    setTableDate: function setTableDate(tableName, val) {\n      this.table[tableName].date = val;\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    // //设置默认时间\n    // var newdate = new Array();\n    // var end = new Date();\n    // var start = new Date();\n    // var Month = start.getMonth()+1;\n    // newdate[0] = start.getFullYear()+'-'+Month+'-'+start.getDate()+' 00:00:00.000';\n    // newdate[1] = end;\n    // this.table.tuxiang.date = newdate;\n    // 区域加载中\n    this.boxLoading = true; // console.log(\"图像\",this.info)\n\n    this.getCompartmentByADDVCD(function (data) {\n      _this4.siteInfo.AD_NM = data[0].AD_NM;\n    }); // 根据河流编码获取河流名\n\n    this.$GetData.Base_R_I({\n      RVCD: this.info.rowinfo.RVCD\n    }, true, function (data) {\n      _this4.siteInfo.RVCD = data.data[0].RVNM;\n    }); // 根据流域编码获取流域名\n\n    this.$GetData.Base_B_I({\n      CTCD: this.info.rowinfo.CTCD\n    }, true, function (data) {\n      _this4.siteInfo.CTCD = data.data[0].CTNM;\n    }); // 获取详情数据\n\n    this.loadSiteData(this.info);\n    setTimeout(function () {\n      _this4.boxLoading = false;\n    }, 500); // 设置图像历史表默认查询日期\n\n    this.setTableDefaultDate_tuxiang(); // 查询图像历史表数据\n\n    this.search_tuxiang(); // this.axios.get(`/guanqu/gis/details?ID=${this.info.ID}`).then(res => {\n    //   // 加载站点数据\n    //   // this.loadSiteData(res.data);\n    //   // 加载取消\n    //   this.boxLoading = false;\n    // });\n  }\n};",{"version":3,"sources":["Details-tuxiangzhan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-loading=\"boxLoading\">\r\n    <el-tabs v-model=\"activeName\" type=\"border-card\">\r\n      <!-- 站点信息 -->\r\n      <el-tab-pane name=\"zhandianxinxi\">\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-tickets\"></i> 站点信息\r\n        </span>\r\n        <div class=\"drawer-profile\">\r\n          <!-- 导出按钮 -->\r\n          <Button size=\"small\" class=\"outPutButton\" type=\"success\" @click=\"$App.developing_tip\">\r\n            <div>导出</div>\r\n          </Button>\r\n          <!-- 信息表 -->\r\n          <div>\r\n            <!-- 信息内容 -->\r\n            <div>\r\n              <!-- table start -->\r\n              <table style=\"border: 1px solid #EBEEF5\" border cellspacing=\"0\" width=\"100%\" class=\"table_detail\">\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">站名：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ siteInfo.STNM || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\" >国家定类：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ this.STTP_Filter(siteInfo.STTP) || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">等级：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ this.$FilterData.STGR_Filter(siteInfo.STGR) || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">行政区划：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ siteInfo.AD_NM || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">经度：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ siteInfo.LGTD || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">纬度：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ siteInfo.LTTD || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">站址：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ siteInfo.STLC || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">水系：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ siteInfo.HNNM || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">流域：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ siteInfo.CTCD || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">河流：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ siteInfo.RVCD || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">建站日期：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5\">{{ siteInfo.ESSTDT || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">建设单位：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ siteInfo.DLOG || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\" style=\"border-bottom: none\">录入时间：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #EBEEF5;border-bottom: none\"></td>\r\n                  <td align=\"right\" class=\"dt_name\" style=\"border-bottom: none\">图像按钮：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-bottom: none\"><Button type=\"info\" @click=\"$App.developing_tip\" size=\"small\">查看图片</Button></td>\r\n                </tr>\r\n              </table>\r\n              <!-- table end -->\r\n\r\n\r\n\r\n\r\n              <!-- <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">站名：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.STNM || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">国家定类：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ this.STTP_Filter(siteInfo.STTP) || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">等级：</Col>\r\n                <Col\r\n                  span=\"7\"\r\n                  align=\"center\"\r\n                >{{ this.$FilterData.STGR_Filter(siteInfo.STGR) || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">行政区划：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.AD_NM || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">经度：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.LGTD || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">纬度：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.LTTD || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">站址：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.STLC || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">水系：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.HNNM || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">流域：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.CTCD || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">河流：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.RVCD || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">建站日期：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.ESSTDT || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">建设单位：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.DLOG || \"&nbsp;\" }}</Col>\r\n              </Row>\r\n              <Row class=\"row\">\r\n                <Col span=\"5\" align=\"right\">隶属单位：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.ATCUNIT || \"&nbsp;\" }}</Col>\r\n                <Col span=\"5\" align=\"right\">管理单位：</Col>\r\n                <Col span=\"7\" align=\"center\">{{ siteInfo.DLOG || \"&nbsp;\" }}</Col>\r\n              </Row>-->\r\n              <!--              <Row class=\"row\">-->\r\n              <!--                <Col span=\"5\" align=\"right\">录入时间：</Col>-->\r\n              <!--                <Col-->\r\n              <!--                  span=\"7\"-->\r\n              <!--                  align=\"center\"-->\r\n              <!--                >{{ this.$FilterData.dateFilter(siteInfo.MODITIME,8) || \"&nbsp;\" }}</Col>-->\r\n              <!--                <Col span=\"5\" align=\"right\">图像按钮：</Col>-->\r\n              <!--                <Col span=\"12\" align=\"center\" style=\"border-right: 1px solid rgb(200, 200, 200); \">-->\r\n              <!--                  <Button type=\"info\" @click=\"$App.developing_tip\" size=\"small\">查看图片</Button>-->\r\n              <!--                </Col>-->\r\n              <!--              </Row>-->\r\n\r\n            </div>\r\n            <!-- 分割线 -->\r\n            <div class=\"divider\"></div>\r\n            <Row>\r\n              <el-col class=\"dt_remark\">\r\n                <Col span=\"24\">备注：{{ siteInfo.COMMENTS || \"&nbsp;\" }}</Col>\r\n              </el-col>\r\n            </Row>\r\n          </div>\r\n          <!-- 分割线 -->\r\n          <div class=\"divider\"></div>\r\n\r\n          <!-- 分割线 -->\r\n          <div class=\"divider\"></div>\r\n          <!-- 关联渠道和闸门 -->\r\n          <div>\r\n            <!-- <Row class=\"relationRow\">\r\n              <Col span=\"4\">关联要素</Col>\r\n              <Col span=\"20\">\r\n                <Button\r\n                  @click=\"$App.developing_tip\"\r\n                  v-for=\"item in siteInfo.GUANLIAN\"\r\n                >{{ item.SLNM }}</Button>\r\n                <div v-if=\"siteInfo.GUANLIAN && siteInfo.GUANLIAN.length == 0\">暂无此站点的关联要素</div>\r\n              </Col>\r\n            </Row> -->\r\n            <el-col style=\"border: 1px #EBEEF5 solid;border-radius: 2px;padding-left: 10px;padding-bottom: 20px\">\r\n              <Row class=\"relationRow\">\r\n                <Col span=\"4\">同时监测：</Col>\r\n                <Col span=\"20\">\r\n                  <!-- <Button\r\n                    @click=\"$App.developing_tip\"\r\n                    v-for=\"item in siteInfo.GUANLIAN\"\r\n                  >{{ item.SLNM }}</Button> -->\r\n                  <div ></div>\r\n                </Col>\r\n              </Row>\r\n              <Row class=\"relationRow\">\r\n                <Col span=\"4\">关联站点：</Col>\r\n                <Col span=\"20\">\r\n                  <!-- <Button\r\n                    @click=\"$App.developing_tip\"\r\n                    v-for=\"item in siteInfo.GUANLIAN\"\r\n                  >{{ item.SLNM }}</Button> -->\r\n                  <div ></div>\r\n                </Col>\r\n              </Row>\r\n              <Row class=\"relationRow\">\r\n                <Col span=\"4\">关联要素：</Col>\r\n                <Col span=\"20\">\r\n                  <!-- <Button\r\n                    @click=\"$App.developing_tip\"\r\n                    v-for=\"item in siteInfo.GUANLIAN\"\r\n                  >{{ item.SLNM }}</Button> -->\r\n                  <div ></div>\r\n                </Col>\r\n              </Row>\r\n            </el-col>\r\n\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n      <!-- 图像 -->\r\n      <el-tab-pane name=\"tuxiang\">\r\n        <span slot=\"label\">\r\n          <i class=\"el-icon-picture\"></i> 图像\r\n        </span>\r\n        <div class=\"drawer-profile\">\r\n          <!-- 导出按钮 -->\r\n          <Button size=\"small\" class=\"outPutButton\" type=\"success\" @click=\"developing_tip\">\r\n            <div>导出</div>\r\n          </Button>\r\n          <div>\r\n            <!-- 查询，导出行 -->\r\n            <Row :gutter=\"16\" type=\"flex\" align=\"center\">\r\n              <!-- 开始到结束时间选择 -->\r\n              <Col span=\"19\">\r\n                <el-date-picker\r\n                  v-model=\"table.tuxiang.date\"\r\n                  range-separator=\"至\"\r\n                  start-placeholder=\"开始日期\"\r\n                  end-placeholder=\"结束日期\"\r\n                  @change=\"handleDatePickerChange_tuxiang\"\r\n                  :picker-options=\"table.tuxiang.datePickerOptions\"\r\n                  unlink-panels\r\n                  :type=\"table.tuxiang.datePickerType\"\r\n                  size=\"mini\"\r\n                  style=\"min-width: 360px\"\r\n                ></el-date-picker>\r\n              </Col>\r\n            </Row>\r\n            <!-- 分割线 -->\r\n            <div class=\"divider\"></div>\r\n\r\n            <!-- 图片列表 -->\r\n            <div>\r\n              <Row\r\n                :gutter=\"16\"\r\n                type=\"flex\"\r\n                \r\n                style=\"height:495px; overflow:auto\"\r\n                v-loading=\"table.tuxiang.loading\"\r\n              >\r\n              <!-- justify=\"center\" -->\r\n                <!-- <Col span=\"10\" v-for=\"item in list.imageList\">\r\n                  <img :src=\"item.imgUrl\" alt>\r\n                </Col>-->\r\n                <Col v-if=\"table.tuxiang.Rows.length > 0\" span=\"10\" v-for=\"(item, index) in table.tuxiang.Rows\" style=\"position: relative;\">\r\n                  <img\r\n                    class=\"Img\"\r\n                    :src=\"item.url\"\r\n                    @click=\"$App.enlarge_img(table.tuxiang.Rows, index)\"\r\n                    width=\"210\"\r\n                    height=\"160\"\r\n                  />\r\n                </Col>\r\n                <Col v-show=\"table.tuxiang.Rows.length == 0\">\r\n                <div style=\"height:100%;display:flex;align-items:center;\">\r\n                  暂无数据\r\n                </div>\r\n                </col>\r\n                <!-- <Col span=\"10\">\r\n                  <img class=\"Img\" :src=\"`/guanqu/gis/pic_content?id=${info.STCD}`\" @click=\"$App.enlarge_img(`https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2459854756,3883213966&fm=26&gp=0.jpg`)\"  width=\"210\" height=\"160\"></img>\r\n                </Col>\r\n                <Col span=\"10\">\r\n                  <img class=\"Img\" :src=\"`/guanqu/gis/pic_content?id=${info.STCD}`\" @click=\"$App.enlarge_img(`/guanqu/gis/pic_content?id=${info.STCD}`)\"  width=\"210\" height=\"160\"></img>\r\n                </Col>\r\n                <Col span=\"10\">\r\n                  <img class=\"Img\" :src=\"`/guanqu/gis/pic_content?id=${info.STCD}`\" @click=\"$App.enlarge_img(`/guanqu/gis/pic_content?id=${info.STCD}`)\"  width=\"210\" height=\"160\"></img>\r\n                </Col>-->\r\n              </Row>\r\n              <!-- 分割线 -->\r\n              <div class=\"divider\"></div>\r\n              <!-- 分页器 -->\r\n              <el-pagination\r\n                background\r\n                :page-size=\"table.tuxiang.pageSizes\"\r\n                layout=\"sizes, total, prev, pager, next, jumper \"\r\n                :page-sizes=\"[20, 50, 100, 200]\"\r\n                :total=\"table.tuxiang.total\"\r\n                :pager-count=\"5\"\r\n                :current-page=\"table.tuxiang.currentPage\"\r\n                @current-change=\"handleCurrentChange_tuxiang\"\r\n                @size-change=\"handleSizeChange_tuxiang\"\r\n                class=\"pageController\"\r\n                small\r\n              ></el-pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <!-- 导出提示对话框 -->\r\n    <Modal\r\n      v-model=\"outPutModal\"\r\n      v-loading=\"loading\"\r\n      title=\"关于导出\"\r\n      @on-ok=\"outPutSure\"\r\n      @on-cancel=\"cancel\"\r\n    >\r\n      <p>您确认导出该站点的信息表吗？</p>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { setTimeout } from \"timers\";\r\nimport FilterMethods from \"../../assets/commonJS/FilterMethods\"; // 过滤方法\r\nimport GetDataMethods from \"../../assets/commonJS/GetDataMethods\"; // 获取数据方法\r\nimport { timingSafeEqual } from \"crypto\";\r\nexport default {\r\n  props: {\r\n    info: {}\r\n  },\r\n  data() {\r\n    return {\r\n      //\r\n      activeName: \"tuxiang\",\r\n      siteInfo: {},\r\n      //   多选框对象\r\n      checkBox: {\r\n        shuiqingList: [\r\n          {\r\n            value: \"historyTable\",\r\n            size: \"large\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"历史表\"\r\n          },\r\n          {\r\n            value: \"hourTable\",\r\n            size: \"large\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"小时表\"\r\n          },\r\n          {\r\n            value: \"dayTable\",\r\n            size: \"large\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"日表\"\r\n          },\r\n          {\r\n            value: \"nightTable\",\r\n            size: \"large\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"月表\"\r\n          }\r\n        ],\r\n        // 水情多选框绑定值\r\n        shuiqing_social: [\"historyTable\", \"hourTable\", \"dayTable\", \"nightTable\"]\r\n      },\r\n      //   选择框对象\r\n      select: {\r\n        searchList: [\r\n          {\r\n            value: \"quick\",\r\n            label: \"快速查询\"\r\n          },\r\n          {\r\n            value: \"vague\",\r\n            label: \"模糊查询\"\r\n          }\r\n        ]\r\n      },\r\n      // 表格数据\r\n      table: {\r\n        // 图像\r\n        tuxiang: {\r\n          // 日期时间选择器的选项配置\r\n          datePickerOptions: {\r\n            shortcuts: [\r\n              {\r\n                text: \"最近6小时\",\r\n                onClick(picker) {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 6);\r\n                  picker.$emit(\"pick\", [start, end]);\r\n                }\r\n              },\r\n              {\r\n                text: \"最近12小时\",\r\n                onClick(picker) {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 12);\r\n                  picker.$emit(\"pick\", [start, end]);\r\n                }\r\n              },\r\n              {\r\n                text: \"最近24小时\",\r\n                onClick(picker) {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 24);\r\n                  picker.$emit(\"pick\", [start, end]);\r\n                }\r\n              },\r\n              {\r\n                text: \"最近36小时\",\r\n                onClick(picker) {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 36);\r\n                  picker.$emit(\"pick\", [start, end]);\r\n                }\r\n              },\r\n              {\r\n                text: \"最近72小时\",\r\n                onClick(picker) {\r\n                  const end = new Date();\r\n                  const start = new Date();\r\n                  start.setTime(start.getTime() - 3600 * 1000 * 72);\r\n                  picker.$emit(\"pick\", [start, end]);\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          // 日期时间选择器类型\r\n          datePickerType: \"datetimerange\",\r\n          // 日期时间选择器值\r\n          date: null,\r\n          // 表格是否加载中\r\n          loading: false,\r\n          // 当前页\r\n          currentPage: 1,\r\n          // 每页显示数量\r\n          pageSizes: 20,\r\n          // 总条数\r\n          total: true,\r\n          Rows: [\r\n            // {\r\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\r\n            // },\r\n            // {\r\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\r\n            // },\r\n            // {\r\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\r\n            // },\r\n            // {\r\n            //   url: `/guanqu/gis/pic_content?id=${info.STCD}`\r\n            // },\r\n          ]\r\n        }\r\n      },\r\n      //   日期数据\r\n      date: {\r\n        shuiqing: \"\"\r\n      },\r\n      // 输入框对象\r\n      input: {\r\n        // 关系曲线换算的\r\n        huansuan: {\r\n          waterLever: \"\",\r\n          flowLever: \"\"\r\n        }\r\n      },\r\n      //   列表对象\r\n      list: {\r\n        imageList: [\r\n          {\r\n            imgUrl: \"img/shuizha.9d256eb4.jpg\"\r\n          }\r\n        ]\r\n      },\r\n      //   导出按钮加载控制\r\n      outPutLoading: false,\r\n      //   导出确认对话框控制\r\n      outPutModal: false,\r\n      // 区域加载控制\r\n      boxLoading: false\r\n    };\r\n  },\r\n  mixins: [FilterMethods, GetDataMethods],\r\n  methods: {\r\n    handleSizeChange() {},\r\n    handleCurrentChange() {},\r\n    //   导出站点信息\r\n    outPutSiteInfo() {\r\n      //   关闭导出确认对话框\r\n      this.outPutModal = false;\r\n      //   按钮加载\r\n      this.outPutLoading = true;\r\n      setTimeout(() => {\r\n        this.outPutLoading = false;\r\n        this.$Modal.success({\r\n          title: \"关于导出\",\r\n          content: \"站点信息表导出成功\"\r\n        });\r\n      }, 500);\r\n    },\r\n    //   确认导出\r\n    outPutSure() {\r\n      this.outPutSiteInfo();\r\n    },\r\n    // 搜索\r\n    search() {\r\n      // 表格加载中\r\n      this.table.loading = true;\r\n      setTimeout(() => {\r\n        // var newList = this.featrue.Rows.map((val, index) => {\r\n        //   return val.attributes;\r\n        // });\r\n\r\n        // this.table.Rows = newList;\r\n        // 取消表格加载\r\n        this.table.loading = false;\r\n      }, 1000);\r\n    },\r\n    // 加载表格数据\r\n    loadTableData(list, data) {\r\n      this.table[list].Rows = data;\r\n    },\r\n    // 加载站点数据\r\n    loadSiteData(data) {\r\n      this.siteInfo = data;\r\n    },\r\n    // 根据行政区划编码获取行政区划\r\n    getCompartmentByADDVCD(callback) {\r\n      var ADDVCD = this.info.rowinfo.ADDVCD;\r\n      if (ADDVCD && ADDVCD != \"\") {\r\n        this.axios\r\n          .get(`/guanqu/admin/WRP_AD_B`, {\r\n            params: {\r\n              AD_CD: ADDVCD\r\n            }\r\n          })\r\n          .then(res => {\r\n            var data = res.data.rows;\r\n            if (typeof callback == \"function\") {\r\n              callback(data);\r\n            }\r\n          });\r\n      }\r\n    },\r\n    // 查询历史图像数据\r\n    search_tuxiang() {\r\n      this.$TableMethods.tableLoading(this.table.tuxiang);\r\n\r\n      // 传递站码参数\r\n      var body = {\r\n        STCD: this.siteInfo.STCD,\r\n        _page: this.table.tuxiang.currentPage,\r\n        _page_size: this.table.tuxiang.pageSizes,\r\n        _orderby: `TM desc`\r\n      };\r\n\r\n      // 如果有选择日期进行查询，根据表格类型传递参数\r\n      if (this.table.tuxiang.date) {\r\n        var DTT = this.$FilterData\r\n              .elDatePicker_Filter(this.table.tuxiang.date, \"include_seconds\")\r\n              .split(\",\");\r\n            body.Time_min = DTT[1];\r\n            body.Time_max = DTT[2];\r\n      }\r\n\r\n      this.$GetData.Survey_History_TX(body, true, data => {\r\n        this.$TableMethods.setTableTotal(this.table.tuxiang, data.total);\r\n        this.$TableMethods.setTableData(this.table.tuxiang, data.data);\r\n        this.$TableMethods.cancelTableLoading(this.table.tuxiang);\r\n      });\r\n    },\r\n    // 处理页码切换_图像\r\n    handleCurrentChange_tuxiang(index) {\r\n      this.table[\"tuxiang\"].currentPage = index;\r\n      this.search_tuxiang();\r\n    },\r\n    // 处理每页显示条数切换_水情数据\r\n    handleSizeChange_tuxiang(pageSizes) {\r\n      this.table[\"tuxiang\"].pageSizes = pageSizes;\r\n      this.table[\"tuxiang\"].currentPage = 1;\r\n      this.search_tuxiang();\r\n    },\r\n    // 设置图像历史表默认查询日期\r\n    setTableDefaultDate_tuxiang() {\r\n      const end = new Date();\r\n      const start = zeroPointOfTheDay();\r\n      var timeSlot = [start, end];\r\n      this.table.tuxiang.date = timeSlot;\r\n      // this.setTableDate(\"tuxiang\", timeSlot);\r\n\r\n      function zeroPointOfTheDay() {\r\n        var date = new Date();\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n        date.setMilliseconds(0);\r\n        return date;\r\n      }\r\n    },\r\n    // 处理日期时间选择器确定事件_图像\r\n    handleDatePickerChange_tuxiang(item) {\r\n      this.table.tuxiang.currentPage = 1;\r\n      this.search_tuxiang();\r\n    },\r\n    // 设置 xx表格 时间选择器值\r\n    setTableDate(tableName, val) {\r\n      this.table[tableName].date = val;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // //设置默认时间\r\n    // var newdate = new Array();\r\n    // var end = new Date();\r\n    // var start = new Date();\r\n    // var Month = start.getMonth()+1;\r\n    // newdate[0] = start.getFullYear()+'-'+Month+'-'+start.getDate()+' 00:00:00.000';\r\n    // newdate[1] = end;\r\n    // this.table.tuxiang.date = newdate;\r\n\r\n    // 区域加载中\r\n    this.boxLoading = true;\r\n    // console.log(\"图像\",this.info)\r\n    this.getCompartmentByADDVCD(data => {\r\n      this.siteInfo.AD_NM = data[0].AD_NM;\r\n    });\r\n\r\n    // 根据河流编码获取河流名\r\n    this.$GetData.Base_R_I(\r\n      {\r\n        RVCD: this.info.rowinfo.RVCD\r\n      },\r\n      true,\r\n      data => {\r\n        this.siteInfo.RVCD = data.data[0].RVNM;\r\n      }\r\n    );\r\n\r\n    // 根据流域编码获取流域名\r\n    this.$GetData.Base_B_I(\r\n      {\r\n        CTCD: this.info.rowinfo.CTCD\r\n      },\r\n      true,\r\n      data => {\r\n        this.siteInfo.CTCD = data.data[0].CTNM;\r\n      }\r\n    );\r\n\r\n\r\n    // 获取详情数据\r\n    this.loadSiteData(this.info);\r\n\r\n    setTimeout(() => {\r\n      this.boxLoading = false;\r\n    }, 500);\r\n\r\n    // 设置图像历史表默认查询日期\r\n    this.setTableDefaultDate_tuxiang();\r\n    // 查询图像历史表数据\r\n    this.search_tuxiang();\r\n    // this.axios.get(`/guanqu/gis/details?ID=${this.info.ID}`).then(res => {\r\n    //   // 加载站点数据\r\n    //   // this.loadSiteData(res.data);\r\n\r\n    //   // 加载取消\r\n    //   this.boxLoading = false;\r\n    // });\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scope>\r\n@import \"./common/common.less\";\r\n.drawer-profile {\r\n  font-size: @siteInfoFontSize;\r\n  .row_header {\r\n    text-align: center;\r\n    font-size: 1.5625rem;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .relationRow {\r\n    margin-top: 1.25rem;\r\n    button {\r\n      margin-right: 1.25rem;\r\n    }\r\n  }\r\n  .checkBoxItem {\r\n    margin: 0 0.9375rem;\r\n  }\r\n  .huansuanInput {\r\n    width: 60%;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Details"}]}