{"remainingRequest":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-detail\\Detail-Medatainfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-detail\\Detail-Medatainfo.vue","mtime":1645514491023},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\babel.config.js","mtime":1577669403468},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    info: {}\n  },\n  data: function data() {\n    return {\n      //上传文件信息\n      mefileInfo: {},\n      // 整块区域的加载控制\n      boxLoading: false,\n      //审核栏\n      audin: false,\n      data: [],\n      list_input1: {\n        total: 100,\n        pagesize: 50,\n        pagesizeopts: [10, 20, 50, 75, 100, 200],\n        current: 1\n      },\n      form: {\n        audiTm: '',\n        audiMan: ''\n      }\n    };\n  },\n  methods: {\n    // 处理页码切换\n    CurrentChange: function CurrentChange(index) {\n      this.list_input1.current = index;\n      this.Reload();\n    },\n    // 处理每页显示条数切换\n    PagesizeChange: function PagesizeChange(pagesize) {\n      this.list_input1.pagesize = pagesize;\n      this.list_input1.current = 1;\n      this.Reload();\n    },\n    Reload: function Reload() {\n      var _this = this;\n\n      this.boxLoading = true;\n      var _currentPage = this.list_input1.current;\n      var _pageSizes = this.list_input1.pagesize;\n\n      var _bgincount = (_currentPage - 1) * _pageSizes + 1;\n\n      var _endcount = _currentPage * _pageSizes; // 获取详情数据\n\n\n      this.axios.get(\"/strealmanage/filedetail\", {\n        params: {\n          meCode: this.info.ME_CODE,\n          begincount: _bgincount,\n          endcount: _endcount\n        }\n      }).then(function (res) {\n        _this.mefileInfo = res.data.info;\n        _this.data = res.data.rows;\n        _this.list_input1.total = res.data.total;\n        _this.boxLoading = false;\n      });\n    },\n    onSubmit: function onSubmit(auditing) {\n      var _this2 = this;\n\n      if (this.form.audiTm == '') {\n        this.$message({\n          type: 'warning',\n          message: '请输入审核时间！'\n        });\n        return;\n      }\n\n      if (this.form.audiMan == '') {\n        this.$message({\n          type: 'warning',\n          message: '请输入审核人员！'\n        });\n        return;\n      }\n\n      this.axios.get(\"/strealmanage/auditing\", {\n        params: {\n          meCode: this.info.ME_CODE,\n          audiTm: this.form.audiTm,\n          audiMan: this.form.audiMan,\n          audinting: auditing\n        }\n      }).then(function (res) {\n        if (res.data == \"ok\") {\n          if (auditing == 2) {\n            _this2.$message({\n              type: 'success',\n              message: _this2.info.FILE_NAME + '审核通过！'\n            });\n          } else {\n            _this2.$message({\n              type: 'success',\n              message: _this2.info.FILE_NAME + '作废！'\n            });\n          }\n\n          _this2.$emit('closedailog');\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var date = new Date();\n    var Month = date.getMonth() + 1;\n    Month = Month < 10 ? \"0\" + Month : Month;\n    var day = date.getDate();\n    day = day < 10 ? \"0\" + day : day;\n    this.form.audiTm = date.getFullYear() + '-' + Month + '-' + day;\n    this.audin = this.info.audin;\n    this.Reload();\n  }\n};",{"version":3,"sources":["Detail-Medatainfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-loading=\"boxLoading\">\r\n              <table cellspacing=\"0\" width=\"100%\" class=\"table_detail\">\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">上传日期：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #C7CCD6\">{{ mefileInfo.TMSTR || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\" >上传人员：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{mefileInfo.UP_MAN|| \"&nbsp;\"}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">测量人：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #C7CCD6\">{{ mefileInfo.ME_MAN || \"&nbsp;\" }}</td>\r\n                  <td align=\"right\" class=\"dt_name\">审核状态：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">{{ mefileInfo.RESULT || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td align=\"right\" class=\"dt_name\">备注：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" colspan=\"3\" style=\"padding-left:10px;padding-right:10px;\">{{ mefileInfo.MEMO || \"&nbsp;\" }}</td>\r\n                </tr>\r\n                <tr v-if=\"audin\">\r\n                  <td align=\"right\" class=\"dt_name\">审核日期：</td>\r\n                  <td align=\"center\" class=\"dt_vale\" style=\"border-right: 1px solid #C7CCD6\">\r\n                      <el-date-picker\r\n                            style=\"width: 160px\"\r\n                            v-model=\"form.audiTm\"\r\n                            type=\"date\"\r\n                            placeholder=\"选择日期\"\r\n                            format=\"yyyy 年 MM 月 dd 日\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            size=\"small\"\r\n                            :clearable=\"false\">\r\n                    </el-date-picker>\r\n                    <span style=\"color:red\">*</span>\r\n                  </td>\r\n                  <td align=\"right\" class=\"dt_name\" >审核人员：</td>\r\n                  <td align=\"center\" class=\"dt_vale\">\r\n                      <Input v-model=\"form.audiMan\" :value=\"form.audiMan\" clearable style=\"width:160px\"/>\r\n                      <span style=\"color:red\">*</span>\r\n                  </td>\r\n                </tr>\r\n              </table>\r\n              <el-table\r\n                        :data=\"data\"\r\n                        border\r\n                        :height=\"350\"\r\n                        style=\"width: 100%;margin-top:5px;\"\r\n                        >\r\n                        <el-table-column\r\n                          label=\" \"\r\n                          prop=\"ROWID\"\r\n                          align=\"center\"\r\n                          width=\"45\"\r\n                          fixed=\"left\"\r\n                        >\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop=\"STNM\"\r\n                          label=\"测量站名\"\r\n                          align=\"center\"\r\n                          fixed=\"left\"\r\n                          min-width=\"120\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop=\"ME_TMSTR\"\r\n                          label=\"测量日期\"\r\n                          align=\"center\"\r\n                          min-width=\"120\"\r\n                          >\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop=\"Z\"\r\n                          label=\"水深\"\r\n                          align=\"center\"\r\n                          min-width=\"90\"\r\n                          >\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop=\"Q\"\r\n                          label=\"流量\"\r\n                          align=\"center\"\r\n                          show-overflow-tooltip=\"true\" \r\n                          min-width=\"90\"\r\n                          >\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                          prop=\"CANAL_NAME\"\r\n                          label=\"所属渠道\"\r\n                          align=\"center\"\r\n                          min-width=\"150\">\r\n                        </el-table-column>\r\n                      </el-table>\r\n                    <div style=\"margin: 10px;overflow: hidden;\">\r\n                        <div style=\"float: right;font-size:12px;\">\r\n                            <Page \r\n                            :total=\"list_input1.total\" \r\n                            :current=\"list_input1.current\" show-sizer \r\n                            :page-size=\"list_input1.pagesize\" :page-size-opts=\"list_input1.pagesizeopts\"\r\n                            @on-change=\"CurrentChange\"\r\n                            @on-page-size-change=\"PagesizeChange\"\r\n                            size=\"small\"\r\n                            show-total\r\n                            show-elevator\r\n                            ></Page>\r\n                        </div>\r\n                    </div>\r\n  <div v-if=\"audin\">\r\n                <div style=\"width:100%;text-align:center;\">\r\n                    <Button type=\"primary\" @click=\"onSubmit(2)\" >审核通过</Button>\r\n                    <Button type=\"primary\" @click=\"onSubmit(3)\" style=\"margin-left:20px;\">作废</Button>\r\n                </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nexport default {\r\n    props: {\r\n    info: {}\r\n  },\r\n  data() {\r\n    return {\r\n       //上传文件信息\r\n      mefileInfo: {},\r\n      // 整块区域的加载控制\r\n      boxLoading: false,\r\n      //审核栏\r\n      audin:false,\r\n      data:[],\r\n    list_input1:{\r\n        total:100,\r\n        pagesize:50,\r\n        pagesizeopts:[10,20,50,75,100,200],\r\n        current:1,\r\n    },\r\n    form:{\r\n        audiTm:'',\r\n        audiMan:''\r\n    },\r\n    }\r\n  },\r\n  methods: {\r\n    // 处理页码切换\r\n    CurrentChange(index) {\r\n        this.list_input1.current = index;\r\n        this.Reload();\r\n    },\r\n    // 处理每页显示条数切换\r\n    PagesizeChange(pagesize) {\r\n        this.list_input1.pagesize = pagesize;\r\n        this.list_input1.current=1;\r\n        this.Reload();  \r\n    },\r\n    Reload(){\r\n    this.boxLoading = true;\r\n    var _currentPage = this.list_input1.current;\r\n    var _pageSizes = this.list_input1.pagesize;\r\n    var _bgincount=(_currentPage - 1) * _pageSizes+1;\r\n    var _endcount=_currentPage * _pageSizes; \r\n    \r\n      // 获取详情数据\r\n    this.axios.get(`/strealmanage/filedetail`,{params:{meCode:this.info.ME_CODE,begincount:_bgincount,endcount:_endcount}})\r\n      .then(res => {\r\n        this.mefileInfo=res.data.info;\r\n        this.data = res.data.rows;\r\n        this.list_input1.total = res.data.total;\r\n        this.boxLoading = false;     \r\n      });\r\n    },\r\n    onSubmit(auditing){\r\n        if(this.form.audiTm==''){\r\n            this.$message({ type: 'warning', message: '请输入审核时间！' });\r\n              return;\r\n        }\r\n        if(this.form.audiMan==''){\r\n            this.$message({ type: 'warning', message: '请输入审核人员！' });\r\n              return;\r\n        }\r\n        this.axios.get(`/strealmanage/auditing`,{params:{meCode:this.info.ME_CODE,audiTm:this.form.audiTm,audiMan:this.form.audiMan,audinting:auditing}})\r\n        .then(res => {\r\n            if(res.data==\"ok\"){\r\n                if(auditing==2){\r\n                    this.$message({ type: 'success', message: this.info.FILE_NAME+'审核通过！' }); \r\n                }else{\r\n                    this.$message({ type: 'success', message: this.info.FILE_NAME+'作废！' });\r\n                }\r\n                this.$emit('closedailog');\r\n            }    \r\n        });      \r\n    },\r\n  },\r\n  mounted() {\r\n      var date = new Date();\r\n            var Month = date.getMonth() + 1;\r\n            Month=Month<10?\"0\"+Month:Month;\r\n            var day=date.getDate();\r\n            day=day<10?\"0\"+day:day;\r\n      this.form.audiTm=date.getFullYear() + '-' + Month + '-' + day;\r\n      this.audin=this.info.audin;\r\n      this.Reload();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n\r\n.table_detail {\r\n border:1px solid #C7CCD6;\r\n border-collapse:collapse; \r\n  td {\r\n    height: 35px;\r\n    border-top: none;\r\n    border:1px solid #C7CCD6;\r\n  }\r\n\r\n  .dt_name {\r\n    width: 20%;\r\n  }\r\n\r\n  .dt_vale {\r\n    width: 30%;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/warm/warm-detail"}]}