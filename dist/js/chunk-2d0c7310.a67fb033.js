(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7310"],{5021:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Content",{style:{padding:"24px",background:"#fff"}},[a("Row",{staticStyle:{margin:"10px"},attrs:{type:"flex",gutter:16,justify:"start"}},[a("Col",[t._v("\n                    时间:\n                        "),a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",size:"small",clearable:!1},on:{change:t.timechange},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("Col",[t._v("\n                        行政区划:\n                        "),a("el-cascader",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",placeholder:"请选择地址",options:t.form.adressList,"change-on-select":""},on:{change:t.XZQHsearch},model:{value:t.form.model_adress,callback:function(e){t.$set(t.form,"model_adress",e)},expression:"form.model_adress"}})],1),a("Col",[t._v("\n                        渠道:\n                        "),a("el-cascader",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",placeholder:"请选择渠道",options:t.form.qudaoList,"change-on-select":""},on:{change:t.QDsearch},model:{value:t.form.model_qudao,callback:function(e){t.$set(t.form,"model_qudao",e)},expression:"form.model_qudao"}})],1),a("Col",[t._v("\n                        归属单位:\n                        "),a("Select",{staticStyle:{width:"120px","margin-left":"5px"},attrs:{clearable:""},on:{"on-change":t.STGRsearch},model:{value:t.form.gsdw,callback:function(e){t.$set(t.form,"gsdw",e)},expression:"form.gsdw"}},t._l(t.gsdwlist,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",[t._v("\n                        水库等级:\n                        "),a("Select",{staticStyle:{width:"120px","margin-left":"5px"},attrs:{clearable:""},on:{"on-change":t.LEVELsearch},model:{value:t.form.skdj,callback:function(e){t.$set(t.form,"skdj",e)},expression:"form.skdj"}},t._l(t.skdjlist,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"btn_baobiao",staticStyle:{display:"flex","justify-content":"flex-start"}},[a("Input",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{search:"","enter-button":"",suffix:"ios-search",placeholder:"请输入站名"},on:{"on-search":t.search},model:{value:t.form.searchmsg,callback:function(e){t.$set(t.form,"searchmsg",e)},expression:"form.searchmsg"}}),a("Button",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.err}},[t._v("导出")]),a("Button",{staticStyle:{width:"auto","margin-right":"0px"},attrs:{type:"primary"},on:{click:t.optable}},[t._v("综合报表")])],1)],1),a("Divider",{staticStyle:{margin:"20px 0"}}),a("Row",{staticStyle:{"font-size":"16px"}},[a("Col",{staticClass:"borsLine",staticStyle:{"font-size":"14px"}},[t._v("总站数："+t._s(t.data.length)+" \n                    单位：水位 m，流量m³/s，水量 10⁶m³")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data,border:"",height:"480"},on:{"cell-click":t.cellclick,"sort-change":t.sort_change}},[a("el-table-column",{attrs:{label:" ",type:"index",align:"center",width:"65",index:t.indexMethod}}),a("el-table-column",{attrs:{prop:"STNM",label:"站名",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"RZ",label:"平均水位",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"RWPTN",label:"水势",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"INQ",label:"平均入库流量",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"OTQ",label:"平均出库流量",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"DW",label:"日蓄水量",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"Max_RZ",label:"日最高水位",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"Max_TM",label:"日最高水位时刻",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"Min_RZ",label:"日最低水位",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"Min_TM",label:"日最低水位时刻",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"FWL",label:"汛限水位4-6月",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"FWL79",label:"汛限水位7-9月",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"LEVEL",label:"水库等级",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"STGR",label:"归属单位",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"Canal_Name",label:"渠道",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"AD_NM",label:"地址",sortable:"",align:"center"}})],1),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.list_input.total,current:t.list_input.current,"show-sizer":"","page-size":t.list_input.pagesize,"page-size-opts":t.list_input.pagesizeopts,"show-total":"","show-elevator":""},on:{"on-change":t.CurrentChange,"on-page-size-change":t.PagesizeChange}})],1)])],1),a("el-dialog",{attrs:{title:"综合报表",visible:t.dialog_detail_showing,width:"1200px","append-to-body":""},on:{"update:visible":function(e){t.dialog_detail_showing=e}}},[a("Row",[a("Col",{staticStyle:{"text-align":"center","font-size":"20px"}},[t._v("\n                    "+t._s(this.form.date)+" 水库水情日表\n                  ")])],1),a("Row",[a("Col",{staticStyle:{"text-align":"left"}},[t._v("\n                  总站数："+t._s(t.Tables.total)+"，单位：水位 m，流量m³/s，水量 10⁶m³\n                  ")]),a("Col",{staticStyle:{position:"absolute",right:"0",bottom:"0px"}},[a("Button",{staticStyle:{width:"auto","margin-right":"20px"},attrs:{type:"primary"},on:{click:t.err}},[t._v("导出")])],1)],1),a("Divider"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.Tables.data,border:"",height:"500"},on:{"sort-change":t.sort_change}},[a("el-table-column",{attrs:{prop:"Canal_Name",label:"渠道",sortable:"",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"STNM",label:"站名",sortable:"",align:"center",width:""}}),a("el-table-column",{attrs:{prop:"RZ",label:"平均水位",sortable:"",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"INQ",label:"平均入库流量",sortable:"",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"OTQ",label:"平均出库流量",sortable:"",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"DW",label:"日蓄水位",sortable:"",align:"center",width:"150"}})],1)],1)],1)},s=[],i=a("f499"),o=a.n(i),r=a("bd86"),n=a("aaf8"),c=a("a53b"),d=(a("3dfd"),{data:function(){var t;return t={loading:!1,dialog_detail_showing:!1,gsdwlist:[{value:"1",label:"国家重要站"},{value:"2",label:"省级重要站"},{value:"3",label:"一般站"},{value:"4",label:"实验或专用站"},{value:"5",label:"山洪站"},{value:"6",label:"临时站"},{value:"7",label:"其他站"},{value:"8",label:"灌区站"}],skdjlist:[{value:"1",label:"大型"},{value:"2",label:"中型"},{value:"3",label:"小I型"},{value:"4",label:"小II型"},{value:"5",label:"山塘"}],Tables:{title:"",total:"",data:[]},form:{adressList:[],qudaoList:[],model_adress:"",gsdw:"",skdj:"",model_qudao:"",date:[],searchmsg:"",xzqh:"",qd:"",field:""}},Object(r["a"])(t,"Tables",{title:"",total:"",data:[]}),Object(r["a"])(t,"searchs",""),Object(r["a"])(t,"search1","&STNM=like,"),Object(r["a"])(t,"search2","&TM="),Object(r["a"])(t,"search3","&"),Object(r["a"])(t,"search4","&"),Object(r["a"])(t,"search5","&"),Object(r["a"])(t,"timesearch",""),Object(r["a"])(t,"data",[]),Object(r["a"])(t,"nodata",[]),Object(r["a"])(t,"list_input",{total:100,pagesize:50,pagesizeopts:[10,20,50,75,100,200],current:1}),t},mounted:function(){var t=new Date,e=t.getMonth()+1;this.form.date=t.getFullYear()+"-"+e+"-"+t.getDate(),this.Reload()},mixins:[n["a"],c["a"]],methods:{sort_change:function(t){console.log(t),"ascending"==t.order&&(this.form.field=t.prop,this.Reload()),"descending"==t.order&&(this.form.field=t.prop+" desc",this.Reload()),null==t.order&&(this.form.field="",this.Reload())},optable:function(){this.dialog_detail_showing=!0},cellclick:function(t,e,a,l){console.log("%%%%%%%%%%",t);var s=new Object;s.graphic=new Object,s.graphic.attributes=t,s.graphic.attributes.itype="shuikushuiqing",s.graphic.attributes.rowinfo=JSON.parse(o()(t)),s.graphic.attributes.STNM=s.graphic.attributes.STNM,s.graphic.attributes.STCD=s.graphic.attributes.STCD,s.graphic.attributes.rowinfo.STNM=s.graphic.attributes.rowinfo.STNM,s.graphic.attributes.rowinfo.STCD=s.graphic.attributes.rowinfo.STCD,s.graphic.attributes.rowinfo.tableType={sksq:"dayTable"};var i=new Object;i.itype="shuikushuiqing",console.log("evt",s),this.$App.showDrawer(s,i)},err:function(){this.$Message.warning("该功能还在开发中...")},indexMethod:function(t){return t+1+this.list_input.pagesize*(this.list_input.current-1)},search:function(){""!=this.form.searchmsg?this.searchs="&STNM="+this.form.searchmsg:this.searchs="",this.Reload()},timechange:function(){console.log(this.form.date),this.Reload()},XZQHsearch:function(){console.log(this.form.model_adress),this.Reload()},QDsearch:function(){console.log(this.form.model_qudao),this.Reload()},STGRsearch:function(){console.log(this.form.gsdw),this.Reload()},LEVELsearch:function(){console.log(this.form.skdj),void 0===this.form.skdj?this.form.skdj="":this.form.skdj=this.form.skdj,this.Reload()},Reload:function(){var t=this;if(console.log(this.form.gsdw),this.loading=!0,0==this.form.model_adress.length&&(this.form.xzqh=""),1==this.form.model_adress.length){var e=this.form.model_adress[0];e=e.substring(0,6),this.form.xzqh=e}if(2==this.form.model_adress.length){var a=this.form.model_adress[1];a=a.substring(0,9),this.form.xzqh=a}if(3==this.form.model_adress.length){var l=this.form.model_adress[2];l=l.substring(0,12),this.form.xzqh=l}0==this.form.model_qudao.length&&(this.form.qd=""),1==this.form.model_qudao.length&&(this.form.qd=this.form.model_qudao[0]),2==this.form.model_qudao.length&&(this.form.qd=this.form.model_qudao[1]);this.form.date[0],this.form.date[1];this.axios.get("/guanqu/shuikushuiqing/lishi_ribiao?"+this.searchs,{params:{TM:this.form.date,ADDVCD:this.form.xzqh,Canal_Code:this.form.qd,STGR:this.form.gsdw,LEVEL:this.form.skdj}}).then(function(e){console.log(e),t.loading=!1,t.list_input.total=e.data.total,t.Tables.total=e.data.total;for(var a=e.data.list,l=0;l<a.length;l++)a[l].RZ=t.Z_Filter(a[l].RZ),a[l].BLRZ=t.Z_Filter(a[l].BLRZ),a[l].INQ=t.Z_Filter(a[l].INQ,3),a[l].MW=t.Z_Filter(a[l].MW,3),a[l].OTQ=t.Z_Filter(a[l].OTQ,3),a[l].Max_RZ=t.Z_Filter(a[l].Max_RZ),a[l].Min_RZ=t.Z_Filter(a[l].Min_RZ),a[l].FWL=t.Z_Filter2(a[l].FWL),a[l].FWL79=t.Z_Filter2(a[l].FWL79),console.log(a[l].FWL79),a[l].Max_TM=t.dateFilter(a[l].Max_TM),a[l].Min_TM=t.dateFilter(a[l].Min_TM);t.data=a,t.Tables.title=t.data[0].TM}),this.getTableData_WRP_AD_B(function(e){t.form.adressList=e}),this.getTableData_WRP_IrrBTCanalSystem(function(e){t.form.qudaoList=e}),this.axios.get("/guanqu/shuikushuiqing/lishi_ribiao?_page_size=99999"+this.searchs,{params:{TM:this.form.date,ADDVCD:this.form.xzqh,Canal_Code:this.form.qd,STGR:this.form.gsdw,LEVEL:this.form.skdj}}).then(function(e){console.log(e),t.loading=!1;for(var a=e.data.list,l=0;l<t.aList.length;l++)a[l].RZ=t.Z_Filter(a[l].RZ),a[l].BLRZ=t.Z_Filter(a[l].BLRZ),a[l].INQ=t.Z_Filter(a[l].INQ,3),a[l].MW=t.Z_Filter(a[l].MW,3),a[l].OTQ=t.Z_Filter(a[l].OTQ,3),a[l].Max_RZ=t.Z_Filter(a[l].Max_RZ),a[l].Min_RZ=t.Z_Filter(a[l].Min_RZ),a[l].FWL=t.Z_Filter2(a[l].FWL),a[l].FWL79=t.Z_Filter2(a[l].FWL79),console.log(a[l].FWL79),a[l].Max_TM=t.dateFilter(a[l].Max_TM),a[l].Min_TM=t.dateFilter(a[l].Min_TM);t.Tables.data=a})},CurrentChange:function(t){this.list_input.current=t,this.Reload()},PagesizeChange:function(t){this.list_input.pagesize=t,this.Reload()}}}),h=d,u=a("2877"),g=Object(u["a"])(h,l,s,!1,null,null,null);e["default"]=g.exports}}]);