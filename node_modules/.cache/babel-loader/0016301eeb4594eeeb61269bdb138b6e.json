{"remainingRequest":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-water\\water-plan\\waterplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-water\\water-plan\\waterplan.vue","mtime":1645607656081},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\babel.config.js","mtime":1577669403468},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\";\nexport default {\n  data: function data() {\n    return {\n      theight: window.innerHeight - 282,\n      loading: false,\n      yearlist: [],\n      gljglist: [],\n      form: {\n        year: '',\n        gljg: ''\n      },\n      columns: [{\n        text: \"管理机构\",\n        value: \"ORGAN_NAME\",\n        minwidth: 180,\n        fixed: \"left\",\n        algin: \"left\"\n      }, {\n        text: \"支渠名称\",\n        value: \"CANAL_NANME\",\n        minwidth: 150,\n        fixed: \"left\",\n        algin: \"center\"\n      }, {\n        text: \"一月\",\n        value: \"ONE\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"二月\",\n        value: \"TWO\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"三月\",\n        value: \"THREE\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"四月\",\n        value: \"FOUR\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"五月\",\n        value: \"FIVE\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"六月\",\n        value: \"SIX\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"七月\",\n        value: \"SEVEN\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"八月\",\n        value: \"EIGHT\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"九月\",\n        value: \"NINE\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"十月\",\n        value: \"TEN\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"十一月\",\n        value: \"ELEVEN\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"十二月\",\n        value: \"TWELVE\",\n        minwidth: 80,\n        algin: \"center\"\n      }, {\n        text: \"年度总计\",\n        value: \"SUMW\",\n        minwidth: 100,\n        fixed: \"right\",\n        algin: \"center\"\n      }],\n      data: []\n    };\n  },\n  // 引入过滤方法到此组件\n  mixins: [WarmDataConfig],\n  mounted: function mounted() {\n    var _this = this;\n\n    //计划年份\n    var now = new Date();\n    var year = now.getFullYear();\n\n    for (var i = 0; i < 10; i++) {\n      var yobj = new Object();\n      yobj.value = year - i;\n      yobj.label = year - i + '年';\n      this.yearlist.push(yobj);\n    }\n\n    this.form.year = year; //管理机构\n\n    this.Get_Gljginfo(2, function (data) {\n      _this.gljglist = data;\n    });\n    this.Reload();\n  },\n  methods: {\n    Reload: function Reload() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.axios.get('/waterplan/planinfo', {\n        params: {\n          year: this.form.year,\n          organCode: this.form.gljg\n        }\n      }).then(function (res) {\n        debugger;\n        _this2.data = res.data;\n        _this2.loading = false;\n      });\n    },\n    Consearch: function Consearch() {\n      this.Reload();\n    },\n    clickTable: function clickTable(row, index, e) {\n      this.$refs.refTable.toggleRowExpansion(row);\n    },\n    expandchange: function expandchange(data) {\n      var _this3 = this;\n\n      setTimeout(function () {\n        _this3.$refs.refTable.doLayout();\n      }, 100);\n    },\n    exportData: function exportData() {\n      var params = 'year=' + this.form.year + '&organCode=' + this.form.gljg;\n      window.location.href = '/excel/exportwaterplan?' + params;\n    }\n  },\n  components: {}\n};",{"version":3,"sources":["waterplan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Content class=\"searchcon\">\r\n            <Row type=\"flex\" :gutter=\"16\" class=\"rowtocol\">\r\n                <Col>\r\n                计划年份:\r\n                <Select v-model=\"form.year\" :clearable=\"false\" @on-change=\"Consearch\" style=\"width:100px;\">\r\n                    <Option\r\n                    v-for=\"obj in yearlist\"\r\n                    :key=\"obj.value\"\r\n                    :label=\"obj.label\"\r\n                    :value=\"obj.value\">\r\n                    </Option>\r\n                </Select>\r\n                </Col>\r\n                <Col>\r\n                管理机构:\r\n                <Select v-model=\"form.gljg\" @on-change=\"Consearch\" style=\"width:120px;margin-left: 5px;margin-right: 20px;\" clearable>\r\n                    <Option v-for=\"item in gljglist\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                </Select>\r\n                </Col>\r\n                <Col>\r\n                 <Button type=\"primary\" style=\"width: auto;margin-right: 20px;\" @click=\"exportData\">导出</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row class=\"fgline\"></Row>\r\n            <el-table\r\n    :data=\"data\"\r\n    style=\"width: 100%;margin-bottom: 20px;\"\r\n    row-key=\"ID\"\r\n    :height=\"theight\"\r\n    border\r\n    @row-click=\"clickTable\"\r\n    @expand-change=\"expandchange\"\r\n     ref=\"refTable\"\r\n    :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\r\n    <el-table-column v-for=\"(column, index) in columns\" :prop=\"column.value\" :label=\"column.text\" :min-width=\"column.minwidth\" :fixed=\"column.fixed\" :align=\"column.algin\" :key=\"Math.random()\">\r\n    </el-table-column>\r\n  </el-table>\r\n        </Content>\r\n    </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\"\r\nexport default {\r\n        data() {\r\n        return {\r\n            theight:window.innerHeight-282,\r\n            loading:false,\r\n            yearlist:[],\r\n            gljglist:[],\r\n                form:{\r\n                    year:'',\r\n                    gljg:'',\r\n                }, \r\n            columns: [\r\n        {\r\n          text: \"管理机构\",\r\n          value: \"ORGAN_NAME\",\r\n          minwidth: 180,\r\n          fixed:\"left\",\r\n          algin:\"left\",\r\n        },\r\n        {\r\n          text: \"支渠名称\",\r\n          value: \"CANAL_NANME\",\r\n          minwidth: 150,\r\n          fixed:\"left\",\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"一月\",\r\n          value: \"ONE\",\r\n          minwidth: 80, \r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"二月\",\r\n          value: \"TWO\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"三月\",\r\n          value: \"THREE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"四月\",\r\n          value: \"FOUR\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"五月\",\r\n          value: \"FIVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"六月\",\r\n          value: \"SIX\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"七月\",\r\n          value: \"SEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"八月\",\r\n          value: \"EIGHT\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"九月\",\r\n          value: \"NINE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十月\",\r\n          value: \"TEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十一月\",\r\n          value: \"ELEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十二月\",\r\n          value: \"TWELVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"年度总计\",\r\n          value: \"SUMW\",\r\n          minwidth: 100,\r\n          fixed:\"right\",\r\n          algin:\"center\",\r\n        },\r\n      ],\r\n      data: []\r\n        };\r\n      },\r\n      // 引入过滤方法到此组件\r\n      mixins: [WarmDataConfig],\r\n      mounted() {\r\n            //计划年份\r\n            var now=new Date();\r\n            var year=now.getFullYear();\r\n            for(var i=0;i<10;i++){\r\n                var yobj=new Object();\r\n                yobj.value=year-i;\r\n                yobj.label=(year-i)+'年';\r\n                this.yearlist.push(yobj);\r\n            }\r\n            this.form.year=year;\r\n            //管理机构\r\n            this.Get_Gljginfo(2,data => {\r\n                this.gljglist = data;\r\n            });\r\n            this.Reload();\r\n      },\r\n      methods: {\r\n          Reload(){\r\n              this.loading = true;\r\n              this.axios.get('/waterplan/planinfo',{params:{year:this.form.year,organCode:this.form.gljg}}).then((res)=>{\r\n                    debugger;\r\n                    this.data = res.data;\r\n                    this.loading = false;\r\n                });\r\n          },\r\n          Consearch(){\r\n              this.Reload();\r\n          },\r\n          clickTable(row,index,e){\r\n           this.$refs.refTable.toggleRowExpansion(row);\r\n          },\r\n          expandchange(data){\r\n                setTimeout(()=> {\r\n                            this.$refs.refTable.doLayout();\r\n                        },100);\r\n          },\r\n          exportData(){\r\n                var params='year='+this.form.year+'&organCode='+this.form.gljg;\r\n                window.location.href='/excel/exportwaterplan?'+params;\r\n          },\r\n       },\r\n      components: {   \r\n      }\r\n    }\r\n</script>"],"sourceRoot":"src/warm/warm-water/water-plan"}]}