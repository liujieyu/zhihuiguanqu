{"remainingRequest":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\huangcaiplace\\zhihuiguanqu\\src\\table\\table-zfkz\\table-sskz\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huangcaiplace\\zhihuiguanqu\\src\\table\\table-zfkz\\table-sskz\\list.vue","mtime":1577669404088},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\babel.config.js","mtime":1577669403468},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseFloat from \"D:\\\\huangcaiplace\\\\zhihuiguanqu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _JSON$stringify from \"D:\\\\huangcaiplace\\\\zhihuiguanqu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport FilterMethods from \"@/assets/commonJS/FilterMethods\";\nimport GetDataMethods from \"@/assets/commonJS/GetDataMethods\";\nimport Image from \"@/assets/image/shuizha.jpg\"; //import { setTimeout, setInterval, clearInterval } from \"timers\";\n\nexport default {\n  data: function data() {\n    return {\n      run_button: false,\n      table: {\n        kaidulishi: {\n          Rows: [],\n          loading: false\n        },\n        SSXX: {\n          Rows: [],\n          loading: false\n        }\n      },\n      details: {\n        rowinfo: null,\n        current_OD: 0.5,\n        split: 0.3,\n        Interval: null\n      },\n      // koen\n      kz: {\n        OD: 0,\n        STCD: '',\n        STNM: '',\n        MAX: 10\n      },\n      kz_lishi: [],\n      counter: {\n        total: 0\n      },\n      marks: {\n        0: \"0\",\n        50: {\n          style: {\n            color: \"#1989FA\"\n          },\n          label: this.$createElement(\"strong\", \"1.00\")\n        },\n        100: \"2\"\n      },\n      dialogTableVisible: false,\n      loading: false,\n      activeNames: [],\n      list_input: {\n        total: 100,\n        pagesize: 48,\n        pagesizeopts: [10, 20, 48, 75, 100, 200],\n        current: 1\n      },\n      form: {\n        adressList: [],\n        qudaoList: [],\n        siteList: [{\n          value: \"1\",\n          label: \"闸门\"\n        }, {\n          value: \"2\",\n          label: \"阀门\"\n        }],\n        model_site: [],\n        model_adress: \"\",\n        zdlx: \"\",\n        model_qudao: \"\",\n        model_guanli: \"\",\n        date: \"\",\n        search_str: null,\n        xzqh: \"\",\n        qd: \"\"\n      },\n      timesearch: \"\",\n      data: [],\n      list: [{\n        Image: Image\n      }, {\n        Image: Image\n      }, {\n        Image: Image\n      }, {\n        Image: Image\n      }, {\n        Image: Image\n      }],\n      searchs: \"\",\n      STNMSlength: 0,\n      STNMlength: 0,\n      item: {},\n      video_iframe: ''\n    };\n  },\n  // 引入过滤方法到此组件\n  mixins: [FilterMethods, GetDataMethods],\n  methods: {\n    //绘制闸门图\n    drawchart: function drawchart(Hight, OD) {\n      var achart = this.$echarts.init(document.getElementById(achart));\n      console.log('+++++++++++++++++++', Hight, OD);\n      achart.resize();\n      achart.setOption({\n        xAxis: {\n          type: 'category',\n          data: ['闸门']\n        },\n        yAxis: [{\n          inverse: true,\n          type: 'value',\n          min: 0,\n          max: Hight,\n          axisLabel: {\n            show: false\n          }\n        }, {\n          name: \"闸门高度\",\n          type: 'value',\n          min: 0,\n          max: Hight\n        }],\n        series: [{\n          data: [Hight - OD],\n          type: 'bar'\n        }]\n      });\n    },\n    formatTooltip: function formatTooltip(val) {\n      return val / (100 / 2);\n    },\n    handleChange: function handleChange(val) {\n      console.log(val);\n    },\n    fangda: function fangda(data, index) {\n      // data = data.map(val => {\n      //   // val.url = val.Image;\n      //   return val;\n      // });\n      // console.log(item);\n      this.$App.enlarge_img(data, index);\n    },\n    // 分页过滤\n    pageFilter: function pageFilter(currentPage, pageSizes) {\n      var _currentPage = currentPage || this.table.currentPage;\n\n      var _pageSizes = pageSizes || this.table.pageSizes; // 截取数组\n\n\n      var newList = this.table.Rows_filter.slice((_currentPage - 1) * _pageSizes, _currentPage * _pageSizes);\n      return newList;\n    },\n    gobox: function gobox(item) {\n      console.log(item);\n      var evt = new Object();\n      evt.graphic = new Object();\n      evt.graphic.attributes = item;\n      evt.graphic.attributes.itype = \"tuxiang\";\n      evt.graphic.attributes.rowinfo = JSON.parse(_JSON$stringify(item));\n      evt.graphic.attributes.STNM = evt.graphic.attributes.stnm;\n      evt.graphic.attributes.STCD = evt.graphic.attributes.stcd;\n      evt.graphic.attributes.rowinfo.STNM = evt.graphic.attributes.rowinfo.stnm;\n      evt.graphic.attributes.rowinfo.STCD = evt.graphic.attributes.rowinfo.stcd; // evt.graphic.attributes.rowinfo.tableType = {\n      //   tx: \"historyTable\"\n      // };\n\n      var v = new Object();\n      v.itype = \"tuxiang\";\n      console.log(\"evt\", evt);\n      this.$App.showDrawer(evt, v);\n    },\n    Reload: function Reload() {\n      var _this = this;\n\n      this.loading = true;\n\n      if (this.form.model_adress.length == 0) {\n        this.form.xzqh = \"\";\n      }\n\n      if (this.form.model_adress.length == 1) {\n        var str1 = this.form.model_adress[0];\n        str1 = str1.substring(0, 6);\n        this.form.xzqh = str1;\n      }\n\n      if (this.form.model_adress.length == 2) {\n        var str2 = this.form.model_adress[1];\n        str2 = str2.substring(0, 9);\n        this.form.xzqh = str2;\n      }\n\n      if (this.form.model_adress.length == 3) {\n        var str3 = this.form.model_adress[2];\n        str3 = str3.substring(0, 12);\n        this.form.xzqh = str3;\n      }\n\n      if (this.form.model_qudao.length == 0) {\n        this.form.qd = \"\";\n      }\n\n      if (this.form.model_qudao.length == 1) {\n        // var str4 = this.form.model_qudao[0];\n        // str4 = str4.substring(0, 5);\n        this.form.qd = this.form.model_qudao[0];\n      }\n\n      if (this.form.model_qudao.length == 2) {\n        // var str5 = this.form.model_qudao[1];\n        // str5 = str5.substring(0, 9);\n        this.form.qd = this.form.model_qudao[1];\n      } // this.axios.get('/guanqu/table/ST_JPG_H?_page_size='+this.list_input.pagesize+'&_page='+this.list_input.current+this.searchs,{params:{ADDVCD:this.form.xzqh,Canal_Code:this.form.qd}}).then((res)=>{\n      //     this.loading = false;\n      // });\n\n\n      this.axios.get(\"/guanqu/tuxiang/index?_page_size=\" + this.list_input.pagesize + \"&_page=\" + this.list_input.current + this.searchs, {\n        params: {\n          ADDVCD: this.form.xzqh,\n          Canal_Code: this.form.qd\n        }\n      }).then(function (res) {\n        _this.loading = false;\n        _this.data = res.data.rows;\n        _this.list_input.total = res.data.total;\n\n        for (var i = 0; i < _this.data.length; i++) {\n          _this.data[i].TM = _this.data[i].TM.replace(\".000\", \"\").replace(\"20\", \"\");\n        }\n\n        _this.data.forEach(function (val, index, array) {\n          var Image = \"http://v3.yingmen.vip/guanqu/gis/pic_content?id=\" + val.stcd;\n\n          _this.axios.get(\"/guanqu/tuxiang/details?STCD=\" + val.stcd).then(function (res) {\n            if (res.data.GUANLIAN_YAOSU.length != 0) {\n              val.GUANLIAN_YAOSU = res.data.GUANLIAN_YAOSU;\n            }\n          });\n\n          val.Image = Image;\n        });\n\n        console.log(\"关联要素\", _this.data);\n      });\n      this.axios.get(\"/guanqu/tuxiang/index?_page_size=99999\", {\n        params: {\n          ADDVCD: this.form.xzqh,\n          Canal_Code: this.form.qd\n        }\n      }).then(function (res) {\n        _this.STNMSlength = res.data.total;\n      });\n      this.getTableData_WRP_AD_B(function (data) {\n        _this.form.adressList = data;\n      }); // 获取输排水渠道数据,然后设置渠道选择框选项\n\n      this.getTableData_WRP_IrrBTCanalSystem(function (data) {\n        _this.form.qudaoList = data;\n      });\n    },\n    err: function err() {\n      this.$Message.warning(\"该功能还在开发中...\");\n    },\n    // 处理页码切换\n    CurrentChange: function CurrentChange(index) {\n      // console.log(index);\n      this.list_input.current = index;\n      this.Reload();\n    },\n    // 处理每页显示条数切换\n    PagesizeChange: function PagesizeChange(pagesize) {\n      // console.log(pagesize)\n      this.list_input.pagesize = pagesize;\n      this.Reload();\n    },\n    // 排序\n    sort_change_shuiqing: function sort_change_shuiqing() {},\n    // 执行闸阀控制\n    // koen 2019-8-2\n    run: function run() {\n      var _this2 = this;\n\n      //return;\n      this.run_button = true;\n      this.axios.put(\"/guanqu/zhafakongzhi/shishi\", {\n        KZKD: this.kz.OD,\n        STCD: this.kz.STCD\n      }).then(function (res) {\n        _this2.run_button = false;\n\n        _this2.$message({\n          message: '恭喜你，成功执行',\n          type: 'success'\n        });\n      });\n    },\n    //显示控制窗口\n    //koen 2019-8-2\n    show_details: function show_details(item) {\n      var _this3 = this;\n\n      console.log(item);\n      this.dialogTableVisible = true;\n      this.kz.OD = _parseFloat(item.rowinfo.OD);\n      this.kz.STCD = item.rowinfo.STCD;\n      this.kz.STNM = item.rowinfo.STNM;\n      this.kz.MAX = item.rowinfo.Strobe_Hight;\n      this.reload_h(); // this.shipin(this.kz.STCD);\n\n      this.details.rowinfo = item.rowinfo; // 获取详情数据\n\n      this.axios.get(\"/guanqu/gis/details?ID=\".concat(item.rowinfo.STCD, \"&pk=STCD\")).then(function (res) {\n        var details_data = res.data;\n        _this3.item = res.data;\n\n        if (!details_data.CSTYPE) {}\n\n        if (details_data.CSTYPE == 3) {\n          var video_iframe = document.getElementById(\"video\");\n          video_iframe.src = 'em-playvideo.html?61.187.248.226:8866' + ',' + details_data.PUID + ',' + details_data.IDX + ',' + details_data.STNM;\n        }\n\n        if (details_data.CSTYPE == 1) {\n          var video_iframe = document.getElementById(\"video\"); // details_data.WWWPath\n\n          video_iframe.src = details_data.WWWPath;\n        } //video_iframe.src = 'em-playvideo_detail.html?61.187.248.226:8866'+','+details_data.PUID+','+details_data.IDX+','+details_data.STNM\n\n\n        _this3.boxLoading = false;\n      });\n    },\n    // shipin(STCD){\n    //   this.axios.get('/guanqu/gis/details?ID='+STCD+'&pk=STCD').then(res => {\n    //     this.item = res.data;\n    //   });\n    // },\n    //定时刷新当前闸阀历史表\n    //以便观察控制是否成功\n    reload_h: function reload_h() {\n      var _this4 = this;\n\n      if (!this.dialogTableVisible) return; //var date = this.$App.xPointToNowOfTheDay(-72);\n      //var DTT = this.$FilterData.elDatePicker_Filter(date).split(\",\");\n\n      this.$GetData.Survey_History_ZFZT(\"historyTable\", {\n        STCD: this.kz.STCD,\n        //Time_min: `${DTT[1]}`,\n        //Time_max: `${DTT[2]}`,\n        _orderby: 'TM desc',\n        _page_size: 10\n      }, function (res) {\n        // console.log(res);\n        _this4.kz_lishi = res;\n\n        for (var i = 0; i < _this4.kz_lishi.length; i++) {\n          _this4.kz_lishi[i].UPZ = _this4.Z_Filter(_this4.kz_lishi[i].UPZ);\n          _this4.kz_lishi[i].DWZ = _this4.Z_Filter(_this4.kz_lishi[i].DWZ);\n        }\n\n        _this4.axios.post('/guanqu/zhafazhuangtai/gis', {\n          STCD: _this4.kz.STCD\n        }).then(function (res) {\n          _this4.item = res.data.features[0]; // console.log('++++++++++',this.item,this.kz_lishi[0])\n\n          _this4.drawchart(_this4.item.rowinfo.Strobe_Hight, _this4.kz_lishi[0].OD);\n        });\n      });\n    },\n    kaidulishibiao_init: function kaidulishibiao_init() {\n      var _this5 = this;\n\n      var body = new Object(); // 如果输入框有内容，添加站名过滤字段\n\n      if (this.form.search_str && new String(this.form.search_str).length != 0) {\n        body[\"STNM\"] = \"\".concat(this.form.search_str);\n      } else {} // body[\"STNM\"] = null;\n      // 如果地址选择框有内容，添加行政区划过滤字段\n\n\n      if (this.form.model_adress && this.form.model_adress.length != 0) {\n        body[\"ADDVCD\"] = \"\".concat(this.$App.ADDVCD_Array_Filter(this.form.model_adress));\n      } else {} // body[\"ADDVCD\"] = null;\n      // 如果渠道选择框有内容，添加渠道过滤字段\n\n\n      if (this.form.model_qudao && this.form.model_qudao.length != 0) {\n        body[\"Canal_Code\"] = \"\".concat(this.$App.Canal_Code_Array_Filter(this.form.model_qudao));\n      } else {} // body[\"Canal_Code\"] = null;\n      // 如果站点类型选择框有内容，添加行政区划过滤字段\n\n\n      if (this.form.model_site && this.form.model_site.length != 0) {\n        body[\"CTYPE\"] = this.form.model_site.join(\",\");\n      } else {// body[\"CTYPE\"] = null;\n      }\n\n      console.log(this.form.model_status1); // 如果状态选择框有内容，添加行政区划过滤字段\n\n      if (this.form.model_status1) {\n        body[\"_status\"] = this.form.model_status1.join(\",\");\n      } else {// body[\"_status\"] = null;\n      }\n\n      this.$GetData.getFeatrueLayer(\"zhafazhuangtai\", body, function (res) {\n        var data = res.data.features;\n        data = data.map(function (val) {\n          val.url = \"http://v3.yingmen.vip/guanqu/gis/pic_content?id=\".concat(val.rowinfo.STCD);\n          return val;\n        });\n        console.warn(\"data\", data);\n        _this5.table.SSXX.Rows = data;\n        _this5.counter.total = data.length;\n      });\n    }\n  },\n  destroyed: function destroyed() {\n    clearInterval(this.zk_Interval);\n  },\n  mounted: function mounted() {\n    var _this6 = this;\n\n    //启动定时刷新机制\n    this.zk_Interval = setInterval(function () {\n      _this6.reload_h();\n    }, 5000); // 获取行政区划数据,然后设置地址选择框选项\n\n    this.getTableData_WRP_AD_B(function (data) {\n      _this6.form.adressList = data;\n    }); // 获取输排水渠道数据,然后设置渠道选择框选项\n\n    this.getTableData_WRP_IrrBTCanalSystem(function (data) {\n      _this6.form.qudaoList = data;\n    });\n    this.kaidulishibiao_init();\n  }\n};",{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA,OAAA,aAAA,MAAA,iCAAA;AACA,OAAA,cAAA,MAAA,kCAAA;AACA,OAAA,KAAA,MAAA,4BAAA,C,CACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,UAAA,EAAA;AACA,UAAA,IAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA;AAFA,SADA;AAKA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA;AAFA;AALA,OAFA;AAYA,MAAA,OAAA,EAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,UAAA,EAAA,GAFA;AAGA,QAAA,KAAA,EAAA,GAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAZA;AAmBA;AACA,MAAA,EAAA,EAAA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA;AAJA,OApBA;AA0BA,MAAA,QAAA,EAAA,EA1BA;AA2BA,MAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OA3BA;AA8BA,MAAA,KAAA,EAAA;AACA,WAAA,GADA;AAEA,YAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AADA,WADA;AAIA,UAAA,KAAA,EAAA,KAAA,cAAA,CAAA,QAAA,EAAA,MAAA;AAJA,SAFA;AAQA,aAAA;AARA,OA9BA;AAwCA,MAAA,kBAAA,EAAA,KAxCA;AAyCA,MAAA,OAAA,EAAA,KAzCA;AA0CA,MAAA,WAAA,EAAA,EA1CA;AA2CA,MAAA,UAAA,EAAA;AACA,QAAA,KAAA,EAAA,GADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,YAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OA3CA;AAiDA,MAAA,IAAA,EAAA;AACA,QAAA,UAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,KAAA,EAAA,GADA;AAEA,UAAA,KAAA,EAAA;AAFA,SADA,EAKA;AACA,UAAA,KAAA,EAAA,GADA;AAEA,UAAA,KAAA,EAAA;AAFA,SALA,CAHA;AAaA,QAAA,UAAA,EAAA,EAbA;AAcA,QAAA,YAAA,EAAA,EAdA;AAeA,QAAA,IAAA,EAAA,EAfA;AAgBA,QAAA,WAAA,EAAA,EAhBA;AAiBA,QAAA,YAAA,EAAA,EAjBA;AAkBA,QAAA,IAAA,EAAA,EAlBA;AAmBA,QAAA,UAAA,EAAA,IAnBA;AAoBA,QAAA,IAAA,EAAA,EApBA;AAqBA,QAAA,EAAA,EAAA;AArBA,OAjDA;AAwEA,MAAA,UAAA,EAAA,EAxEA;AAyEA,MAAA,IAAA,EAAA,EAzEA;AA0EA,MAAA,IAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA;AADA,OADA,EAIA;AACA,QAAA,KAAA,EAAA;AADA,OAJA,EAOA;AACA,QAAA,KAAA,EAAA;AADA,OAPA,EAUA;AACA,QAAA,KAAA,EAAA;AADA,OAVA,EAaA;AACA,QAAA,KAAA,EAAA;AADA,OAbA,CA1EA;AA2FA,MAAA,OAAA,EAAA,EA3FA;AA4FA,MAAA,WAAA,EAAA,CA5FA;AA6FA,MAAA,UAAA,EAAA,CA7FA;AA8FA,MAAA,IAAA,EAAA,EA9FA;AA+FA,MAAA,YAAA,EAAA;AA/FA,KAAA;AAiGA,GAnGA;AAoGA;AACA,EAAA,MAAA,EAAA,CAAA,aAAA,EAAA,cAAA,CArGA;AAyGA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,KAFA,EAEA,EAFA,EAEA;AACA,UAAA,MAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,KAAA,EAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA;AACA,MAAA,MAAA,CAAA,SAAA,CAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,IAAA,EAAA,CAAA,IAAA;AAFA,SADA;AAKA,QAAA,KAAA,EAAA,CACA;AACA,UAAA,OAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,GAAA,EAAA,CAHA;AAIA,UAAA,GAAA,EAAA,KAJA;AAKA,UAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AALA,SADA,EAUA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,GAAA,EAAA,CAHA;AAIA,UAAA,GAAA,EAAA;AAJA,SAVA,CALA;AAsBA,QAAA,MAAA,EAAA,CAAA;AACA,UAAA,IAAA,EAAA,CAAA,KAAA,GAAA,EAAA,CADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAtBA,OAAA;AA2BA,KAjCA;AAkCA,IAAA,aAlCA,yBAkCA,GAlCA,EAkCA;AACA,aAAA,GAAA,IAAA,MAAA,CAAA,CAAA;AACA,KApCA;AAqCA,IAAA,YArCA,wBAqCA,GArCA,EAqCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAvCA;AAwCA,IAAA,MAxCA,kBAwCA,IAxCA,EAwCA,KAxCA,EAwCA;AACA;AACA;AACA;AACA;AACA;AACA,WAAA,IAAA,CAAA,WAAA,CAAA,IAAA,EAAA,KAAA;AACA,KA/CA;AAgDA;AACA,IAAA,UAjDA,sBAiDA,WAjDA,EAiDA,SAjDA,EAiDA;AACA,UAAA,YAAA,GAAA,WAAA,IAAA,KAAA,KAAA,CAAA,WAAA;;AACA,UAAA,UAAA,GAAA,SAAA,IAAA,KAAA,KAAA,CAAA,SAAA,CAFA,CAGA;;;AACA,UAAA,OAAA,GAAA,KAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CACA,CAAA,YAAA,GAAA,CAAA,IAAA,UADA,EAEA,YAAA,GAAA,UAFA,CAAA;AAKA,aAAA,OAAA;AACA,KA3DA;AA4DA,IAAA,KA5DA,iBA4DA,IA5DA,EA4DA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,EAAA;AACA,MAAA,GAAA,CAAA,OAAA,GAAA,IAAA,MAAA,EAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,KAAA,GAAA,SAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,IAAA,CAAA,CAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,CAVA,CAWA;AACA;AACA;;AACA,UAAA,CAAA,GAAA,IAAA,MAAA,EAAA;AACA,MAAA,CAAA,CAAA,KAAA,GAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA;AACA,WAAA,IAAA,CAAA,UAAA,CAAA,GAAA,EAAA,CAAA;AACA,KA9EA;AA+EA,IAAA,MA/EA,oBA+EA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,IAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,IAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,aAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,IAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,aAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,IAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AACA,aAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA;AACA;AACA,aAAA,IAAA,CAAA,EAAA,GAAA,KAAA,IAAA,CAAA,WAAA,CAAA,CAAA,CAAA;AACA;;AACA,UAAA,KAAA,IAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA;AACA;AACA,aAAA,IAAA,CAAA,EAAA,GAAA,KAAA,IAAA,CAAA,WAAA,CAAA,CAAA,CAAA;AACA,OAhCA,CAiCA;AACA;AACA;;;AACA,WAAA,KAAA,CACA,GADA,CAEA,sCACA,KAAA,UAAA,CAAA,QADA,GAEA,SAFA,GAGA,KAAA,UAAA,CAAA,OAHA,GAIA,KAAA,OANA,EAOA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,MAAA,EAAA,KAAA,IAAA,CAAA,IAAA;AAAA,UAAA,UAAA,EAAA,KAAA,IAAA,CAAA;AAAA;AAAA,OAPA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAAA,GAAA,KAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAAA,CAAA,OAAA,CAAA,MAAA,EAAA,EAAA,EAAA,OAAA,CACA,IADA,EAEA,EAFA,CAAA;AAIA;;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA;AACA,cAAA,KAAA,GACA,qDAAA,GAAA,CAAA,IADA;;AAEA,UAAA,KAAA,CAAA,KAAA,CACA,GADA,CACA,kCAAA,GAAA,CAAA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA,CAAA,cAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,cAAA,GAAA,CAAA,cAAA,GAAA,GAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA,WANA;;AAOA,UAAA,GAAA,CAAA,KAAA,GAAA,KAAA;AACA,SAXA;;AAYA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,CAAA,IAAA;AACA,OAhCA;AAiCA,WAAA,KAAA,CACA,GADA,CACA,wCADA,EACA;AACA,QAAA,MAAA,EAAA;AAAA,UAAA,MAAA,EAAA,KAAA,IAAA,CAAA,IAAA;AAAA,UAAA,UAAA,EAAA,KAAA,IAAA,CAAA;AAAA;AADA,OADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OANA;AAOA,WAAA,qBAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,UAAA,GAAA,IAAA;AACA,OAFA,EA5EA,CA+EA;;AACA,WAAA,iCAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,IAAA;AACA,OAFA;AAGA,KAlKA;AAmKA,IAAA,GAnKA,iBAmKA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,aAAA;AACA,KArKA;AAsKA;AACA,IAAA,aAvKA,yBAuKA,KAvKA,EAuKA;AACA;AACA,WAAA,UAAA,CAAA,OAAA,GAAA,KAAA;AACA,WAAA,MAAA;AACA,KA3KA;AA4KA;AACA,IAAA,cA7KA,0BA6KA,QA7KA,EA6KA;AACA;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,QAAA;AACA,WAAA,MAAA;AACA,KAjLA;AAkLA;AACA,IAAA,oBAnLA,kCAmLA,CAAA,CAnLA;AAuLA;AACA;AACA,IAAA,GAzLA,iBAyLA;AAAA;;AACA;AACA,WAAA,UAAA,GAAA,IAAA;AAEA,WAAA,KAAA,CAAA,GAAA,CAAA,6BAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAHA;AAIA,KAjMA;AAqMA;AACA;AACA,IAAA,YAvMA,wBAuMA,IAvMA,EAuMA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AAEA,WAAA,kBAAA,GAAA,IAAA;AACA,WAAA,EAAA,CAAA,EAAA,GAAA,YAAA,IAAA,CAAA,OAAA,CAAA,EAAA,CAAA;AACA,WAAA,EAAA,CAAA,IAAA,GAAA,IAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAAA,EAAA,CAAA,IAAA,GAAA,IAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAAA,EAAA,CAAA,GAAA,GAAA,IAAA,CAAA,OAAA,CAAA,YAAA;AAEA,WAAA,QAAA,GATA,CAUA;;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,IAAA,CAAA,OAAA,CAXA,CAaA;;AACA,WAAA,KAAA,CAAA,GAAA,kCAAA,IAAA,CAAA,OAAA,CAAA,IAAA,eAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,CAAA,YAAA,CAAA,MAAA,EAAA,CAEA;;AACA,YAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,cAAA,YAAA,GAAA,QAAA,CAAA,cAAA,CAAA,OAAA,CAAA;AACA,UAAA,YAAA,CAAA,GAAA,GAAA,0CAAA,GAAA,GAAA,YAAA,CAAA,IAAA,GAAA,GAAA,GAAA,YAAA,CAAA,GAAA,GAAA,GAAA,GAAA,YAAA,CAAA,IAAA;AACA;;AACA,YAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,cAAA,YAAA,GAAA,QAAA,CAAA,cAAA,CAAA,OAAA,CAAA,CADA,CAEA;;AACA,UAAA,YAAA,CAAA,GAAA,GAAA,YAAA,CAAA,OAAA;AACA,SAdA,CAeA;;;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAjBA;AAkBA,KAvOA;AA0OA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA,IAAA,QAnPA,sBAmPA;AAAA;;AACA,UAAA,CAAA,KAAA,kBAAA,EAAA,OADA,CAGA;AACA;;AACA,WAAA,QAAA,CAAA,mBAAA,CAAA,cAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,IADA;AAEA;AACA;AACA,QAAA,QAAA,EAAA,SAJA;AAKA,QAAA,UAAA,EAAA;AALA,OAAA,EAMA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,4BAAA,EAAA;AAAA,UAAA,IAAA,EAAA,MAAA,CAAA,EAAA,CAAA;AAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CADA,CAEA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,YAAA,EAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,EAAA;AACA,SAJA;AAKA,OAlBA;AAmBA,KA3QA;AAiRA,IAAA,mBAjRA,iCAiRA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA,MAAA,EAAA,CADA,CAGA;;AACA,UAAA,KAAA,IAAA,CAAA,UAAA,IAAA,IAAA,MAAA,CAAA,KAAA,IAAA,CAAA,UAAA,EAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA,MAAA,CAAA,aAAA,KAAA,IAAA,CAAA,UAAA;AACA,OAFA,MAEA,CAEA,CAJA,CAGA;AAEA;;;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,IAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA,QAAA,CAAA,aAAA,KAAA,IAAA,CAAA,mBAAA,CACA,KAAA,IAAA,CAAA,YADA,CAAA;AAGA,OAJA,MAIA,CAEA,CANA,CAKA;AAEA;;;AACA,UAAA,KAAA,IAAA,CAAA,WAAA,IAAA,KAAA,IAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA,YAAA,CAAA,aAAA,KAAA,IAAA,CAAA,uBAAA,CACA,KAAA,IAAA,CAAA,WADA,CAAA;AAGA,OAJA,MAIA,CAEA,CANA,CAKA;AAEA;;;AACA,UAAA,KAAA,IAAA,CAAA,UAAA,IAAA,KAAA,IAAA,CAAA,UAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,GAAA,KAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,OAFA,MAEA,CACA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,aAAA,EA/BA,CAgCA;;AACA,UAAA,KAAA,IAAA,CAAA,aAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,CAAA,GAAA,KAAA,IAAA,CAAA,aAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,OAFA,MAEA,CACA;AACA;;AAEA,WAAA,QAAA,CAAA,eAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,IAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,GAAA,6DAAA,GAAA,CAAA,OAAA,CAAA,IAAA;AACA,iBAAA,GAAA;AACA,SAHA,CAAA;AAIA,QAAA,OAAA,CAAA,IAAA,CAAA,MAAA,EAAA,IAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AAGA,QAAA,MAAA,CAAA,OAAA,CAAA,KAAA,GAAA,IAAA,CAAA,MAAA;AACA,OAXA;AAYA;AApUA,GAzGA;AAgbA,EAAA,SAhbA,uBAgbA;AACA,IAAA,aAAA,CAAA,KAAA,WAAA,CAAA;AACA,GAlbA;AAqbA,EAAA,OArbA,qBAqbA;AAAA;;AACA;AACA,SAAA,WAAA,GAAA,WAAA,CAAA,YAAA;AAAA,MAAA,MAAA,CAAA,QAAA;AAAA,KAAA,EAAA,IAAA,CAAA,CAFA,CAKA;;AACA,SAAA,qBAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,UAAA,GAAA,IAAA;AACA,KAFA,EANA,CAUA;;AACA,SAAA,iCAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,SAAA,GAAA,IAAA;AACA,KAFA;AAIA,SAAA,mBAAA;AACA;AArcA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <Breadcrumb :style=\"{margin: '0 0 24px 0'}\">\r\n      <BreadcrumbItem>闸阀控制</BreadcrumbItem>\r\n      <BreadcrumbItem>实时控制</BreadcrumbItem>\r\n    </Breadcrumb>\r\n\r\n    <div>\r\n      <Content :style=\"{padding: '24px', background: '#fff'}\">\r\n        <!-- 查询栏 -->\r\n        <div>\r\n          <Row type=\"flex\" :gutter=\"16\" justify=\"start\">\r\n            <Col>\r\n              行政区划:\r\n              <el-cascader clearable size=\"small\" style=\"width: 160px\" placeholder=\"请选择地址\" :options=\"form.adressList\" v-model=\"form.model_adress\" @change=\"kaidulishibiao_init\" change-on-select></el-cascader>\r\n            </Col>\r\n            <Col>\r\n              渠道:\r\n              <el-cascader clearable size=\"small\" style=\"width: 160px\" placeholder=\"请选择渠道\" :options=\"form.qudaoList\" v-model=\"form.model_qudao\" @change=\"kaidulishibiao_init\" change-on-select></el-cascader>\r\n            </Col>\r\n            <Col>\r\n              管理机构:\r\n              <el-cascader clearable size=\"small\" style=\"width: 160px\" placeholder=\"请选择管理机构\" :options=\"form.guanliList\" v-model=\"form.model_guanli\" @change=\"kaidulishibiao_init\" change-on-select></el-cascader>\r\n            </Col>\r\n            <Col>\r\n              站点类型:\r\n              <el-select v-model=\"form.model_site\" style=\"width: 160px\" multiple collapse-tags clearable size=\"small\" @change=\"kaidulishibiao_init\" placeholder=\"站点类型\">\r\n                  <el-option v-for=\"item in form.siteList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </Col>\r\n            <Col>\r\n              <!-- 站名模糊搜索 -->\r\n              <Input search enter-button suffix=\"ios-search\" placeholder=\"请输入站名\" style=\"width: auto;margin-right: 20px;\" @on-search=\"kaidulishibiao_init\" v-model=\"form.search_str\"/>\r\n            </Col>\r\n            <Col>\r\n              <Button type=\"primary\" style=\"width: auto;\" @click=\"err\">导出</Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <Divider />\r\n        <!-- 统计栏 -->\r\n        <Row style=\"font-size: 16px;\">\r\n          <Col class=\"borsLine\">\r\n            共{{counter.total}}个站点\r\n          </Col>\r\n        </Row>\r\n\r\n        <Divider style=\"margin-top: 0;\" />\r\n        <!-- 图块数据展示栏 -->\r\n        <div>\r\n          <Row type=\"flex\" style=\"flex-wrap:wrap;\" :gutter=\"24\" v-loading=\"loading\">\r\n            <Col span=\"6\" v-for=\"(item,index) in table.SSXX.Rows\" style=\"margin-top: 20px;\">\r\n              <Card>\r\n                <div slot=\"title\">\r\n                  <img\r\n                    class=\"kaidulishi_img\"\r\n                    :src=\"`/guanqu/gis/pic_content?id=${item.rowinfo.STCD}`\"\r\n                    style=\"width: 100%;cursor:pointer\"\r\n                    @click=\"fangda(table.kaidulishi.Rows,index)\"\r\n                  />\r\n                </div>\r\n                <Row>\r\n                  <Col span=\"6\">站名:</Col>\r\n                  <Col span=\"6\">\r\n                    <span class=\"site_name\" @click=\"show_details(item)\">{{ item.rowinfo.STNM }}</span>\r\n                  </Col>\r\n                  <Col span=\"6\">当前开度:</Col>\r\n                  <Col span=\"6\">{{ item.rowinfo.OD }}</Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span=\"6\">当前状态:</Col>\r\n                  <Col>{{ item.rowinfo.state }}</Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span=\"6\">闸前水深:</Col>\r\n                  <Col span=\"6\">{{ $FilterData.Float_Filter(item.rowinfo.upz) + \"m\" }}</Col>\r\n                  <Col span=\"6\">闸后水深:</Col>\r\n                  <Col span=\"6\">{{ $FilterData.Float_Filter(item.rowinfo.dwz) + \"m\" }}</Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span=\"6\">过闸流量:</Col>\r\n                  <Col>{{ $FilterData.Float_Filter(item.rowinfo.q, 3) + \"m³/s\" }}</Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span=\"6\">闸门开度:</Col>\r\n                  <Col>{{ item.rowinfo.OD }}</Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col span=\"6\">所在渠道:</Col>\r\n                  <Col></Col>\r\n                </Row>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n\r\n\r\n        <!-- 控制窗口 -->\r\n        <el-dialog :title=\"'执行控制： '+kz.STNM\" :visible.sync=\"dialogTableVisible\" width=\"1350px\" :fullscreen=\"false\" :close-on-click-modal=\"false\">\r\n          <div v-if=\"dialogTableVisible\" id=\"dialog_congzhi\">\r\n            <Row type=\"flex\" justify=\"center\" align=\"middle\" :gutter=\"20\" style=\"margin: 0 0 20px 0;\">\r\n              <Col span=\"12\">\r\n                <div>\r\n                      <el-table :data=\"kz_lishi\" height=\"480\" border>\r\n                        <el-table-column prop=\"TM\" label=\"时间\" width=\"140\"></el-table-column>\r\n                        <el-table-column prop=\"OD\" label=\"开度(m)\" width=\"\"></el-table-column>\r\n                        <el-table-column prop=\"UPZ\" label=\"闸前水深(m)\" width=\"\"></el-table-column>\r\n                        <el-table-column prop=\"DWZ\" label=\"闸后水深(m)\" width=\"\"></el-table-column>\r\n                        <el-table-column prop=\"Q\" label=\"过闸流量(m³/s)\" width=\"\"></el-table-column>\r\n                      </el-table>\r\n                </div>\r\n              </Col>\r\n              <Col span=\"12\">\r\n                <div style=\"margin: 10px auto;  width: 640px; height:480px; padding: 0; \">\r\n                  <iframe style=\"width: 640px; height:480px; border: 0px solid red; border: 1px solid black;\" id=\"video\" :src=\"video_iframe\"></iframe>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row style=\"margin:10px 10px\" :gutter=\"20\">\r\n              <div style=\"text-align: center;\"> <header>开度: {{ kz.OD }} m (最大允许： {{ kz.MAX }} m)</header> </div>\r\n            </Row>\r\n\r\n            <el-row style=\"text-align: center;\">\r\n              <div style=\"margin: 10px\">\r\n                <el-slider v-model=\"kz.OD\" :min=\"0\" :step=\"0.01\" :max=\"kz.MAX\"></el-slider>\r\n              </div>\r\n              <div style=\"margin: 10px\">\r\n                  <el-button type=\"danger\" @click=\"run\" :loading=\"run_button\">执行</el-button>\r\n                  <el-button type=\"\" @click=\"dialogTableVisible=false\">关闭窗口</el-button>\r\n              </div>\r\n            </el-row>\r\n          </div>\r\n        </el-dialog>\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </Content>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nimport FilterMethods from \"@/assets/commonJS/FilterMethods\";\r\nimport GetDataMethods from \"@/assets/commonJS/GetDataMethods\";\r\nimport Image from \"@/assets/image/shuizha.jpg\";\r\n//import { setTimeout, setInterval, clearInterval } from \"timers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      run_button:false,\r\n      table: {\r\n        kaidulishi: {\r\n          Rows: [],\r\n          loading: false\r\n        },\r\n        SSXX: {\r\n          Rows: [],\r\n          loading: false\r\n        }\r\n      },\r\n      details: {\r\n        rowinfo: null,\r\n        current_OD: 0.5,\r\n        split: 0.3,\r\n        Interval: null\r\n      },\r\n\r\n      // koen\r\n      kz:{\r\n          OD:0,\r\n          STCD:'',\r\n          STNM:'',\r\n          MAX:10,\r\n      },\r\n      kz_lishi: [],\r\n      counter: {total:0 },\r\n\r\n\r\n      marks: {\r\n        0: \"0\",\r\n        50: {\r\n          style: {\r\n            color: \"#1989FA\"\r\n          },\r\n          label: this.$createElement(\"strong\", \"1.00\")\r\n        },\r\n        100: \"2\"\r\n      },\r\n      dialogTableVisible: false,\r\n      loading: false,\r\n      activeNames: [],\r\n      list_input: {\r\n        total: 100,\r\n        pagesize: 48,\r\n        pagesizeopts: [10, 20, 48, 75, 100, 200],\r\n        current: 1\r\n      },\r\n      form: {\r\n        adressList: [],\r\n        qudaoList: [],\r\n        siteList: [\r\n          {\r\n            value: \"1\",\r\n            label: \"闸门\"\r\n          },\r\n          {\r\n            value: \"2\",\r\n            label: \"阀门\"\r\n          }\r\n        ],\r\n        model_site: [],\r\n        model_adress: \"\",\r\n        zdlx: \"\",\r\n        model_qudao: \"\",\r\n        model_guanli: \"\",\r\n        date: \"\",\r\n        search_str: null,\r\n        xzqh: \"\",\r\n        qd: \"\"\r\n      },\r\n      timesearch: \"\",\r\n      data: [],\r\n      list: [\r\n        {\r\n          Image: Image\r\n        },\r\n        {\r\n          Image: Image\r\n        },\r\n        {\r\n          Image: Image\r\n        },\r\n        {\r\n          Image: Image\r\n        },\r\n        {\r\n          Image: Image\r\n        }\r\n      ],\r\n      searchs: \"\",\r\n      STNMSlength: 0,\r\n      STNMlength: 0,\r\n      item:{},\r\n      video_iframe:'',\r\n    };\r\n  },\r\n  // 引入过滤方法到此组件\r\n  mixins: [FilterMethods, GetDataMethods],\r\n\r\n\r\n\r\n  methods: {\r\n    //绘制闸门图\r\n    drawchart(Hight,OD) {\r\n      var achart = this.$echarts.init(document.getElementById(achart));\r\n      console.log('+++++++++++++++++++',Hight,OD);\r\n      achart.resize();\r\n      achart.setOption({\r\n        xAxis: {\r\n          type: 'category',\r\n          data: ['闸门']\r\n      },\r\n      yAxis: [\r\n      {\r\n          inverse: true,\r\n          type: 'value',\r\n          min:0,\r\n          max:Hight,\r\n          axisLabel:{\r\n            show:false,\r\n          }\r\n      },\r\n      {\r\n          name: \"闸门高度\",\r\n          type: 'value',\r\n          min:0,\r\n          max:Hight,\r\n      }\r\n      ],\r\n      series: [{\r\n          data: [Hight-OD],\r\n          type: 'bar'\r\n      }]\r\n      });\r\n    },\r\n    formatTooltip(val) {\r\n      return val / (100 / 2);\r\n    },\r\n    handleChange(val) {\r\n      console.log(val);\r\n    },\r\n    fangda(data, index) {\r\n      // data = data.map(val => {\r\n      //   // val.url = val.Image;\r\n      //   return val;\r\n      // });\r\n      // console.log(item);\r\n      this.$App.enlarge_img(data, index);\r\n    },\r\n    // 分页过滤\r\n    pageFilter(currentPage, pageSizes) {\r\n      var _currentPage = currentPage || this.table.currentPage;\r\n      var _pageSizes = pageSizes || this.table.pageSizes;\r\n      // 截取数组\r\n      var newList = this.table.Rows_filter.slice(\r\n        (_currentPage - 1) * _pageSizes,\r\n        _currentPage * _pageSizes\r\n      );\r\n\r\n      return newList;\r\n    },\r\n    gobox(item) {\r\n      console.log(item);\r\n      var evt = new Object();\r\n      evt.graphic = new Object();\r\n      evt.graphic.attributes = item;\r\n      evt.graphic.attributes.itype = \"tuxiang\";\r\n      evt.graphic.attributes.rowinfo = JSON.parse(JSON.stringify(item));\r\n      evt.graphic.attributes.STNM = evt.graphic.attributes.stnm;\r\n      evt.graphic.attributes.STCD = evt.graphic.attributes.stcd;\r\n      evt.graphic.attributes.rowinfo.STNM = evt.graphic.attributes.rowinfo.stnm;\r\n      evt.graphic.attributes.rowinfo.STCD = evt.graphic.attributes.rowinfo.stcd;\r\n      // evt.graphic.attributes.rowinfo.tableType = {\r\n      //   tx: \"historyTable\"\r\n      // };\r\n      var v = new Object();\r\n      v.itype = \"tuxiang\";\r\n      console.log(\"evt\", evt);\r\n      this.$App.showDrawer(evt, v);\r\n    },\r\n    Reload() {\r\n      this.loading = true;\r\n      if (this.form.model_adress.length == 0) {\r\n        this.form.xzqh = \"\";\r\n      }\r\n      if (this.form.model_adress.length == 1) {\r\n        var str1 = this.form.model_adress[0];\r\n        str1 = str1.substring(0, 6);\r\n        this.form.xzqh = str1;\r\n      }\r\n      if (this.form.model_adress.length == 2) {\r\n        var str2 = this.form.model_adress[1];\r\n        str2 = str2.substring(0, 9);\r\n        this.form.xzqh = str2;\r\n      }\r\n      if (this.form.model_adress.length == 3) {\r\n        var str3 = this.form.model_adress[2];\r\n        str3 = str3.substring(0, 12);\r\n        this.form.xzqh = str3;\r\n      }\r\n      if (this.form.model_qudao.length == 0) {\r\n        this.form.qd = \"\";\r\n      }\r\n      if (this.form.model_qudao.length == 1) {\r\n                    // var str4 = this.form.model_qudao[0];\r\n                    // str4 = str4.substring(0, 5);\r\n                    this.form.qd = this.form.model_qudao[0];\r\n                }\r\n                if (this.form.model_qudao.length == 2) {\r\n                    // var str5 = this.form.model_qudao[1];\r\n                    // str5 = str5.substring(0, 9);\r\n                    this.form.qd = this.form.model_qudao[1];\r\n                }\r\n      // this.axios.get('/guanqu/table/ST_JPG_H?_page_size='+this.list_input.pagesize+'&_page='+this.list_input.current+this.searchs,{params:{ADDVCD:this.form.xzqh,Canal_Code:this.form.qd}}).then((res)=>{\r\n      //     this.loading = false;\r\n      // });\r\n      this.axios\r\n        .get(\r\n          \"/guanqu/tuxiang/index?_page_size=\" +\r\n            this.list_input.pagesize +\r\n            \"&_page=\" +\r\n            this.list_input.current +\r\n            this.searchs,\r\n          { params: { ADDVCD: this.form.xzqh, Canal_Code: this.form.qd } }\r\n        )\r\n        .then(res => {\r\n          this.loading = false;\r\n          this.data = res.data.rows;\r\n          this.list_input.total = res.data.total;\r\n          for (var i = 0; i < this.data.length; i++) {\r\n            this.data[i].TM = this.data[i].TM.replace(\".000\", \"\").replace(\r\n              \"20\",\r\n              \"\"\r\n            );\r\n          }\r\n          this.data.forEach((val, index, array) => {\r\n            var Image =\r\n              \"http://v3.yingmen.vip/guanqu/gis/pic_content?id=\" + val.stcd;\r\n            this.axios\r\n              .get(\"/guanqu/tuxiang/details?STCD=\" + val.stcd)\r\n              .then(res => {\r\n                if (res.data.GUANLIAN_YAOSU.length != 0) {\r\n                  val.GUANLIAN_YAOSU = res.data.GUANLIAN_YAOSU;\r\n                }\r\n              });\r\n            val.Image = Image;\r\n          });\r\n          console.log(\"关联要素\", this.data);\r\n        });\r\n      this.axios\r\n        .get(\"/guanqu/tuxiang/index?_page_size=99999\", {\r\n          params: { ADDVCD: this.form.xzqh, Canal_Code: this.form.qd }\r\n        })\r\n        .then(res => {\r\n          this.STNMSlength = res.data.total;\r\n        });\r\n      this.getTableData_WRP_AD_B(data => {\r\n        this.form.adressList = data;\r\n      });\r\n      // 获取输排水渠道数据,然后设置渠道选择框选项\r\n      this.getTableData_WRP_IrrBTCanalSystem(data => {\r\n        this.form.qudaoList = data;\r\n      });\r\n    },\r\n    err() {\r\n      this.$Message.warning(\"该功能还在开发中...\");\r\n    },\r\n    // 处理页码切换\r\n    CurrentChange(index) {\r\n      // console.log(index);\r\n      this.list_input.current = index;\r\n      this.Reload();\r\n    },\r\n    // 处理每页显示条数切换\r\n    PagesizeChange(pagesize) {\r\n      // console.log(pagesize)\r\n      this.list_input.pagesize = pagesize;\r\n      this.Reload();\r\n    },\r\n    // 排序\r\n    sort_change_shuiqing() {},\r\n\r\n\r\n\r\n    // 执行闸阀控制\r\n    // koen 2019-8-2\r\n    run() {\r\n      //return;\r\n      this.run_button = true;\r\n\r\n      this.axios.put(\"/guanqu/zhafakongzhi/shishi\",{ KZKD: this.kz.OD, STCD: this.kz.STCD }).then(res => {\r\n        this.run_button = false;\r\n        this.$message({ message: '恭喜你，成功执行', type: 'success' });\r\n      });\r\n    },\r\n\r\n\r\n\r\n    //显示控制窗口\r\n    //koen 2019-8-2\r\n    show_details(item) {\r\n      console.log(item);\r\n\r\n      this.dialogTableVisible = true;\r\n      this.kz.OD = parseFloat(item.rowinfo.OD);\r\n      this.kz.STCD = item.rowinfo.STCD;\r\n      this.kz.STNM = item.rowinfo.STNM;\r\n      this.kz.MAX = item.rowinfo.Strobe_Hight;\r\n\r\n      this.reload_h();\r\n      // this.shipin(this.kz.STCD);\r\n      this.details.rowinfo = item.rowinfo;\r\n\r\n      // 获取详情数据\r\n      this.axios.get(`/guanqu/gis/details?ID=${item.rowinfo.STCD}&pk=STCD`).then(res => {\r\n         var details_data = res.data;\r\n         this.item = res.data;\r\n         if (!details_data.CSTYPE) {\r\n\r\n         }\r\n        if (details_data.CSTYPE==3) {\r\n          var video_iframe = document.getElementById(\"video\");\r\n          video_iframe.src = 'em-playvideo.html?61.187.248.226:8866'+','+details_data.PUID+','+details_data.IDX+','+details_data.STNM\r\n        }\r\n        if (details_data.CSTYPE==1) {\r\n          var video_iframe = document.getElementById(\"video\");\r\n          // details_data.WWWPath\r\n          video_iframe.src = details_data.WWWPath;\r\n        }\r\n         //video_iframe.src = 'em-playvideo_detail.html?61.187.248.226:8866'+','+details_data.PUID+','+details_data.IDX+','+details_data.STNM\r\n         this.boxLoading = false;\r\n      });\r\n    },\r\n\r\n\r\n    // shipin(STCD){\r\n    //   this.axios.get('/guanqu/gis/details?ID='+STCD+'&pk=STCD').then(res => {\r\n    //     this.item = res.data;\r\n    //   });\r\n    // },\r\n\r\n\r\n    //定时刷新当前闸阀历史表\r\n    //以便观察控制是否成功\r\n    reload_h(){\r\n      if (!this.dialogTableVisible) return;\r\n\r\n      //var date = this.$App.xPointToNowOfTheDay(-72);\r\n      //var DTT = this.$FilterData.elDatePicker_Filter(date).split(\",\");\r\n      this.$GetData.Survey_History_ZFZT(\"historyTable\", {\r\n          STCD: this.kz.STCD,\r\n          //Time_min: `${DTT[1]}`,\r\n          //Time_max: `${DTT[2]}`,\r\n          _orderby: 'TM desc',\r\n          _page_size: 10,\r\n      },res => {\r\n          // console.log(res);\r\n          this.kz_lishi = res;\r\n          for (var i = 0;i<this.kz_lishi.length ; i++) {\r\n            this.kz_lishi[i].UPZ = this.Z_Filter(this.kz_lishi[i].UPZ);\r\n            this.kz_lishi[i].DWZ = this.Z_Filter(this.kz_lishi[i].DWZ);\r\n          }\r\n          this.axios.post('/guanqu/zhafazhuangtai/gis',{STCD:this.kz.STCD}).then(res => {\r\n             this.item = res.data.features[0];\r\n             // console.log('++++++++++',this.item,this.kz_lishi[0])\r\n             this.drawchart(this.item.rowinfo.Strobe_Hight,this.kz_lishi[0].OD);\r\n          });\r\n        });\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    kaidulishibiao_init() {\r\n      let body = new Object();\r\n\r\n      // 如果输入框有内容，添加站名过滤字段\r\n      if (this.form.search_str && new String(this.form.search_str).length != 0) {\r\n        body[\"STNM\"] = `${this.form.search_str}`;\r\n      } else {\r\n        // body[\"STNM\"] = null;\r\n      }\r\n      // 如果地址选择框有内容，添加行政区划过滤字段\r\n      if (this.form.model_adress && this.form.model_adress.length != 0) {\r\n        body[\"ADDVCD\"] = `${this.$App.ADDVCD_Array_Filter(\r\n          this.form.model_adress\r\n        )}`;\r\n      } else {\r\n        // body[\"ADDVCD\"] = null;\r\n      }\r\n      // 如果渠道选择框有内容，添加渠道过滤字段\r\n      if (this.form.model_qudao && this.form.model_qudao.length != 0) {\r\n        body[\"Canal_Code\"] = `${this.$App.Canal_Code_Array_Filter(\r\n          this.form.model_qudao\r\n        )}`;\r\n      } else {\r\n        // body[\"Canal_Code\"] = null;\r\n      }\r\n      // 如果站点类型选择框有内容，添加行政区划过滤字段\r\n      if (this.form.model_site && this.form.model_site.length != 0) {\r\n        body[\"CTYPE\"] = this.form.model_site.join(\",\");\r\n      } else {\r\n        // body[\"CTYPE\"] = null;\r\n      }\r\n      console.log(this.form.model_status1);\r\n      // 如果状态选择框有内容，添加行政区划过滤字段\r\n      if (this.form.model_status1) {\r\n        body[\"_status\"] = this.form.model_status1.join(\",\");\r\n      } else {\r\n        // body[\"_status\"] = null;\r\n      }\r\n\r\n      this.$GetData.getFeatrueLayer(\"zhafazhuangtai\", body, res => {\r\n        var data = res.data.features;\r\n        data = data.map(val => {\r\n          val.url = `http://v3.yingmen.vip/guanqu/gis/pic_content?id=${val.rowinfo.STCD}`;\r\n          return val;\r\n        });\r\n        console.warn(\"data\", data);\r\n        this.table.SSXX.Rows = data;\r\n\r\n\r\n        this.counter.total = data.length;\r\n      });\r\n    }\r\n  },\r\n\r\n  destroyed() {\r\n    clearInterval(this.zk_Interval);\r\n  },\r\n\r\n\r\n  mounted() {\r\n    //启动定时刷新机制\r\n    this.zk_Interval = setInterval(()=>{ this.reload_h(); }, 5000);\r\n\r\n\r\n    // 获取行政区划数据,然后设置地址选择框选项\r\n      this.getTableData_WRP_AD_B(data => {\r\n        this.form.adressList = data;\r\n      });\r\n\r\n    // 获取输排水渠道数据,然后设置渠道选择框选项\r\n      this.getTableData_WRP_IrrBTCanalSystem(data => {\r\n        this.form.qudaoList = data;\r\n      });\r\n\r\n    this.kaidulishibiao_init();\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style lang=\"less\" scoped>\r\nheader {\r\n  background: #52a7fe;\r\n  line-height: 2rem;\r\n  padding-left: 1rem;\r\n  color: white;\r\n  font-size: 20px;\r\n}\r\n</style>\r\n\r\n<style type=\"text/css\" lang=\"less\" >\r\n.kaidulishi_img {\r\n  width: 235px;\r\n  height: 176px;\r\n}\r\n\r\n.site_name {\r\n  cursor: pointer;\r\n  color: rgb(82, 167, 254);\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  width: 83px;\r\n  display: inline-block;\r\n}\r\n\r\n.el-dialog__body {\r\n  height: 80%;\r\n  #dialog_congzhi {\r\n    height: 100%;\r\n    border: 0px solid rgb(200, 200, 200);\r\n    .ivu-split-wrapper {\r\n      height: 80%;\r\n    }\r\n\r\n    // 单位栏\r\n    .company {\r\n      text-align: center;\r\n      span {\r\n        line-height: 2rem;\r\n      }\r\n    }\r\n\r\n    #table_kaidulishi {\r\n      position: absolute;\r\n      top: 4rem;\r\n      left: 0;\r\n      bottom: 0;\r\n      right: 0;\r\n    }\r\n\r\n    // 开度历史表\r\n    .ivu-table-wrapper {\r\n      height: 100%;\r\n      // 开度历史表主体\r\n      .ivu-table-body {\r\n        position: absolute;\r\n        top: 32px;\r\n        left: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/table/table-zfkz/table-sskz"}]}