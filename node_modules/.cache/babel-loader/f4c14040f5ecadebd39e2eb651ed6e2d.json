{"remainingRequest":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\thread-loader\\dist\\cjs.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\huangcaiplace\\zhihuiguanqu\\src\\assets\\commonJS\\GetDataMethods.js","dependencies":[{"path":"D:\\huangcaiplace\\zhihuiguanqu\\src\\assets\\commonJS\\GetDataMethods.js","mtime":1577669403925},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport FilterMethods from './FilterMethods';\nvar GetDataMethods = {\n  methods: {\n    // 获取行政区划数据\n    getTableData_WRP_AD_B: function getTableData_WRP_AD_B(callback) {\n      this.axios.get('/guanqu/gis/system_info').then(function (res) {\n        var data = res.data.WRP_AD_B;\n        var citys = new Array();\n        data.forEach(function (val, index, array) {\n          if (val.UP_ADCD == \"650000000000\") {\n            val.value = val.AD_CD;\n            val.label = val.AD_NM;\n            val.title = val.AD_NM;\n            citys.push(val);\n          }\n        });\n        var lg = 0; // 获取孩子的递归方法\n\n        function getChildren(array, data) {\n          array.forEach(function (parent) {\n            var children = new Array();\n            data.forEach(function (val, index, array) {\n              if (val.UP_ADCD == parent.AD_CD) {\n                val.value = val.AD_CD;\n                val.label = val.AD_NM;\n                val.title = val.AD_NM;\n                children.push(val);\n              }\n            });\n\n            if (children.length > 0) {\n              lg = lg + children.length;\n              parent.children = children;\n              return getChildren(parent.children, data);\n            }\n          }); // // 剩余的data\n          // data = data.map((val, index) => {\n          //     val.value = val.AD_CD;\n          //     val.label = val.AD_NM;\n          //     val.title = val.AD_NM;\n          //     return val;\n          // })\n\n          return array;\n        }\n\n        citys = getChildren(citys, data);\n        console.log(\"获取行政区划数据\", citys);\n\n        if (typeof callback == \"function\") {\n          callback(citys);\n        }\n      });\n    },\n    // 获取输排水渠道数据\n    getTableData_WRP_IrrBTCanalSystem: function getTableData_WRP_IrrBTCanalSystem(callback) {\n      this.axios.get('/guanqu/admin/WRP_IrrBTCanalSystem?_page_size=999999').then(function (res) {\n        var data = res.data.list;\n        var qudaoList = new Array();\n        data.forEach(function (val, index, array) {\n          if (!val.Upper_Canal_Code || val.Upper_Canal_Code == -1) {\n            val.value = val.Canal_Code;\n            val.label = val.Canal_Name;\n            val.title = val.Canal_Name;\n            qudaoList.push(val);\n          }\n        }); // 获取孩子的递归方法\n\n        function getChildren(array, data) {\n          array.forEach(function (parent) {\n            var children = new Array();\n            data.forEach(function (val, index, array) {\n              if (val.Upper_Canal_Code == parent.Canal_Code) {\n                val.value = val.Canal_Code;\n                val.label = val.Canal_Name;\n                val.title = val.Canal_Name;\n                children.push(val);\n              }\n            });\n\n            if (children.length > 0) {\n              parent.children = children;\n              return getChildren(parent.children, data);\n            }\n          });\n          return array;\n        }\n\n        qudaoList = getChildren(qudaoList, data);\n\n        if (typeof callback == \"function\") {\n          callback(qudaoList);\n        }\n      });\n    },\n    // 获取输排水渠道树数据\n    getTableData_qudao_tree: function getTableData_qudao_tree(callback) {\n      this.axios.get('/guanqu/table/xingzhen_tree').then(function (res) {\n        var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n\n        if (typeof callback == \"function\") {\n          callback(ganQuList);\n        }\n      });\n    },\n    // 获取灵活字段表数据\n    getTableData_WPR_FieldInfo: function getTableData_WPR_FieldInfo(body, callback) {\n      this.axios.get(\"/guanqu/admin/WRP_FieldInfo\", {\n        params: body\n      }).then(function (res) {\n        // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n        var data = res.data.list;\n        data = data.map(function (val) {\n          val.value = val.Field; // 值\n\n          val.label = val.FieldName; // 名字\n\n          return val;\n        });\n\n        if (typeof callback == \"function\") {\n          callback(data);\n        }\n      });\n    },\n    // 获取水库等级数据\n    getTableData_WPR_FieldInfo_LEVEL: function getTableData_WPR_FieldInfo_LEVEL(body, callback) {\n      this.axios.get(\"/guanqu/admin/ShuiKuLevle\", {\n        params: body\n      }).then(function (res) {\n        // var ganQuList = FilterMethods.methods.QuDao_Tree_Filter(res.data);\n        var data = res.data.list;\n        data = data.map(function (val) {\n          val.value = val.Field; // 值\n\n          val.label = val.FieldName; // 名字\n\n          return val;\n        });\n\n        if (typeof callback == \"function\") {\n          callback(data);\n        }\n      });\n    },\n    // 获取距离现在XX天/小时的时间\n    getTimeAgo: function getTimeAgo(type, time) {\n      var presentDate = new Date();\n      presentDate = presentDate.valueOf();\n\n      switch (type) {\n        case \"day\":\n          var newDate = presentDate - time * 24 * 60 * 60 * 1000;\n          break;\n\n        case \"history\":\n          var newDate = presentDate - time * 60 * 60 * 1000;\n          break;\n      }\n\n      if (type == \"hour\") {\n        return time; // return `${Hours}:${Minutes}`;\n      }\n\n      newDate = new Date(newDate);\n      var FullYear = newDate.getFullYear();\n      var Month = newDate.getMonth() + 1;\n      var Day = newDate.getDate();\n      var Hours = newDate.getHours();\n      var Minutes = newDate.getMinutes();\n      return \"\".concat(FullYear, \"-\").concat(Month, \"-\").concat(Day, \" \").concat(Hours, \":\").concat(Minutes);\n    },\n    // 获取今天日期(xxxx-xx-xx 00:00)\n    getTodayDate: function getTodayDate() {\n      var todayDate = new Date();\n      var FullYear = todayDate.getFullYear();\n      var Month = todayDate.getMonth() + 1;\n      var Day = todayDate.getDate();\n      return \"\".concat(FullYear, \"-\").concat(Month, \"-\").concat(Day, \" 00:00\");\n    },\n    // 获取今天零点的时间\n    zeroPointOfTheDay: function zeroPointOfTheDay() {\n      var date = new Date();\n      date.setHours(0);\n      date.setMinutes(0);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      return date;\n    },\n    // 获取今天X点的时间\n    xPointOfTheDay: function xPointOfTheDay(number) {\n      var date = new Date();\n      date.setHours(number);\n      date.setMinutes(0);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      return date;\n    },\n    // 获取今天零点到今天现在的时间段 (数组)\n    zeroPointToNowOfTheDay: function zeroPointToNowOfTheDay() {\n      var start = GetDataMethods.methods.zeroPointOfTheDay();\n      var end = new Date();\n      var timeSlot = [start, end];\n      return timeSlot;\n    },\n    // 获取今天 x 点到今天现在的时间段 (数组)\n    xPointToNowOfTheDay: function xPointToNowOfTheDay(number) {\n      var start = GetDataMethods.methods.xPointOfTheDay(number);\n      var end = new Date();\n      var timeSlot = [start, end];\n      return timeSlot;\n    }\n  }\n};\nexport default GetDataMethods;",null]}