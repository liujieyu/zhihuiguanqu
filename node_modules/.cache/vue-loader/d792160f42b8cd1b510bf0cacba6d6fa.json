{"remainingRequest":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-detail\\Detail-resultform.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\src\\warm\\warm-detail\\Detail-resultform.vue","mtime":1645514516119},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  props: {\r\n    info:{}\r\n  },\r\n  data(){\r\n    return{\r\n        form:{\r\n            z:'',\r\n            q:'',\r\n        }\r\n    }\r\n  },\r\n  mounted(){\r\n      if(this.info.sign==\"update\"){\r\n          this.form.z=this.info.z;\r\n          this.form.q=this.info.q;\r\n      }\r\n        },\r\n  methods:{\r\n      onSubmit(){\r\n          if(this.form.z==''){\r\n               this.$message({message:'请输入水深！',type:'warning'});\r\n               return;\r\n          }\r\n          if(this.form.q==''){\r\n               this.$message({message:'请输入流量！',type:'warning'});\r\n               return;\r\n          }\r\n          var regPos = /^\\d+(\\.\\d+)?$/; //非负浮点数\r\n          if(!regPos.test(this.form.z)){\r\n            this.$message({message:'水深为数字！',type:'warning'});\r\n            return;\r\n          }\r\n          if(!regPos.test(this.form.q)){\r\n            this.$message({message:'流量为数字！',type:'warning'});\r\n            return;\r\n          }\r\n          this.info.z=this.form.z;\r\n          this.info.q=this.form.q;\r\n          let url='';\r\n          let success;\r\n          if(this.info.sign==\"add\"){\r\n              url+='/ldresult/addeqrl';\r\n              success='新增率定结果成功！';\r\n          }else{\r\n              url+='/ldresult/modifyeqrl';\r\n              success='修改率定结果成功！';\r\n          }\r\n          this.axios.post(url,this.info).then((res)=>{\r\n            if(res.data==\"ok\"){\r\n                this.$message({message:success,type:'success'});\r\n                this.$emit('closedailog');\r\n                if(this.info.sign==\"add\"){\r\n                    this.info.z='';\r\n                    this.info.q='';\r\n                    this.form.z='';\r\n                    this.form.q='';\r\n                }\r\n            }                   \r\n        });\r\n      },\r\n      onClear(){\r\n          this.form.z=0;\r\n          this.form.q=0;\r\n      }\r\n  }\r\n}\r\n",{"version":3,"sources":["Detail-resultform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail-resultform.vue","sourceRoot":"src/warm/warm-detail","sourcesContent":["<template>\r\n  <div>\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"small\">\r\n                <el-form-item label=\"水深：\">\r\n                    <Input v-model=\"form.z\" :value=\"form.z\" clearable style=\"width:200px\"/>\r\n                </el-form-item>\r\n                <el-form-item label=\"流量：\">\r\n                    <Input v-model=\"form.q\" :value=\"form.q\" clearable style=\"width:200px\"/>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <Button  type=\"primary\" @click=\"onSubmit\" icon=\"md-cloud-upload\" >提交</Button>\r\n                    <Button  @click=\"onClear\" style=\"margin-left:20px;\" icon=\"md-trash\" >清空</Button>\r\n                </el-form-item>\r\n      </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    info:{}\r\n  },\r\n  data(){\r\n    return{\r\n        form:{\r\n            z:'',\r\n            q:'',\r\n        }\r\n    }\r\n  },\r\n  mounted(){\r\n      if(this.info.sign==\"update\"){\r\n          this.form.z=this.info.z;\r\n          this.form.q=this.info.q;\r\n      }\r\n        },\r\n  methods:{\r\n      onSubmit(){\r\n          if(this.form.z==''){\r\n               this.$message({message:'请输入水深！',type:'warning'});\r\n               return;\r\n          }\r\n          if(this.form.q==''){\r\n               this.$message({message:'请输入流量！',type:'warning'});\r\n               return;\r\n          }\r\n          var regPos = /^\\d+(\\.\\d+)?$/; //非负浮点数\r\n          if(!regPos.test(this.form.z)){\r\n            this.$message({message:'水深为数字！',type:'warning'});\r\n            return;\r\n          }\r\n          if(!regPos.test(this.form.q)){\r\n            this.$message({message:'流量为数字！',type:'warning'});\r\n            return;\r\n          }\r\n          this.info.z=this.form.z;\r\n          this.info.q=this.form.q;\r\n          let url='';\r\n          let success;\r\n          if(this.info.sign==\"add\"){\r\n              url+='/ldresult/addeqrl';\r\n              success='新增率定结果成功！';\r\n          }else{\r\n              url+='/ldresult/modifyeqrl';\r\n              success='修改率定结果成功！';\r\n          }\r\n          this.axios.post(url,this.info).then((res)=>{\r\n            if(res.data==\"ok\"){\r\n                this.$message({message:success,type:'success'});\r\n                this.$emit('closedailog');\r\n                if(this.info.sign==\"add\"){\r\n                    this.info.z='';\r\n                    this.info.q='';\r\n                    this.form.z='';\r\n                    this.form.q='';\r\n                }\r\n            }                   \r\n        });\r\n      },\r\n      onClear(){\r\n          this.form.z=0;\r\n          this.form.q=0;\r\n      }\r\n  }\r\n}\r\n</script>"]}]}