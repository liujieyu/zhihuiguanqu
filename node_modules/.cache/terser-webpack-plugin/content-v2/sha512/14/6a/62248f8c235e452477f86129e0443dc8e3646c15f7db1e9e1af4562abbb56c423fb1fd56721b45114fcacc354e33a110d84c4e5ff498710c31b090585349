{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0d7676\"],{7755:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Breadcrumb\",{style:{margin:\"0 0 24px 0\"}},[a(\"BreadcrumbItem\",[e._v(\"基础数据\")]),a(\"BreadcrumbItem\",[e._v(\"渠道信息\")])],1),a(\"Tabs\",{attrs:{value:\"qd\"}},[a(\"TabPane\",{attrs:{label:\"渠道\",name:\"qd\"}},[a(\"Qudao\")],1)],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Content\",{style:{padding:\"24px\",background:\"#fff\"}},[a(\"Row\",{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{type:\"flex\",gutter:16,justify:\"start\"}},[a(\"Col\",[e._v(\"\\n                        渠道:\\n                        \"),a(\"el-cascader\",{staticStyle:{width:\"160px\"},attrs:{clearable:\"\",size:\"mini\",placeholder:\"请选择渠道\",options:e.form.qudaoList,\"change-on-select\":\"\"},on:{change:e.QDsearch},model:{value:e.form.model_qudao,callback:function(t){e.$set(e.form,\"model_qudao\",t)},expression:\"form.model_qudao\"}})],1),a(\"Col\",[e._v(\"\\n                        作用类型:\\n                        \"),a(\"Select\",{staticStyle:{width:\"120px\"},attrs:{clearable:\"\"},on:{\"on-change\":e.User_TypeUpdate},model:{value:e.zylx.Field,callback:function(t){e.$set(e.zylx,\"Field\",t)},expression:\"zylx.Field\"}},e._l(e.zylx.User_Type,function(t){return a(\"Option\",{key:t.Field,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a(\"Col\",[e._v(\"\\n                        渠道等级:\\n                        \"),a(\"Select\",{staticStyle:{width:\"120px\"},attrs:{clearable:\"\"},on:{\"on-change\":e.Canal_LevelUpdate},model:{value:e.qddj.Field,callback:function(t){e.$set(e.qddj,\"Field\",t)},expression:\"qddj.Field\"}},e._l(e.qddj.Canal_Level,function(t){return a(\"Option\",{key:t.Field,attrs:{value:t.Field}},[e._v(e._s(t.FieldName))])}),1)],1),a(\"Col\",[a(\"Input\",{staticStyle:{width:\"auto\"},attrs:{search:\"\",\"enter-button\":\"\",suffix:\"ios-search\",placeholder:\"请输入渠道名称\"},on:{\"on-search\":e.search},model:{value:e.form.searchmsg,callback:function(t){e.$set(e.form,\"searchmsg\",t)},expression:\"form.searchmsg\"}})],1),a(\"Col\",[a(\"Button\",{staticStyle:{width:\"auto\"},attrs:{type:\"primary\"},on:{click:e.err}},[e._v(\"导出\")])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.data,border:\"\",height:\"450\"}},[a(\"el-table-column\",{attrs:{label:\" \",type:\"index\",align:\"center\",width:\"65\",fixed:\"left\",index:e.indexMethod}}),a(\"el-table-column\",{attrs:{prop:\"Canal_Name\",label:\"渠道名称\",align:\"center\",fixed:\"left\"}}),a(\"el-table-column\",{attrs:{prop:\"User_Type\",label:\"作用类型\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Canal_Level\",label:\"渠道等级\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Length\",label:\"渠道长度(m)\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Normal_Flux\",label:\"设计流量(m³/s)\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Max_Flux\",label:\"加大流量(m³/s)\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Min_Flux\",label:\"最小流量(m³/s)\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Upper_Canal_Name\",label:\"上级渠道\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"Upper_Canal_Coordinate\",label:\"上级渠道桩号\",align:\"center\"}})],1),a(\"div\",{staticStyle:{margin:\"10px\",overflow:\"hidden\"}},[a(\"div\",{staticStyle:{float:\"right\"}},[a(\"Page\",{attrs:{total:e.list_input.total,current:e.list_input.current,\"show-sizer\":\"\",\"page-size\":e.list_input.pagesize,\"page-size-opts\":e.list_input.pagesizeopts,size:\"small\",\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":e.CurrentChange,\"on-page-size-change\":e.PagesizeChange}})],1)])],1)],1)},s=[],o=a(\"aaf8\"),r=a(\"a53b\"),d={data:function(){return{loading:!1,date:\"\",data:[],form:{adressList:[],qudaoList:[],model_adress:\"\",zdlx:\"\",model_qudao:\"\",date:\"\",searchmsg:\"\",xzqh:\"\",qd:\"\"},zylx:{User_Type:[{value:\"1\",label:\"输水渠道\"},{value:\"2\",label:\"排水渠道\"}],Field:\"\"},qddj:{Canal_Level:[],Field:\"\"},list_input:{total:100,pagesize:50,pagesizeopts:[10,20,50,75,100,200],current:1},searchs:\"\"}},mixins:[o[\"a\"],r[\"a\"]],mounted:function(){this.Reload()},methods:{QDsearch:function(){console.log(this.form.model_qudao),this.Reload()},User_TypeUpdate:function(){this.Reload()},Canal_LevelUpdate:function(){this.Reload()},err:function(){this.$Message.warning(\"该功能还在开发中...\")},search:function(){\"\"!=this.form.searchmsg?this.searchs=\"&Canal_Name=\"+this.form.searchmsg:this.searchs=\"\",this.Reload()},indexMethod:function(e){return e+1+this.list_input.pagesize*(this.list_input.current-1)},timechange:function(e){console.log(e),this.date=e},Reload:function(){var e=this;if(this.loading=!0,0==this.form.model_qudao.length&&(this.form.qd=\"\"),1==this.form.model_qudao.length){var t=this.form.model_qudao[0];t=t.substring(0,5),this.form.qd=t}if(2==this.form.model_qudao.length){var a=this.form.model_qudao[1];a=a.substring(0,9),this.form.qd=a}var l={User_Type:this.zylx.Field,Canal_Level:this.qddj.Field,Canal_Code:this.form.qd};this.axios.get(\"/guanqu/jichushuju/qudao?_page_size=\"+this.list_input.pagesize+\"&_page=\"+this.list_input.current+this.searchs,{params:l}).then(function(t){console.log(t),e.loading=!1,e.data=t.data.list.map(function(t,a){for(var l in t)/_Flux$/.test(l)?t[l]=e.Float_Filter(t[l],3):t[l]=t[l];return t}),e.list_input.total=t.data.total;for(var a=0;a<e.data.length;a++);}),this.axios.get(\"/guanqu/admin/WRP_FieldInfo?FieldID=Canal_Level\").then(function(t){e.qddj.Canal_Level=t.data.list})},CurrentChange:function(e){this.list_input.current=e,this.Reload()},PagesizeChange:function(e){this.list_input.pagesize=e,this.Reload()}},created:function(){var e=this;this.getTableData_WRP_IrrBTCanalSystem(function(t){e.form.qudaoList=t})}},u=d,c=a(\"2877\"),h=Object(c[\"a\"])(u,i,s,!1,null,null,null),p=h.exports,m={data:function(){return{}},mounted:function(){},methods:{},computed:{},components:{Qudao:p}},g=m,f=Object(c[\"a\"])(g,l,n,!1,null,null,null);t[\"default\"]=f.exports}}]);","extractedComments":[]}