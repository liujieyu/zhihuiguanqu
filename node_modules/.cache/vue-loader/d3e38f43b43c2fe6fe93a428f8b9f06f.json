{"remainingRequest":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\warm\\warm-water\\water-quota\\quotaplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\warm\\warm-water\\water-quota\\quotaplan.vue","mtime":1645514326259},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\"\r\nimport { setTimeout } from \"timers\";\r\nexport default {\r\n        data() {\r\n        return {\r\n            theight:window.innerHeight-202,\r\n            loading:false,\r\n            yearlist:[],\r\n            gljglist:[],\r\n                form:{\r\n                    year:'',\r\n                    gljg:'',\r\n                },\r\n            columns: [\r\n        {\r\n          text: \"管理机构\",\r\n          value: \"ORGAN_NAME\",\r\n          minwidth: 180,\r\n          fixed:\"left\",\r\n          algin:\"left\",\r\n        },\r\n        {\r\n          text: \"支渠名称\",\r\n          value: \"CANAL_NANME\",\r\n          minwidth: 150,\r\n          fixed:\"left\",\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"一月\",\r\n          value: \"ONE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"二月\",\r\n          value: \"TWO\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"三月\",\r\n          value: \"THREE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"四月\",\r\n          value: \"FOUR\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"五月\",\r\n          value: \"FIVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"六月\",\r\n          value: \"SIX\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"七月\",\r\n          value: \"SEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"八月\",\r\n          value: \"EIGHT\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"九月\",\r\n          value: \"NINE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十月\",\r\n          value: \"TEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十一月\",\r\n          value: \"ELEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十二月\",\r\n          value: \"TWELVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"年度总计\",\r\n          value: \"SUMW\",\r\n          minwidth: 100,\r\n          fixed:\"right\",\r\n          algin:\"center\",\r\n        },\r\n      ],\r\n      data: []\r\n        };\r\n      },\r\n      // 引入过滤方法到此组件\r\n      mixins: [WarmDataConfig],\r\n      mounted() {\r\n            //计划年份\r\n            var now=new Date();\r\n            var year=now.getFullYear();\r\n            for(var i=0;i<10;i++){\r\n                var yobj=new Object();\r\n                yobj.value=year-i;\r\n                yobj.label=(year-i)+'年';\r\n                this.yearlist.push(yobj);\r\n            }\r\n            this.form.year=year;\r\n            //管理机构\r\n            this.Get_Gljginfo('1,3,5',data => {\r\n                this.gljglist = data;\r\n            });\r\n            this.Reload();\r\n      },\r\n      methods: {\r\n          Reload(){\r\n              this.loading = true;\r\n              var gljg=this.form.gljg;\r\n              if(gljg!=''){\r\n                  for(var i=0;i<this.gljglist.length;i++){\r\n                  if(this.form.gljg==this.gljglist[i].value){\r\n                    if(this.gljglist[i].type==1){\r\n                      gljg='';\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              \r\n              this.axios.get('/waterplan/quotainfo',{params:{year:this.form.year,organCode:gljg}}).then((res)=>{\r\n                    this.data = res.data;\r\n                    this.loading = false;\r\n                    if(gljg==''){\r\n                        var tt =  setTimeout(() => {\r\n                          this.$refs.refTable.toggleRowExpansion(this.data[0]);\r\n                          window.clearTimeout(tt);\r\n                        }, 100); \r\n                    }                    \r\n                    });\r\n          },\r\n          Consearch(){\r\n            this.data =[];\r\n             this.Reload();\r\n          },\r\n          clickTable(row,index,e){\r\n           this.$refs.refTable.toggleRowExpansion(row);\r\n          },\r\n          expandchange(data){\r\n                setTimeout(()=> {\r\n                            this.$refs.refTable.doLayout();\r\n                        },100);\r\n          },\r\n          exportData(){\r\n               var gljg=this.form.gljg;\r\n              if(gljg!=''){\r\n                  for(var i=0;i<this.gljglist.length;i++){\r\n                  if(this.form.gljg==this.gljglist[i].value){\r\n                    if(this.gljglist[i].type==1){\r\n                      gljg='';\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n                var params='year='+this.form.year+'&organCode='+gljg;\r\n                window.location.href='/excel/exportwaterquota?'+params;\r\n          },\r\n       },\r\n      components: {   \r\n      }\r\n    }\r\n",{"version":3,"sources":["quotaplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"quotaplan.vue","sourceRoot":"src/warm/warm-water/water-quota","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Content class=\"searchcon\">\r\n            <Row type=\"flex\" :gutter=\"16\" class=\"rowtocol\">\r\n                <Col>\r\n                计划年份:\r\n                <Select v-model=\"form.year\" :clearable=\"false\" @on-change=\"Consearch\" style=\"width:100px;\">\r\n                    <Option\r\n                    v-for=\"obj in yearlist\"\r\n                    :key=\"obj.value\"\r\n                    :label=\"obj.label\"\r\n                    :value=\"obj.value\">\r\n                    </Option>\r\n                </Select>\r\n                </Col>\r\n                <Col>\r\n                管理机构:\r\n                <Select v-model=\"form.gljg\" @on-change=\"Consearch\" style=\"width:120px;margin-left: 5px;margin-right: 20px;\" clearable>\r\n                    <Option v-for=\"item in gljglist\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                </Select>\r\n                </Col>\r\n                <Col>\r\n                 <Button type=\"primary\" style=\"width: auto;margin-right: 20px;\" @click=\"exportData\">导出</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row class=\"fgline\"></Row>\r\n            <el-table\r\n    :data=\"data\"\r\n    style=\"width: 100%;margin-bottom: 20px;\"\r\n    row-key=\"ID\"\r\n    :height=\"theight\"\r\n    border\r\n    @row-click=\"clickTable\"\r\n     ref=\"refTable\"\r\n     @expand-change=\"expandchange\"\r\n    :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\r\n    <el-table-column v-for=\"(column, index) in columns\" :prop=\"column.value\" :label=\"column.text\" :min-width=\"column.minwidth\" :fixed=\"column.fixed\" :align=\"column.algin\" :key=\"Math.random()\">\r\n    </el-table-column>\r\n  </el-table>\r\n        </Content>\r\n    </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\"\r\nimport { setTimeout } from \"timers\";\r\nexport default {\r\n        data() {\r\n        return {\r\n            theight:window.innerHeight-202,\r\n            loading:false,\r\n            yearlist:[],\r\n            gljglist:[],\r\n                form:{\r\n                    year:'',\r\n                    gljg:'',\r\n                },\r\n            columns: [\r\n        {\r\n          text: \"管理机构\",\r\n          value: \"ORGAN_NAME\",\r\n          minwidth: 180,\r\n          fixed:\"left\",\r\n          algin:\"left\",\r\n        },\r\n        {\r\n          text: \"支渠名称\",\r\n          value: \"CANAL_NANME\",\r\n          minwidth: 150,\r\n          fixed:\"left\",\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"一月\",\r\n          value: \"ONE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"二月\",\r\n          value: \"TWO\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"三月\",\r\n          value: \"THREE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"四月\",\r\n          value: \"FOUR\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"五月\",\r\n          value: \"FIVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"六月\",\r\n          value: \"SIX\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"七月\",\r\n          value: \"SEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"八月\",\r\n          value: \"EIGHT\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"九月\",\r\n          value: \"NINE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十月\",\r\n          value: \"TEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十一月\",\r\n          value: \"ELEVEN\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"十二月\",\r\n          value: \"TWELVE\",\r\n          minwidth: 80,\r\n          algin:\"center\",\r\n        },\r\n        {\r\n          text: \"年度总计\",\r\n          value: \"SUMW\",\r\n          minwidth: 100,\r\n          fixed:\"right\",\r\n          algin:\"center\",\r\n        },\r\n      ],\r\n      data: []\r\n        };\r\n      },\r\n      // 引入过滤方法到此组件\r\n      mixins: [WarmDataConfig],\r\n      mounted() {\r\n            //计划年份\r\n            var now=new Date();\r\n            var year=now.getFullYear();\r\n            for(var i=0;i<10;i++){\r\n                var yobj=new Object();\r\n                yobj.value=year-i;\r\n                yobj.label=(year-i)+'年';\r\n                this.yearlist.push(yobj);\r\n            }\r\n            this.form.year=year;\r\n            //管理机构\r\n            this.Get_Gljginfo('1,3,5',data => {\r\n                this.gljglist = data;\r\n            });\r\n            this.Reload();\r\n      },\r\n      methods: {\r\n          Reload(){\r\n              this.loading = true;\r\n              var gljg=this.form.gljg;\r\n              if(gljg!=''){\r\n                  for(var i=0;i<this.gljglist.length;i++){\r\n                  if(this.form.gljg==this.gljglist[i].value){\r\n                    if(this.gljglist[i].type==1){\r\n                      gljg='';\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              \r\n              this.axios.get('/waterplan/quotainfo',{params:{year:this.form.year,organCode:gljg}}).then((res)=>{\r\n                    this.data = res.data;\r\n                    this.loading = false;\r\n                    if(gljg==''){\r\n                        var tt =  setTimeout(() => {\r\n                          this.$refs.refTable.toggleRowExpansion(this.data[0]);\r\n                          window.clearTimeout(tt);\r\n                        }, 100); \r\n                    }                    \r\n                    });\r\n          },\r\n          Consearch(){\r\n            this.data =[];\r\n             this.Reload();\r\n          },\r\n          clickTable(row,index,e){\r\n           this.$refs.refTable.toggleRowExpansion(row);\r\n          },\r\n          expandchange(data){\r\n                setTimeout(()=> {\r\n                            this.$refs.refTable.doLayout();\r\n                        },100);\r\n          },\r\n          exportData(){\r\n               var gljg=this.form.gljg;\r\n              if(gljg!=''){\r\n                  for(var i=0;i<this.gljglist.length;i++){\r\n                  if(this.form.gljg==this.gljglist[i].value){\r\n                    if(this.gljglist[i].type==1){\r\n                      gljg='';\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n                var params='year='+this.form.year+'&organCode='+gljg;\r\n                window.location.href='/excel/exportwaterquota?'+params;\r\n          },\r\n       },\r\n      components: {   \r\n      }\r\n    }\r\n</script>"]}]}