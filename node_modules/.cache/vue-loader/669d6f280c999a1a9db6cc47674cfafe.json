{"remainingRequest":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\warm\\warm-duty\\warm-dutyplan\\warmdutyplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\src\\warm\\warm-duty\\warm-dutyplan\\warmdutyplan.vue","mtime":1645514326432},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\gvisualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n        import WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\";\n        import App from \"@/App.vue\";\n\texport default {\n        data(){\n            return{\n                loading:false,\n                pickerOptions: {\n          shortcuts: [{\n            text: '前一时段',\n            onClick(picker) {\n              const start = picker.date;\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', start);\n            }\n          }, {\n            text: '后一时段',\n            onClick(picker) {\n              const start = picker.date;\n              start.setTime(start.getTime() + 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', start);\n            }\n          }]\n        },\n                form:{\n                    date:''\n                },\n                date:'',\n                data:[],\n                cols: []\n            }\n        },\n                // 引入过滤方法到此组件\n        mixins: [WarmDataConfig],\n        mounted(){\n            var date = new Date();\n            var Month = date.getMonth()+1;\n            this.form.date = date.getFullYear()+'-'+Month+'-'+date.getDate();\n            this.Reload();\n        },\n        methods:{\n            timechange(date){\n                this.form.date = date;\n                this.Reload();\n            },\n            Reload(){\n                this.axios.get('/alarm/dutyplan/'+this.form.date).then((res)=>{\n                    this.loading = false;\n                    this.cols=res.data.cols;\n                    this.data = res.data.rows;\n                });\n            }, \n            cellclick(row, column, cell, event){\n              var detailinfo=new Object();             \n              detailinfo.detailtitle=row.YEAR+\"值班安排\";\n              detailinfo.info=row;\n              detailinfo.info.itype=\"zhibanxiangqing\";\n              this.$emit('showdailog', detailinfo);\n            }, \n            exportToExcel() {\n              window.location.href='/excel/exportdutyplan/'+this.form.date;\n             }, \n             exportToExcelhour(){\n               window.location.href='/excel/exportqandwhour/';\n             },\n            showchart(){\n              window.open(\"/dist/index.html#/yixiang-chart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n              //window.open(\"/dist/index.html#/yixiang-wschart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n              //window.open(\"/dist/index.html#/yixiang-kschart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n            },                  \n        },\n    }\n",{"version":3,"sources":["warmdutyplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"warmdutyplan.vue","sourceRoot":"src/warm/warm-duty/warm-dutyplan","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Content class=\"searchcon\">\r\n                    <Row type=\"flex\" :gutter=\"16\" class=\"rowtocol\">\r\n                        <Col>\r\n                        时间：\r\n                        <el-date-picker\r\n                        v-model=\"form.date\"\r\n                        type=\"date\"\r\n                        :picker-options=\"pickerOptions\"\r\n                        placeholder=\"选择日期\"\r\n                        format=\"yyyy 年 MM 月 dd 日\"\r\n                        value-format=\"yyyy-MM-dd\" \r\n                        size=\"small\"\r\n                        :clearable=\"false\"\r\n                        @change=\"timechange\"\r\n                        >\r\n                        </el-date-picker>\r\n                        </Col>  \r\n                        <Col> \r\n                            <Button type=\"primary\" style=\"width: auto;\" @click=\"exportToExcel\">导出</Button>\r\n                        </Col>\r\n                        <!--\r\n                        <Col> \r\n                            <Button type=\"primary\" style=\"width: auto;\" @click=\"exportToExcelhour\">导出最新1小时水情测报</Button>\r\n                        </Col>\r\n                        -->\r\n                        <Col> \r\n                            <Button type=\"primary\" style=\"width: auto; margin-left:10px;\" @click=\"showchart()\">仪表图</Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row class=\"fgline\"></Row>\r\n                    <el-table\r\n                        :data=\"data\"\r\n                        border\r\n                        height=\"370\"\r\n                        v-loading=\"loading\"\r\n                        @cell-click=\"cellclick\"\r\n                        style=\"width: 100%\"\r\n                        >\r\n                        <el-table-column \r\n                            v-for=\"col in cols\"\r\n                            :prop=\"col.prop\" :label=\"col.label\" >\r\n                        </el-table-column>\r\n                      </el-table>\r\n                </Content>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n        import WarmDataConfig from \"@/assets/commonJS/WarmDataConfig\";\r\n        import App from \"@/App.vue\";\r\n\texport default {\r\n        data(){\r\n            return{\r\n                loading:false,\r\n                pickerOptions: {\r\n          shortcuts: [{\r\n            text: '前一时段',\r\n            onClick(picker) {\r\n              const start = picker.date;\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', start);\r\n            }\r\n          }, {\r\n            text: '后一时段',\r\n            onClick(picker) {\r\n              const start = picker.date;\r\n              start.setTime(start.getTime() + 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', start);\r\n            }\r\n          }]\r\n        },\r\n                form:{\r\n                    date:''\r\n                },\r\n                date:'',\r\n                data:[],\r\n                cols: []\r\n            }\r\n        },\r\n                // 引入过滤方法到此组件\r\n        mixins: [WarmDataConfig],\r\n        mounted(){\r\n            var date = new Date();\r\n            var Month = date.getMonth()+1;\r\n            this.form.date = date.getFullYear()+'-'+Month+'-'+date.getDate();\r\n            this.Reload();\r\n        },\r\n        methods:{\r\n            timechange(date){\r\n                this.form.date = date;\r\n                this.Reload();\r\n            },\r\n            Reload(){\r\n                this.axios.get('/alarm/dutyplan/'+this.form.date).then((res)=>{\r\n                    this.loading = false;\r\n                    this.cols=res.data.cols;\r\n                    this.data = res.data.rows;\r\n                });\r\n            }, \r\n            cellclick(row, column, cell, event){\r\n              var detailinfo=new Object();             \r\n              detailinfo.detailtitle=row.YEAR+\"值班安排\";\r\n              detailinfo.info=row;\r\n              detailinfo.info.itype=\"zhibanxiangqing\";\r\n              this.$emit('showdailog', detailinfo);\r\n            }, \r\n            exportToExcel() {\r\n              window.location.href='/excel/exportdutyplan/'+this.form.date;\r\n             }, \r\n             exportToExcelhour(){\r\n               window.location.href='/excel/exportqandwhour/';\r\n             },\r\n            showchart(){\r\n              window.open(\"/dist/index.html#/yixiang-chart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n              //window.open(\"/dist/index.html#/yixiang-wschart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n              //window.open(\"/dist/index.html#/yixiang-kschart\",'newwindow','width='+(window.screen.availWidth-10)+',height='+(window.screen.availHeight-30)+ ',top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n            },                  \r\n        },\r\n    }\r\n</script>"]}]}