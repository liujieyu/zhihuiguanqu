{"remainingRequest":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work2022\\visualplace\\zhihuiguanqu\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\src\\views\\Login.vue","mtime":1662603148892},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\babel.config.js","mtime":1577669403468},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work2022\\visualplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ValidCode from \"@/components/VaildCode.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    ValidCode: ValidCode\n  },\n  props: {\n    sys: {}\n  },\n  data: function data() {\n    return {\n      loading: false,\n      form: {\n        sys: '4',\n        acc: 'admin',\n        pwd: '',\n        remember: true\n      },\n      responseResult: '',\n      validCode: ''\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    createValidCode: function createValidCode(data) {\n      this.validCode = data;\n    },\n    RouterLink: function RouterLink() {\n      var _this = this;\n\n      if (this.form.acc == '') {\n        this.$message({\n          message: '帐号不能为空!',\n          type: 'warning'\n        });\n      } else if (this.form.pwd == '' || this.form.pwd.length < 4) {\n        this.$message({\n          message: '密码不能为空，且长度不小于4!',\n          type: 'warning'\n        });\n      } else if (!this.form.validCode) {\n        this.$message({\n          message: '请填写验证码!',\n          type: 'warning'\n        });\n      } else if (this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n        this.$message({\n          message: '验证码错误!',\n          type: 'error'\n        });\n      } else {\n        this.axios.post('/guanqu/ext-web/authenticate', {\n          username: this.form.acc,\n          password: this.form.pwd\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.data.errcode == 400) {\n            _this.$message({\n              message: res.data.message,\n              type: 'warning'\n            });\n\n            _this.$refs.checkcode.createdCode();\n\n            _this.form.validCode = null;\n          } else {\n            _this.Cook.set(\"username\", _this.form.acc);\n\n            _this.$router.push({\n              path: '/home'\n            });\n          } // localStorage.setItem('user_token', res.data.idToken)\n          // this.$router.push({path: '/view'});\n\n        });\n      } // if (this.form.acc!='admin') {\n      //     this.$message.error('帐号或密码错误!');\n      // }else\n      // if (this.form.pwd!='admin') {\n      //     this.$message.error('帐号或密码错误!');\n      // }else{\n      //     this.$router.push({path: '/view'});\n      // }\n\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,SAAA,MAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GALA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,GADA;AAEA,QAAA,GAAA,EAAA,OAFA;AAGA,QAAA,GAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OAFA;AAQA,MAAA,cAAA,EAAA,EARA;AASA,MAAA,SAAA,EAAA;AATA,KAAA;AAWA,GApBA;AAqBA,EAAA,OAAA,EAAA,mBAAA,CAEA,CAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,IADA,EACA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AAAA;;AACA,UAAA,KAAA,IAAA,CAAA,GAAA,IAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,SADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,OALA,MAMA,IAAA,KAAA,IAAA,CAAA,GAAA,IAAA,EAAA,IAAA,KAAA,IAAA,CAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,iBADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,OALA,MAKA,IAAA,CAAA,KAAA,IAAA,CAAA,SAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,SADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,OALA,MAKA,IAAA,KAAA,IAAA,CAAA,SAAA,CAAA,WAAA,OAAA,KAAA,SAAA,CAAA,WAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,QADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAKA,OANA,MAMA;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,8BAAA,EAAA;AAAA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,GAAA;AAAA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,OAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,WAAA;;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,IAAA;AACA,WAPA,MAOA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA,CAAA,GAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;AACA,WAZA,CAaA;AACA;;AACA,SAfA;AAgBA,OAxCA,CA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AA1DA;AAxBA,CAAA","sourcesContent":["<template>\r\n    <div id=\"login\" class=\"m-bgImage\" style=\"width: 100%; height: 100vH;\">\r\n        <!--<div class=\"login\">-->\r\n        <!--<div class=\"appicon\">-->\r\n        <!--<i class=\"el-icon-upload\"></i>-->\r\n        <!--<p class=\"appname\">量测水系统</p>-->\r\n        <!--</div>-->\r\n\r\n        <!--</div>-->\r\n        <div class=\"m-cover\">\r\n            <div style=\"padding: 6em; box-sizing: border-box; text-align: center;\">\r\n                <h1 style=\"font-size: 3.8em;font-weight: 400;color: #FFF;\">黄材灌区综合信息管理平台</h1>\r\n            </div>\r\n\r\n            <div style=\"box-sizing: border-box; text-align: center; \">\r\n                <div style=\" max-width: 500px; width: 100%; text-align: left; display: inline-block;  background-color: rgba(255, 255, 255, 0.85); padding: 50px 30px 30px 30px; box-sizing: border-box; border-radius: 2px;\">\r\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                        <el-form-item label=\"账号\">\r\n                            <el-input v-model=\"form.acc\" placeholder=\"\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\">\r\n                            <el-input v-model=\"form.pwd\" type=\"password\" placeholder=\"\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"验证码\">\r\n                            <div style=\"display:flex\">\r\n                                <el-input prefix-icon=\"el-icon-key\" v-model=\"form.validCode\" style=\"width:50%;\" type=\"password\" placeholder=\"\"></el-input>\r\n                                <ValidCode ref=\"checkcode\" @input=\"createValidCode\"></ValidCode>\r\n                            </div>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type=\"primary\" @click=\"RouterLink\" :loading=\"loading\">登录</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </div>\r\n            </div>\r\n\r\n            <p style=\"font-size: 12px; color: #fff; margin: 2em; text-align: center;\">2019 © 黄材灌区综合信息管理平台 版权所有</p>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport ValidCode from \"@/components/VaildCode.vue\";\r\n    export default {\r\n        name:\"Login\",\r\n        components: {\r\n            ValidCode\r\n        },\r\n        props: {\r\n            sys: {},\r\n        },\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                form: {\r\n                    sys: '4',\r\n                    acc: 'admin',\r\n                    pwd: '',\r\n                    remember: true,\r\n                },\r\n                 responseResult:'',\r\n                 validCode:'',\r\n            }\r\n        },\r\n        mounted: function () {\r\n            \r\n        },\r\n        methods: {\r\n            createValidCode(data){\r\n                this.validCode=data;\r\n            },\r\n            RouterLink() {\r\n                if (this.form.acc=='') {\r\n                   this.$message({\r\n                      message: '帐号不能为空!',\r\n                      type: 'warning'\r\n                    }); \r\n                }else\r\n                if (this.form.pwd==''||this.form.pwd.length<4) {\r\n                    this.$message({\r\n                      message: '密码不能为空，且长度不小于4!',\r\n                      type: 'warning'\r\n                    });\r\n                }else if(!this.form.validCode){\r\n                    this.$message({\r\n                      message: '请填写验证码!',\r\n                      type: 'warning'\r\n                    });\r\n                }else if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\r\n                    this.$message({\r\n                      message: '验证码错误!',\r\n                      type: 'error'\r\n                    });\r\n                    \r\n                }else{\r\n                    this.axios.post('/guanqu/ext-web/authenticate',{username:this.form.acc,password:this.form.pwd}).then((res)=>{\r\n                        console.log(res);\r\n                        if (res.data.errcode == 400) {\r\n                            this.$message({\r\n                              message: res.data.message,\r\n                              type: 'warning'\r\n                            });\r\n                            this.$refs.checkcode.createdCode();\r\n                            this.form.validCode=null;\r\n                        }else{\r\n                            this.Cook.set(\"username\",this.form.acc);\r\n                            this.$router.push({path: '/home'});\r\n                        }\r\n                        // localStorage.setItem('user_token', res.data.idToken)\r\n                        // this.$router.push({path: '/view'});\r\n                    });\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n                // if (this.form.acc!='admin') {\r\n                //     this.$message.error('帐号或密码错误!');\r\n                // }else\r\n                // if (this.form.pwd!='admin') {\r\n                //     this.$message.error('帐号或密码错误!');\r\n                // }else{\r\n                //     this.$router.push({path: '/view'});\r\n                // }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n</script>\r\n\r\n<style type=\"text/css\">\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    #login{\r\n        background-image:url(../assets/bgimage.jpg);\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n    }\r\n\r\n    .m-cover {\r\n        background-color: rgba(74, 74, 74, 0.4);\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n\r\n    .el-icon-upload {\r\n        width: 48px;\r\n        height: 48px;\r\n    }\r\n\r\n    .appicon {\r\n        width: 65px;\r\n        height: 65px;\r\n        /*border: 1px solid white;*/\r\n        position: relative;\r\n        top: 2%;\r\n        left: 2%;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .appicon:hover {\r\n        border: 1px solid white;\r\n    }\r\n\r\n    .appicon:hover .el-icon-upload {\r\n        color: white;\r\n    }\r\n\r\n    .appname {\r\n        font-size: 12px;\r\n        position: relative;\r\n        top: 0%;\r\n\r\n    }\r\n\r\n    .el-icon-upload {\r\n        font-size: 48px;\r\n        position: relative;\r\n        top: 10%;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views"}]}