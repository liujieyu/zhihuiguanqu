{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0f02d1\"],{\"9af9\":function(t,a,e){\"use strict\";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Content\",{style:{padding:\"24px\",background:\"#fff\"}},[e(\"Row\",{staticStyle:{margin:\"10px\"},attrs:{type:\"flex\",gutter:16,justify:\"start\"}},[e(\"Col\",[t._v(\"\\n                    时间:\\n                        \"),e(\"el-date-picker\",{staticStyle:{width:\"180px\"},attrs:{type:\"month\",placeholder:\"选择日期\",format:\"yyyy 年 MM 月\",\"value-format\":\"yyyy-MM\",size:\"small\",clearable:!1},on:{change:t.timechange},model:{value:t.form.date,callback:function(a){t.$set(t.form,\"date\",a)},expression:\"form.date\"}})],1),e(\"Col\",[t._v(\"\\n                        行政区划:\\n                        \"),e(\"el-cascader\",{staticStyle:{width:\"150px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请选择地址\",options:t.form.adressList,\"change-on-select\":\"\"},on:{change:t.XZQHsearch},model:{value:t.form.model_adress,callback:function(a){t.$set(t.form,\"model_adress\",a)},expression:\"form.model_adress\"}})],1),e(\"Col\",[t._v(\"\\n                        渠道:\\n                        \"),e(\"el-cascader\",{staticStyle:{width:\"150px\"},attrs:{clearable:\"\",size:\"small\",placeholder:\"请选择渠道\",options:t.form.qudaoList,\"change-on-select\":\"\"},on:{change:t.QDsearch},model:{value:t.form.model_qudao,callback:function(a){t.$set(t.form,\"model_qudao\",a)},expression:\"form.model_qudao\"}})],1),e(\"Col\",[t._v(\"\\n                        归属单位:\\n                        \"),e(\"Select\",{staticStyle:{width:\"120px\",\"margin-left\":\"5px\"},attrs:{clearable:\"\"},on:{\"on-change\":t.STGRsearch},model:{value:t.form.gsdw,callback:function(a){t.$set(t.form,\"gsdw\",a)},expression:\"form.gsdw\"}},t._l(t.gsdwlist,function(a){return e(\"Option\",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),e(\"Col\",[t._v(\"\\n                        水库等级:\\n                        \"),e(\"Select\",{staticStyle:{width:\"120px\",\"margin-left\":\"5px\"},attrs:{clearable:\"\"},on:{\"on-change\":t.LEVELsearch},model:{value:t.form.skdj,callback:function(a){t.$set(t.form,\"skdj\",a)},expression:\"form.skdj\"}},t._l(t.skdjlist,function(a){return e(\"Option\",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),e(\"Col\",{staticClass:\"btn_baobiao\",staticStyle:{display:\"flex\",\"justify-content\":\"flex-start\"}},[e(\"Input\",{staticStyle:{width:\"auto\",\"margin-right\":\"10px\"},attrs:{search:\"\",\"enter-button\":\"\",suffix:\"ios-search\",placeholder:\"请输入站名\"},on:{\"on-search\":t.search},model:{value:t.form.searchmsg,callback:function(a){t.$set(t.form,\"searchmsg\",a)},expression:\"form.searchmsg\"}}),e(\"Button\",{staticStyle:{width:\"auto\",\"margin-right\":\"10px\"},attrs:{type:\"primary\"},on:{click:t.err}},[t._v(\"导出\")]),e(\"Button\",{staticStyle:{width:\"auto\",\"margin-right\":\"0px\"},attrs:{type:\"primary\"},on:{click:t.optable}},[t._v(\"综合报表\")])],1)],1),e(\"Divider\"),e(\"Row\",{staticStyle:{\"font-size\":\"16px\"}},[e(\"Col\",{staticClass:\"borsLine\",staticStyle:{\"font-size\":\"14px\"}},[t._v(\"总站数：\"+t._s(t.data.length)+\" \\n                    单位：水位 m，流量m³/s，水量 10⁶m³\")])],1),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.data,border:\"\",height:\"480\"},on:{\"cell-click\":t.cellclick,\"sort-change\":t.sort_change}},[e(\"el-table-column\",{attrs:{label:\" \",type:\"index\",align:\"center\",width:\"65\",index:t.indexMethod}}),e(\"el-table-column\",{attrs:{prop:\"STNM\",label:\"站名\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"RZ\",label:\"平均水位\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"INQ\",label:\"平均入库流量\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"OTQ\",label:\"平均出库流量\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"MW\",label:\"月蓄水量\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"Max_RZ\",label:\"月最高水位\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"Max_TM\",label:\"月最高水位时刻\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"Min_RZ\",label:\"月最低水位\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"Min_TM\",label:\"月最低水位时刻\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"FWL\",label:\"汛限水位4-6月\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"FWL79\",label:\"汛限水位7-9月\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"LEVEL\",label:\"水库等级\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"STGR\",label:\"归属单位\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"Canal_Name\",label:\"渠道\",sortable:\"\",align:\"center\"}}),e(\"el-table-column\",{attrs:{prop:\"AD_NM\",label:\"地址\",sortable:\"\",align:\"center\"}})],1),e(\"div\",{staticStyle:{margin:\"10px\",overflow:\"hidden\"}},[e(\"div\",{staticStyle:{float:\"right\"}},[e(\"Page\",{attrs:{total:t.list_input.total,current:t.list_input.current,\"show-sizer\":\"\",\"page-size\":t.list_input.pagesize,\"page-size-opts\":t.list_input.pagesizeopts,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.CurrentChange,\"on-page-size-change\":t.PagesizeChange}})],1)])],1),e(\"el-dialog\",{attrs:{title:\"综合报表\",visible:t.dialog_detail_showing,width:\"1200px\",\"append-to-body\":\"\"},on:{\"update:visible\":function(a){t.dialog_detail_showing=a}}},[e(\"Row\",[e(\"Col\",{staticStyle:{\"text-align\":\"center\",\"font-size\":\"20px\"}},[t._v(\"\\n                    \"+t._s(this.form.date)+\" 水库水情月表\\n                  \")])],1),e(\"Row\",[e(\"Col\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"\\n                    总站数：\"+t._s(t.Tables.total)+\"，单位：水位 m，流量m³/s，水量 10⁶m³\\n                  \")]),e(\"Col\",{staticStyle:{position:\"absolute\",right:\"0\",bottom:\"0px\"}},[e(\"Button\",{staticStyle:{width:\"auto\",\"margin-right\":\"20px\"},attrs:{type:\"primary\"},on:{click:t.err}},[t._v(\"导出\")])],1)],1),e(\"Divider\"),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.Tables.data,border:\"\",height:\"500\"},on:{\"sort-change\":t.sort_change}},[e(\"el-table-column\",{attrs:{prop:\"canal_name\",label:\"渠道\",sortable:\"\",align:\"center\",width:\"100\"}}),e(\"el-table-column\",{attrs:{prop:\"stnm\",label:\"站名\",sortable:\"\",align:\"center\",width:\"\"}}),e(\"el-table-column\",{attrs:{prop:\"RZ\",label:\"平均水位\",sortable:\"\",align:\"center\",width:\"140\"}}),e(\"el-table-column\",{attrs:{prop:\"INQ\",label:\"平均入库流量\",sortable:\"\",align:\"center\",width:\"140\"}}),e(\"el-table-column\",{attrs:{prop:\"OTQ\",label:\"平均出库流量\",sortable:\"\",align:\"center\",width:\"140\"}}),e(\"el-table-column\",{attrs:{prop:\"MW\",label:\"月蓄水位\",sortable:\"\",align:\"center\",width:\"150\"}})],1)],1)],1)},s=[],o=(e(\"28a5\"),e(\"f499\")),i=e.n(o),r=e(\"aaf8\"),n=e(\"a53b\"),d=(e(\"3dfd\"),{data:function(){return{loading:!1,dialog_detail_showing:!1,gsdwlist:[{value:\"1\",label:\"国家重要站\"},{value:\"2\",label:\"省级重要站\"},{value:\"3\",label:\"一般站\"},{value:\"4\",label:\"实验或专用站\"},{value:\"5\",label:\"山洪站\"},{value:\"6\",label:\"临时站\"},{value:\"7\",label:\"其他站\"},{value:\"8\",label:\"灌区站\"}],skdjlist:[{value:\"1\",label:\"大型\"},{value:\"2\",label:\"中型\"},{value:\"3\",label:\"小I型\"},{value:\"4\",label:\"小II型\"},{value:\"5\",label:\"山塘\"}],form:{adressList:[],qudaoList:[],model_adress:\"\",zdlx:\"\",model_qudao:\"\",date:\"\",searchmsg:\"\",field:\"\"},date:\"\",data:[],xzqhdata:[],xzqh:\"\",list_input:{total:100,pagesize:50,pagesizeopts:[10,20,50,75,100,200],current:1},Tables:{title:\"\",total:\"\",data:[]},searchs:\"\",search1:\"&STNM=\",search2:\"&TM=\",search3:\"&\",search4:\"&\",search5:\"&\",timesearch:\"\"}},mixins:[r[\"a\"],n[\"a\"]],mounted:function(){var t=new Date,a=t.getMonth()+1;this.form.date=t.getFullYear()+\"-\"+a,this.form.YE=t.getFullYear(),this.form.MON=a,this.Reload()},methods:{sort_change:function(t){console.log(t),\"ascending\"==t.order&&(this.form.field=t.prop,this.Reload()),\"descending\"==t.order&&(this.form.field=t.prop+\" desc\",this.Reload()),null==t.order&&(this.form.field=\"\",this.Reload())},optable:function(){this.dialog_detail_showing=!0},cellclick:function(t,a,e,l){var s=new Object;s.graphic=new Object,s.graphic.attributes=t,s.graphic.attributes.itype=\"shuikushuiqing\",s.graphic.attributes.rowinfo=JSON.parse(i()(t)),s.graphic.attributes.rowinfo.tableType={sksq:\"monthTable\"};var o=new Object;o.itype=\"shuikushuiqing\",console.log(\"evt\",s),this.$App.showDrawer(s,o)},err:function(){this.$Message.warning(\"该功能还在开发中...\")},indexMethod:function(t){return t+1+this.list_input.pagesize*(this.list_input.current-1)},search:function(){\"\"!=this.form.searchmsg?this.searchs=\"&STNM=\"+this.form.searchmsg:this.searchs=\"\",this.Reload()},timechange:function(){console.log(this.form.date);var t=this.form.date.split(\"-\");this.form.YE=t[0],this.form.MON=t[1],this.Reload()},XZQHsearch:function(){console.log(this.form.model_adress),this.Reload()},QDsearch:function(){console.log(this.form.model_qudao),this.Reload()},STGRsearch:function(){console.log(this.form.gsdw),this.Reload()},LEVELsearch:function(){console.log(this.form.skdj),this.Reload()},Reload:function(){var t=this;if(this.loading=!0,0==this.form.model_adress.length&&(this.form.xzqh=\"\"),1==this.form.model_adress.length){var a=this.form.model_adress[0];a=a.substring(0,6),this.form.xzqh=a}if(2==this.form.model_adress.length){var e=this.form.model_adress[1];e=e.substring(0,9),this.form.xzqh=+e}if(3==this.form.model_adress.length){var l=this.form.model_adress[2];l=l.substring(0,12),this.form.xzqh=l}0==this.form.model_qudao.length&&(this.form.qd=\"\"),1==this.form.model_qudao.length&&(this.form.qd=this.form.model_qudao[0]),2==this.form.model_qudao.length&&(this.form.qd=this.form.model_qudao[1]),this.axios.get(\"/guanqu/shuikushuiqing/lishi_yuebiao?\"+this.searchs,{params:{YR:this.form.YE,MON:this.form.MON,ADDVCD:this.form.xzqh,Canal_Code:this.form.qd,STGR:this.form.gsdw,LEVEL:this.form.skdj}}).then(function(a){console.log(a),t.loading=!1,t.data=a.data.list,t.list_input.total=a.data.total,t.Tables.title=t.data[0].YE+\"-\"+t.data[0].MON;for(var e=0;e<t.data.length;e++)t.data[e].RZ=t.Z_Filter(t.data[e].RZ),t.data[e].BLRZ=t.Z_Filter(t.data[e].BLRZ),t.data[e].INQ=t.Z_Filter(t.data[e].INQ,3),t.data[e].MW=t.Z_Filter(t.data[e].MW,3),t.data[e].OTQ=t.Z_Filter(t.data[e].OTQ,3),t.data[e].Max_RZ=t.Z_Filter(t.data[e].Max_RZ),t.data[e].Min_RZ=t.Z_Filter(t.data[e].Min_RZ),t.data[e].FWL=t.Z_Filter(t.data[e].FWL),t.data[e].FWL79=t.Z_Filter(t.data[e].FWL79),t.data[e].Max_TM=t.dateFilter(t.data[e].Max_TM),t.data[e].Min_TM=t.dateFilter(t.data[e].Min_TM)}),this.axios.get(\"/guanqu/shuikushuiqing/lishi_yuebiao?_page_size=99999\"+this.searchs,{params:{YR:this.form.YE,MON:this.form.MON,ADDVCD:this.form.xzqh,Canal_Code:this.form.qd,STGR:this.form.gsdw,LEVEL:this.form.skdj}}).then(function(a){console.log(a),t.loading=!1,t.Tables.data=a.data.list;for(var e=0;e<t.Tables.data.length;e++)t.Tables.data[e].RZ=t.Z_Filter(t.Tables.data[e].RZ),t.Tables.data[e].BLRZ=t.Z_Filter(t.Tables.data[e].BLRZ),t.Tables.data[e].INQ=t.Z_Filter(t.Tables.data[e].INQ,3),t.Tables.data[e].MW=t.Z_Filter(t.Tables.data[e].MW,3),t.Tables.data[e].OTQ=t.Z_Filter(t.Tables.data[e].OTQ,3)}),this.axios.get(\"/guanqu/table/ST_RSVR_R1\").then(function(a){t.Tables.total=a.data.total}),this.getTableData_WRP_AD_B(function(a){t.form.adressList=a}),this.getTableData_WRP_IrrBTCanalSystem(function(a){t.form.qudaoList=a})},CurrentChange:function(t){this.list_input.current=t,this.data[0].ID=t*this.list_input.pagesize,this.Reload()},PagesizeChange:function(t){this.list_input.pagesize=t,this.Reload()}},components:{},created:function(){console.dir(\"showDrawer\",this.$showDrawer)}}),c=d,h=e(\"2877\"),u=Object(h[\"a\"])(c,l,s,!1,null,null,null);a[\"default\"]=u.exports}}]);","extractedComments":[]}