{"remainingRequest":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\huangcaiplace\\zhihuiguanqu\\src\\components\\BaseBox\\BaseBox-zhafashuiqing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huangcaiplace\\zhihuiguanqu\\src\\components\\BaseBox\\BaseBox-zhafashuiqing.vue","mtime":1577669404019},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangcaiplace\\zhihuiguanqu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _JSON$stringify from \"D:\\\\huangcaiplace\\\\zhihuiguanqu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TipsZHAFASHUIQING from \"@/components/BaseBox/Tips/Tips-zhafashuiqing.vue\";\nimport FilterMethods from \"@/assets/commonJS/FilterMethods\";\nimport GetDataMethods from \"@/assets/commonJS/GetDataMethods\";\nexport default {\n  props: {\n    featrue: {\n      type: Object\n    },\n    search_FeatrueLayer: {\n      type: Function\n    }\n  },\n  components: {\n    TipsZHAFASHUIQING: TipsZHAFASHUIQING\n  },\n  data: function data() {\n    return {\n      // 折叠面板对象\n      collapse: {\n        activeName: \"\",\n        list: []\n      },\n      // 地图对象\n      map: null,\n      // 该图层对象\n      JsonFlayer: null,\n      // 文字标注图层\n      TextGraphicsLayers: [],\n      // 提示 展示\n      tip: {\n        info_tip: null,\n        show_tip: false\n      },\n      // 表单数据\n      form: {\n        search_str: \"\",\n        adressList: [],\n        // 渠道选择列表\n        qudaoList: [],\n        social: [\"site\"],\n        siteList: [{\n          value: \"1\",\n          label: \"闸门\"\n        }, {\n          value: \"2\",\n          label: \"阀门\"\n        }],\n        // 多选框列表\n        checkBoxList: [{\n          value: \"site\",\n          size: \"small\",\n          // iconType: \"logo-facebook\",\n          title: \"站点\"\n        }, {\n          value: \"STNM\",\n          size: \"small\",\n          // iconType: \"logo-facebook\",\n          title: \"站名\"\n        }, {\n          value: \"UPZ\",\n          size: \"small\",\n          // iconType: \"logo-facebook\",\n          title: \"闸前水深\"\n        }, {\n          value: \"DWZ\",\n          size: \"small\",\n          // iconType: \"logo-facebook\",\n          title: \"闸后水深\"\n        }, {\n          value: \"Q\",\n          size: \"small\",\n          // iconType: \"logo-facebook\",\n          title: \"流量\"\n        }],\n        model_adress: null,\n        model_qudao: null,\n        model_site: null\n      },\n      // 表格数据\n      table: {\n        // 表头设置\n        columns: [{\n          title: \"\",\n          key: \"index\",\n          width: 45,\n          align: \"center\",\n          fixed: \"left\"\n        }, {\n          title: \"站名\",\n          key: \"STNM\",\n          width: 120,\n          align: \"center\",\n          fixed: \"left\",\n          sortable: \"custom\"\n        }, {\n          title: \"时间\",\n          key: \"TM\",\n          width: 130,\n          align: \"center\",\n          sortable: \"custom\"\n        }, {\n          title: \"流量(m³/s)\",\n          key: \"Q\",\n          width: 110,\n          align: \"center\",\n          sortable: \"custom\"\n        }, {\n          title: \"闸前水深(m)\",\n          key: \"UPZ\",\n          width: 120,\n          align: \"center\",\n          sortable: \"custom\"\n        }, {\n          title: \"闸后水深(m)\",\n          key: \"DWZ\",\n          width: 120,\n          align: \"center\",\n          sortable: \"custom\"\n        }],\n        // 表体内容\n        Rows: [],\n        // 过滤后的表体内容\n        Rows_filter: [],\n        // 表格是否加载中\n        loading: false,\n        // 当前页\n        currentPage: 1,\n        // 每页显示数量\n        pageSizes: 20,\n        // 表体高度\n        height: 300\n      }\n    };\n  },\n  // 引入过滤方法到此组件\n  mixins: [FilterMethods, GetDataMethods],\n  methods: {\n    // 表格每一行点击事件\n    cellClick: function cellClick(item) {\n      var evt = new Object();\n      evt.graphic = new Object();\n      evt.graphic.attributes = item;\n      evt.graphic.attributes.rowinfo = JSON.parse(_JSON$stringify(item));\n      evt.graphic.attributes.rowinfo.tableType = {\n        zfsq: \"historyTable\"\n      };\n      var v = new Object();\n      v.itype = \"zhafashuiqing\"; // 设置中心缩放\n\n      this.setMapCenterandZoom(item.LGTD, item.LTTD); // 取消所有站点的闪烁\n\n      this.$App.GraphicsLayer_Selection_clear(); // 对应站点闪烁\n\n      this.$App.add_Graphic_To_GraphicsLayer_Selection(item); // 展示抽屉详情框\n\n      this.$App.showDrawer(evt, v);\n    },\n    // 展示提示框\n    showTips: function showTips(item) {\n      var _this = this;\n\n      // 隐藏之前提示框\n      this.hideTips();\n      console.log(\"item.rowinfo\", item.rowinfo);\n      if (item.rowinfo.TM === null) item.rowinfo.TM = '';\n      var div = \"<div>\\n        <div class=\\\"tip_row\\\">\\n                <span class=\\\"tip_col_5\\\">\\u65F6\\u95F4\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\">\\n                \".concat(item.rowinfo.TM ? '20' + item.rowinfo.TM.substr(0, 14) : \"\", \"\\n                </span>\\n                <span class=\\\"tip_col_5\\\">\\u6D41\\u91CF\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\">\").concat(this.$FilterData.Float_Filter(item.rowinfo.Q, 3) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.Q, 3) + \"m³/s\", \"</span>\\n                <span class=\\\"tip_col_5\\\">\\u95F8\\u524D\\u6C34\\u6DF1\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\">\").concat(this.$FilterData.Float_Filter(item.rowinfo.UPZ) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.UPZ) + \"m\", \"</span>\\n              </div>\\n              <div class=\\\"divider\\\"></div>\\n              <div class=\\\"tip_row\\\">\\n                <span class=\\\"tip_col_5\\\">\\u95F8\\u524D\\u6C34\\u52BF\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\" id=\\\"\").concat(item.STCD, \"_zhaqianshuishi\\\">\\n\\n                </span>\\n                <span class=\\\"tip_col_5\\\">\\u95F8\\u540E\\u6C34\\u6DF1\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\">\\n                \").concat(this.$FilterData.Float_Filter(item.rowinfo.DWZ) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.DWZ) + \"m\", \"\\n                </span>\\n                <span class=\\\"tip_col_5\\\" >\\u95F8\\u540E\\u6C34\\u52BF\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\" id=\\\"\").concat(item.STCD, \"_zhahoushuishi\\\">\\n\\n                </span>\\n              </div>\\n              <div class=\\\"divider\\\"></div>\\n              <div class=\\\"tip_row\\\">\\n                <span class=\\\"tip_col_5\\\">\\u9884\\u8B66\\u95F8\\u524D\\u6C34\\u6DF1\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\" id=\\\"\").concat(item.STCD, \"_YJZQ_Z\\\">\\n                \").concat(this.$FilterData.Float_Filter(item.rowinfo.YUJING_SZ) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.YUJING_SZ) + \"m\", \"\\n                </span>\\n                <span class=\\\"tip_col_5\\\" >\\u9884\\u8B66\\u95F8\\u540E\\u6C34\\u6DF1\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\" id=\\\"\").concat(item.STCD, \"_YJZH_Z\\\">\\n                \").concat(this.$FilterData.Float_Filter(item.rowinfo.YUJING_EZ) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.YUJING_EZ) + \"m\", \"\\n                </span>\\n                <span class=\\\"tip_col_5\\\" >\\u9884\\u8B66\\u6D41\\u91CF\\uFF1A</span>\\n                <span class=\\\"tip_col_7\\\" id=\\\"\").concat(item.STCD, \"_YJQ\\\">\\n                \").concat(this.$FilterData.Float_Filter(item.rowinfo.YUJING_Q, 3) == \"\" ? \"\" : this.$FilterData.Float_Filter(item.rowinfo.YUJING_Q, 3) + \"m³/s\", \"\\n                </span>\\n              </div>\\n              <div class=\\\"divider\\\"></div>\\n        <div id=\\\"\").concat(item.STCD, \"\\\" style=\\\"width: 450px;height:290px;margin:auto\\\"></div>\\n      </div>\");\n      this.map.infoWindow.resize(730, 650); // 提示框大小\n\n      this.map.infoWindow.setTitle(item.STNM); // 提示题目\n\n      this.map.infoWindow.setContent(div); // 提示内容\n      //获取坐标\n\n      var x = Number(item.LGTD);\n      var y = Number(item.LTTD); //如果basemap使用ArcGIS的就需要\n      //转换坐标系\n\n      x = x / 180.0 * 20037508.34;\n      if (y > 85.05112) y = 85.05112;\n      if (y < -85.05112) y = -85.05112;\n      y = Math.PI / 180.0 * y;\n      var tmp = Math.PI / 4.0 + y / 2.0;\n      y = 20037508.34 * Math.log(Math.tan(tmp)) / Math.PI;\n      var zoompoint = {\n        //spatialReference: {wkid: 4326},\n        spatialReference: this.map.spatialReference,\n        x: x,\n        y: y\n      };\n      this.map.infoWindow.show(zoompoint); // 提示位置\n      // 如果事件类型不是鼠标经过，则\n\n      if (item.eventType != \"mouse-over\") {\n        // 设置中心和缩放 (接受经纬度，和缩放比例)\n        this.setMapCenterandZoom(Number(item.LGTD) + 0.1, item.LTTD);\n      }\n\n      var body = {\n        STCD: item.STCD,\n        _page_size: 999999\n      }; // 时间参数\n\n      var DTT = this.$FilterData.elDatePicker_Filter(this.$App.zeroPointToNowOfTheDay()).split(\",\");\n      body.Time_min = DTT[1];\n      body.Time_max = DTT[2];\n      this.$GetData.Survey_History_ZFSQ(\"historyTable\", body, {\n        default: true\n      }, function (data) {\n        _this.setWPTN_HTML(\"\".concat(item.STCD, \"_zhaqianshuishi\"), item.rowinfo.SUPWPTN);\n\n        _this.setWPTN_HTML(\"\".concat(item.STCD, \"_zhahoushuishi\"), item.rowinfo.SDWWPTN);\n\n        _this.createChart(item.STCD, data.data);\n      }); // this.$GetData.Survey_History_ZFSQ(\n      //   \"alarmTable\",\n      //   {\n      //     STCD: item.STCD\n      //   },\n      //   {\n      //     default: true\n      //   },\n      //   data => {\n      //     var data = data.data[0];\n      //     if (data) {\n      //       var YJZQ_Z_div = document.getElementById(`${item.STCD}_YJZQ_Z`),\n      //         YJZH_Z_div = document.getElementById(`${item.STCD}_YJZH_Z`),\n      //         YJQ_div = document.getElementById(`${item.STCD}_YJQ`);\n      //       YJZQ_Z_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\n      //         data.SZ\n      //       )}m</span>`;\n      //       YJZH_Z_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\n      //         data.EZ\n      //       )}m</span>`;\n      //       YJQ_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\n      //         data.Q,\n      //         3\n      //       )}m³/s</span>`;\n      //     }\n      //   }\n      // );\n    },\n    setWPTN_HTML: function setWPTN_HTML(id, WPTN) {\n      var div = document.getElementById(id);\n      var html;\n\n      switch (WPTN) {\n        case \"4\":\n          html = \"<span style=\\\"color:blue\\\">\\u2193</span>\";\n          break;\n\n        case \"5\":\n          html = \"<span style=\\\"color:red\\\">\\u2191</span>\";\n          break;\n\n        case \"6\":\n          html = \"<span style=\\\"color:black\\\">\\u4E00</span>\";\n          break;\n\n        default:\n          html = \"\";\n          break;\n      }\n\n      if (div) {\n        div.innerHTML = html;\n      }\n    },\n    // 设置中心和缩放 (接受经纬度，和缩放比例)\n    setMapCenterandZoom: function setMapCenterandZoom(LGTD, LTTD, Zoom) {//koen 20190929\n      //暂时不允许点击，防止缩到全球地图的bug\n      //this.map.centerAndZoom([Number(LGTD), Number(LTTD)], Zoom || 1);\n    },\n    // 隐藏提示\n    hideTips: function hideTips() {\n      this.map.infoWindow.hide();\n      this.tip.show_tip = false; // 关闭提示框组件\n    },\n    // 制图\n    createChart: function createChart(id, data) {\n      if (data.length > 0) {\n        var echartData = this.$App.transform_ZFSQ_data_into_ehart_data(data, \"historyTable\", true); // 渠道水情历史统计表数据 转 ehart图形用数据 返回一个对象, 对象里分别装 Y1轴对象 Y2轴对象 X轴对象\n\n        console.warn(\"echartData.x.list\", echartData.x.list);\n        var x_List = echartData.x.list.map(function (item) {\n          item = item.substr(10);\n          console.log('++++++++++++++', item);\n          return item;\n        });\n        console.warn(\"echartData.x.list\", x_List); // var y2_y3_max =\n        //   echartData.y2.max > echartData.y3.max\n        //     ? echartData.y2.max\n        //     : echartData.y3.max;\n        // var y2_y3_min =\n        //   echartData.y2.min < echartData.y3.min\n        //     ? echartData.y2.min\n        //     : echartData.y3.min;\n\n        var myChart = this.$echarts.init(document.getElementById(id));\n        myChart.setOption({\n          title: {\n            text: \"今日水情图\"\n          },\n          tooltip: {\n            trigger: \"axis\"\n          },\n          legend: {\n            data: [echartData.y1.name, echartData.y2.name, echartData.y3.name],\n            y: \"bottom\"\n          },\n          calculable: true,\n          animation: false,\n          xAxis: [{\n            type: \"category\",\n            boundaryGap: false,\n            data: x_List,\n            axisTick: {\n              interval: function interval(index, val) {\n                var listLength = echartData.x.list.length;\n\n                if (listLength >= 4) {\n                  var tick = Math.round(listLength / 4); // console.log((index + 1) % tick === 0);\n                  // console.log('1575listLength',listLength);\n                  // console.log('1576tick',tick);\n\n                  if ((index + 1) % tick === 0) {\n                    return true;\n                  } else {\n                    return false;\n                  }\n                } else {\n                  return true;\n                }\n              },\n              length: 10\n            },\n            axisLabel: {\n              interval: function interval(index, val) {\n                var listLength = echartData.x.list.length;\n\n                if (listLength >= 4) {\n                  var tick = Math.round(listLength / 4); // console.log('1575listLength',listLength);\n                  // console.log('1576tick',tick);\n\n                  var a = (index + 1) % tick;\n\n                  if ((index + 1) % tick === 0) {\n                    return true;\n                  } else {\n                    return false;\n                  }\n                } else {\n                  return true;\n                }\n              },\n              rotate: 10,\n              margin: 16\n            }\n          }],\n          yAxis: [{\n            name: \"\".concat(echartData.y1.name, \" m\\xB3/s\"),\n            type: \"value\",\n            axisLabel: {\n              formatter: \"{value} \"\n            },\n            scale: true // max: echartData.y1.max,\n            // min: echartData.y1.min\n\n          }, {\n            name: \"\\u95F8\\u9600\\u4E0A/\\u4E0B\\u6C34\\u6DF1m\",\n            type: \"value\",\n            axisLabel: {\n              formatter: \"{value} \"\n            },\n            scale: true\n          }],\n          series: [{\n            name: echartData.y1.name,\n            type: \"line\",\n            data: echartData.y1.list\n          }, {\n            name: echartData.y2.name,\n            type: \"line\",\n            data: echartData.y2.list,\n            yAxisIndex: 1\n          }, {\n            name: echartData.y3.name,\n            type: \"line\",\n            data: echartData.y3.list,\n            yAxisIndex: 1\n          }]\n        });\n      } else {\n        var myChart = document.getElementById(id);\n        myChart.style.display = \"flex\";\n        myChart.style.alignItems = \"center\";\n        myChart.style.justifyContent = \"center\";\n        myChart.innerHTML = \"暂无今天数据\";\n      }\n    },\n    // 表格加载\n    tableLoading: function tableLoading() {\n      this.table.loading = true;\n    },\n    // 表格加载取消\n    cancelTableLoading: function cancelTableLoading() {\n      this.table.loading = false;\n    },\n    // 加载表格数据\n    loadTableData: function loadTableData(data) {\n      // 加载站点数据\n      this.table.Rows = data;\n    },\n    getDataFromEnd: function getDataFromEnd(url, callback) {\n      // 获取表格数据 `/guanqu/gis/details?ID=${this.info.ID}`\n      this.axios.get(url).then(function (res) {\n        if (typeof callback == \"function\") {\n          callback(res);\n        }\n      });\n    },\n    // 查询\n    search: function search() {\n      var _this2 = this;\n\n      var body = new Object(); // 如果输入框有内容，添加站名过滤字段\n\n      if (this.form.search_str.length > 0) {\n        body[\"STNM\"] = \"\".concat(this.form.search_str);\n      } // 如果地址选择框有内容，添加行政区划过滤字段\n\n\n      if (this.form.model_adress && this.form.model_adress.length != 0) {\n        body[\"ADDVCD\"] = \"\".concat(this.$App.ADDVCD_Array_Filter(this.form.model_adress));\n      } // 如果渠道选择框有内容，添加渠道过滤字段\n\n\n      if (this.form.model_qudao && this.form.model_qudao.length != 0) {\n        body[\"Canal_Code\"] = \"\".concat(this.$App.Canal_Code_Array_Filter(this.form.model_qudao));\n      } // 如果站点类型选择框有内容，添加行政区划过滤字段\n\n\n      if (this.form.model_site) {\n        body[\"CTYPE\"] = this.form.model_site;\n      }\n\n      this.tableLoading(); // 表格加载中\n\n      this.search_FeatrueLayer('zhafashuiqing', body, this.featrue, function (newFeatureLayerOBJ) {\n        _this2.table.currentPage = 1;\n\n        _this2.baseBox_init();\n\n        _this2.cancelTableLoading(); //取消表格加载\n\n\n        _this2.hideTips();\n      });\n    },\n    // 给图层对象添加方法\n    addEventToJsonFlayer: function addEventToJsonFlayer(JsonFlayer) {\n      var _this3 = this;\n\n      //当鼠标悬停在元素上\n      JsonFlayer.on(\"mouse-over\", function (evt) {\n        var attributes = evt.graphic.attributes;\n        attributes.eventType = \"mouse-over\";\n\n        _this3.showTips(attributes); // 给地图对象添加方法\n\n\n        _this3.addEventToMap();\n      }); //当鼠标悬停在元素上\n\n      JsonFlayer.on(\"mouse-out\", function (evt) {// this.hideTips();\n      });\n    },\n    // 给地图对象添加方法\n    addEventToMap: function addEventToMap() {\n      var _this4 = this;\n\n      this.map.on(\"click\", function () {\n        // 隐藏提示\n        _this4.hideTips();\n      });\n    },\n    // 处理页码切换\n    handleCurrentChange: function handleCurrentChange(index) {\n      this.table.currentPage = index;\n    },\n    // 处理每页显示条数切换\n    handleSizeChange: function handleSizeChange(pageSizes) {\n      this.table.pageSizes = pageSizes;\n      this.table.currentPage = 1;\n    },\n    // 分页过滤\n    pageFilter: function pageFilter(currentPage, pageSizes) {\n      var _currentPage = currentPage || this.table.currentPage;\n\n      var _pageSizes = pageSizes || this.table.pageSizes;\n\n      if (this.table.Rows_filter.length != 0) {\n        // 截取数组\n        var newList = this.table.Rows_filter.slice((_currentPage - 1) * _pageSizes, _currentPage * _pageSizes);\n        return newList;\n      } else {\n        return [];\n      }\n    },\n    // 过滤table数据\n    filterTableData: function filterTableData() {\n      var _this5 = this;\n\n      console.log(\"闸阀水情\", this.table.Rows);\n      this.table.Rows_filter = this.table.Rows.map(function (val, index) {\n        var val_clone = JSON.parse(_JSON$stringify(val)); // 序号\n\n        val_clone.index = index + 1; // 时间过滤\n\n        val_clone.TM = _this5.$FilterData.dateFilter(val_clone.TM, 5, null, 0); // 流量过滤\n\n        val_clone.Q = _this5.Z_Filter(val_clone.Q, 3); // 闸前水深过滤\n\n        val_clone.UPZ = _this5.Z_Filter(val_clone.UPZ); // 闸后水深过滤\n\n        val_clone.DWZ = _this5.Z_Filter(val_clone.DWZ); // 闸前水势过滤\n\n        val_clone.SUPWPTN = _this5.WPTN_Filter(val_clone.SUPWPTN); // 闸后水势过滤\n\n        val_clone.SDWWPTN = _this5.WPTN_Filter(val_clone.SDWWPTN);\n        return val_clone;\n      });\n    },\n    // 选取一部分从父组件传来的数据作为表格的数据\n    getTableDataFormParent: function getTableDataFormParent() {\n      var tableData = this.featrue.Rows.map(function (val) {\n        return val.rowinfo;\n      });\n      console.log(\"tableData_zhafashuiqing\", tableData);\n      return tableData;\n    },\n    // 获取图层对象,从父组件中\n    getJsonFlayerFormParent: function getJsonFlayerFormParent() {\n      this.JsonFlayer = this.featrue.LayerObject;\n    },\n    // 获取地图对象,从父组件中\n    getMapFormParent: function getMapFormParent() {\n      this.map = this.featrue.map;\n    },\n    // 往featrue对象里添加操作TextGraphicsLayer的对象，里面有移除所有TextGraphicsLayer的方法，和根据多选框添加文字标注图层的方法\n    addTextGraphicsLayerControllerToFeatrue: function addTextGraphicsLayerControllerToFeatrue() {\n      this.featrue.TextGraphicsLayerController = new Object();\n      this.featrue.TextGraphicsLayerController.removeAllTextGraphicsLayer = this.removeAllTextGraphicsLayer;\n      this.featrue.TextGraphicsLayerController.addTextGraphicsLayerByCheckGroup = this.addTextGraphicsLayerByCheckGroup;\n    },\n    // 多选框标记勾选触发事件\n    checkboxGroup_onChange: function checkboxGroup_onChange(onCheck_Array) {\n      this.removeAllTextGraphicsLayer(); // 清除所有文本标注图层\n\n      this.addTextGraphicsLayerByCheckGroup(); // 根据多选框添加文字标注图层\n    },\n    // 添加文字标注图层\n    addTextGraphicsLayer: function addTextGraphicsLayer(options) {\n      var textGraphicsLayer = new esri.layers.GraphicsLayer(); // 新增一个标注文本图层\n\n      textGraphicsLayer.textType = options.textType;\n      this.featrue.map.addLayer(textGraphicsLayer); // 给地图添加新增的标注文本图层\n\n      var Rows = this.featrue.Rows; //创建textsymbol文本标注\n\n      if (Rows.length > 0) {\n        //动态读取json数据源结果集\n        for (var i = 0; i < Rows.length; i++) {\n          var Row = Rows[i];\n          var point = new esri.geometry.Point(Row.geometry.x, Row.geometry.y, this.featrue.map.spatialReference); //定义文本symbol\n\n          var textsymbol = new esri.symbol.TextSymbol(Row.rowinfo[options.textType]) //动态设置文本值\n          .setColor(new dojo.Color(options.color || [55, 55, 55])) //setColor设置文本颜色\n          .setFont(new esri.symbol.Font(options.fontSize || \"10pt\") //setFont设置文本大小\n          .setWeight(esri.symbol.Font.WEIGHT_BOLD)) //setWeight设置文本粗体\n          .setOffset(options.offset_x || 0, options.offset_y || -25); //设置偏移方向\n\n          var graphic = new esri.Graphic(point, textsymbol);\n          textGraphicsLayer.add(graphic);\n        }\n      }\n\n      this.TextGraphicsLayers.push(textGraphicsLayer);\n    },\n    // 根据多选框添加文字标注图层\n    addTextGraphicsLayerByCheckGroup: function addTextGraphicsLayerByCheckGroup() {\n      var _this6 = this;\n\n      var textTypeList;\n      var indexOfSocial = this.form.social.indexOf(\"site\"); // 如果多选框里存在 site站点类型\n\n      if (indexOfSocial !== -1) {\n        this.featrue.LayerObject.show();\n        this.featrue.LayerObject_yujing.show();\n        textTypeList = this.form.social.filter(function (val) {\n          if (val != \"site\") {\n            return true;\n          }\n        });\n      } else {\n        this.featrue.LayerObject.hide();\n        this.featrue.LayerObject_yujing.hide();\n        textTypeList = this.form.social;\n      }\n\n      textTypeList.forEach(function (textType, index) {\n        var textGraphicsLayer = new esri.layers.GraphicsLayer(); // 新增一个图形图层\n\n        textGraphicsLayer.textType = textType;\n\n        _this6.featrue.map.addLayer(textGraphicsLayer); // 给地图添加新增的标注文本图层\n\n\n        var Rows = _this6.featrue.Rows; //创建textsymbol文本标注\n\n        if (Rows.length > 0) {\n          //动态读取json数据源结果集\n          for (var i = 0; i < Rows.length; i++) {\n            var Row = Rows[i];\n            var point = new esri.geometry.Point(Row.geometry.x, Row.geometry.y, _this6.featrue.map.spatialReference);\n            var value = Row.rowinfo[textType]; // 过滤\n\n            switch (textType) {\n              case \"DWZ\":\n                var value = \"\".concat(_this6.$FilterData.Float_Filter(Row.rowinfo[textType]));\n\n                if (value == \"\") {\n                  value = \"\";\n                } else {\n                  value += \"m\";\n                }\n\n                break;\n\n              case \"UPZ\":\n                var value = \"\".concat(_this6.$FilterData.Float_Filter(Row.rowinfo[textType]));\n\n                if (value == \"\") {\n                  value = \"\";\n                } else {\n                  value += \"m\";\n                }\n\n                break;\n\n              case \"Q\":\n                var value = \"\".concat(_this6.$FilterData.Float_Filter(Row.rowinfo[textType], 3));\n\n                if (value == \"\") {\n                  value = \"\";\n                } else {\n                  value += \"m³/s\";\n                }\n\n                break;\n            } //定义文本symbol\n\n\n            var textsymbol = new esri.symbol.TextSymbol(value) //动态设置文本值\n            .setColor(new dojo.Color(value == \"不正常\" ? [255, 0, 0] : [55, 55, 55])) //setColor设置文本颜色\n            .setFont(new esri.symbol.Font(\"10pt\") //setFont设置文本大小\n            .setWeight(esri.symbol.Font.WEIGHT_BOLD)) //setWeight设置文本粗体\n            .setOffset(0, -(25 + index * 15)); //设置偏移方向\n\n            var graphic = new esri.Graphic(point, textsymbol);\n            textGraphicsLayer.add(graphic);\n          }\n        }\n\n        _this6.TextGraphicsLayers.push(textGraphicsLayer);\n      });\n    },\n    // 移除文字标注图层\n    removeTextGraphicsLayer: function removeTextGraphicsLayer(textType) {\n      // 找到对应的文字标注图层\n      for (var i = 0; i < this.TextGraphicsLayers.length; i++) {\n        var val = this.TextGraphicsLayers[i];\n\n        if (val.textType == textType) {\n          this.featrue.map.removeLayer(val); // 移除对应的文字标注图层\n          // val.hide();\n\n          this.TextGraphicsLayers.splice(i, 1); // 从文字标注图层数组里去除对应的文字图层对象\n        }\n      }\n    },\n    // 移除所有文字标注图层\n    removeAllTextGraphicsLayer: function removeAllTextGraphicsLayer() {\n      for (var i = 0; i < this.TextGraphicsLayers.length; i++) {\n        var val = this.TextGraphicsLayers[i];\n        this.featrue.map.removeLayer(val); // 移除对应的文字标注图层\n      }\n\n      this.TextGraphicsLayers = [];\n    },\n    // 初始化baseBox\n    baseBox_init: function baseBox_init() {\n      var _this7 = this;\n\n      // 获取地图对象,从父组件中\n      this.getMapFormParent(); // 获取图层对象,从父组件中\n\n      this.getJsonFlayerFormParent(); // 选取一部分从父组件传来的数据,将其加载为表格数据\n\n      this.loadTableData(this.getTableDataFormParent()); // 过滤table数据\n\n      this.filterTableData(); // 给图层对象添加方法\n\n      this.addEventToJsonFlayer(this.JsonFlayer); // 获取行政区划数据,然后设置地址选择框选项\n\n      this.getTableData_WRP_AD_B(function (data) {\n        _this7.form.adressList = data; // data.map(val => {\n        //   var newVal = new Object();\n        //   newVal.value = val.AD_CD;\n        //   newVal.label = val.AD_NM;\n        //   return newVal;\n        // });\n      }); // 获取输排水渠道数据,然后设置渠道选择框选项\n\n      this.getTableData_WRP_IrrBTCanalSystem(function (data) {\n        _this7.form.qudaoList = data; // data.map(val => {\n        //   var newVal = new Object();\n        //   newVal.value = val.Canal_Code;\n        //   newVal.label = val.Canal_Name;\n        //   return newVal;\n        // });\n      }); // 多选框标记勾选触发事件\n      // 1.清除所有文本标注图层\n      // 2.根据多选框添加文字标注图层\n\n      this.checkboxGroup_onChange(); // 往featrue对象里添加操作TextGraphicsLayer的对象，里面有移除所有TextGraphicsLayer的方法，和根据多选框添加文字标注图层的方法\n\n      this.addTextGraphicsLayerControllerToFeatrue();\n    },\n    // 排序\n    sort_change: function sort_change(item) {\n      var order = item.order,\n          key = item.prop;\n      this.filterTableData();\n      var newList;\n\n      if (order) {\n        switch (order) {\n          case \"descending\":\n            if (key != \"TM\") {\n              newList = this.table.Rows_filter.sort(function (a, b) {\n                return Number(b[key]) - Number(a[key]);\n              });\n            } else {\n              newList = this.table.Rows_filter.sort(function (a, b) {\n                var aTime = new Date(\"20\".concat(a.TM)).getTime(),\n                    bTime = new Date(\"20\".concat(b.TM)).getTime();\n                aTime = isNaN(aTime) ? 0 : aTime;\n                bTime = isNaN(bTime) ? 0 : bTime;\n                return bTime - aTime;\n              });\n            }\n\n            break;\n\n          case \"ascending\":\n            if (key != \"TM\") {\n              newList = this.table.Rows_filter.sort(function (a, b) {\n                return Number(a[key]) - Number(b[key]);\n              });\n            } else {\n              newList = this.table.Rows_filter.sort(function (a, b) {\n                var aTime = new Date(\"20\".concat(a.TM)).getTime(),\n                    bTime = new Date(\"20\".concat(b.TM)).getTime();\n                aTime = isNaN(aTime) ? 0 : aTime;\n                bTime = isNaN(bTime) ? 0 : bTime;\n                return aTime - bTime;\n              });\n            }\n\n        }\n\n        this.table.Rows_filter = newList;\n      }\n\n      this.$TableMethods.refreshCurrentChange(this.table, 1);\n    }\n  },\n  created: function created() {\n    var _this8 = this;\n\n    // 初始化baseBox\n    this.baseBox_init();\n    this.search();\n    this.baseBox_Interval = setInterval(function () {\n      _this8.search();\n    }, 1000 * 60 * 5);\n  },\n  destroyed: function destroyed() {\n    clearInterval(this.baseBox_Interval);\n  }\n};",{"version":3,"sources":["BaseBox-zhafashuiqing.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"baseBoxContent\">\r\n    <!-- 折叠面板 -->\r\n    <Collapse active-key=\"1\">\r\n      <Panel key=\"1\">\r\n        查询\r\n        <div slot=\"content\">\r\n          <!-- 表单, 用于搜索查询 -->\r\n          <div class=\"form\">\r\n            <!-- 选择器, 按钮 -->\r\n            <Row class=\"select-group\" :gutter=\"16\">\r\n              <Col span=\"8\">\r\n                <!-- 地址级联选择器 -->\r\n                <el-cascader\r\n                  clearable\r\n                  filterable\r\n                  size=\"mini\"\r\n                  placeholder=\"地址\"\r\n                  :options=\"form.adressList\"\r\n                  v-model=\"form.model_adress\"\r\n                  @change=\"search\"\r\n                  change-on-select\r\n                ></el-cascader>\r\n              </Col>\r\n              <Col span=\"8\">\r\n                <!-- 渠道级联选择器 -->\r\n                <el-cascader\r\n                  clearable\r\n                  filterable\r\n                  size=\"mini\"\r\n                  placeholder=\"请选择渠道\"\r\n                  :options=\"form.qudaoList\"\r\n                  v-model=\"form.model_qudao\"\r\n                  @change=\"search\"\r\n                  change-on-select\r\n                ></el-cascader>\r\n              </Col>\r\n              <Col span=\"8\">\r\n                <!-- 站点类型选择器 -->\r\n                <el-select\r\n                  @change=\"search\"\r\n                  clearable\r\n                  filterable\r\n                  class=\"select-item\"\r\n                  size=\"mini\"\r\n                  v-model=\"form.model_site\"\r\n                  popper-append-to-body\r\n                  placeholder=\"站点类型\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in form.siteList\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=\"16\">\r\n              <Col span=\"24\">\r\n                <Input\r\n                  search\r\n                  enter-button\r\n                  @on-search=\"search\"\r\n                  placeholder=\"请输入要搜索的站名\"\r\n                  size=\"small\"\r\n                  v-model.trim=\"form.search_str\"\r\n                >\r\n                  <!-- <Icon type=\"ios-search\" slot=\"suffix\"/> -->\r\n                </Input>\r\n              </Col>\r\n            </Row>\r\n            <!-- 分割线 -->\r\n            <div class=\"divider\"></div>\r\n\r\n            <!-- 多选框 -->\r\n            <Row :gutter=\"16\" type=\"flex\" justify=\"center\" align=\"middle\">\r\n              <Col span=\"4\" style=\"text-align:center;\">\r\n                <span style=\"letter-spacing:5px\">标记:</span>\r\n              </Col>\r\n              <Col span=\"20\">\r\n                <CheckboxGroup\r\n                  @on-change=\"checkboxGroup_onChange\"\r\n                  v-model=\"form.social\"\r\n                  class=\"checkBox-group\"\r\n                  style=\"height:44px\"\r\n                >\r\n                  <Checkbox\r\n                    v-for=\"item in form.checkBoxList\"\r\n                    :label=\"item.value\"\r\n                    :size=\"item.size\"\r\n                    class=\"checkBoxItem\"\r\n                  >\r\n                    <span>{{ item.title }}</span>\r\n                  </Checkbox>\r\n                </CheckboxGroup>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </Panel>\r\n    </Collapse>\r\n\r\n    <!-- 表格, 用于展示数据 -->\r\n    <div>\r\n      <el-table\r\n        size=\"small\"\r\n        @cell-click=\"cellClick\"\r\n        :data=\"pageFilter()\"\r\n        border\r\n        style=\"width: 100%\"\r\n        :height=\"table.height\"\r\n        v-loading=\"table.loading\"\r\n        empty-text=\"暂无站点数据\"\r\n        @sort-change=\"sort_change\"\r\n      >\r\n        <el-table-column\r\n          v-for=\"item in table.columns\"\r\n          :prop=\"item.key\"\r\n          :align=\"item.align\"\r\n          :label=\"item.title\"\r\n          :width=\"item.width\"\r\n          :fixed=\"item.fixed\"\r\n          :sortable=\"item.sortable\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n\r\n        <!-- 自定义 -->\r\n        <el-table-column align=\"center\" label=\"闸前水势\" :width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <strong\r\n                :style=\"{\r\n              color: scope.row.SUPWPTN.status == 4? 'red' : scope.row.SUPWPTN.status == 5?'blue' : 'black',\r\n              fontSize: scope.row.SUPWPTN.status == 6?'12px' : '17px'\r\n            }\"\r\n              >{{ scope.row.SUPWPTN.symbol }}</strong>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"闸后水势\" :width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <strong\r\n                      :style=\"{\r\n              color: scope.row.SDWWPTN.status == 4? 'red' : scope.row.SDWWPTN.status == 5?'blue' : 'black',\r\n              fontSize: scope.row.SDWWPTN.status == 6?'12px' : '17px'\r\n            }\"\r\n              >{{ scope.row.SDWWPTN.symbol }}</strong>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分割线 -->\r\n      <!-- <Divider/> -->\r\n      <div class=\"divider\"></div>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        background\r\n        :page-size=\"table.pageSizes\"\r\n        layout=\"total, prev, pager, next, jumper, sizes\"\r\n        :page-sizes=\"[20, 50, 100, 200]\"\r\n        :total=\"table.Rows.length\"\r\n        :pager-count=\"5\"\r\n        :current-page=\"table.currentPage\"\r\n        @current-change=\"handleCurrentChange\"\r\n        @size-change=\"handleSizeChange\"\r\n        class=\"pageController\"\r\n        small\r\n      ></el-pagination>\r\n    </div>\r\n    <!-- 提示框 -->\r\n    <div ref=\"tip\" style=\"display:none;\">\r\n      <!-- 闸阀水情 -->\r\n      <TipsZHAFASHUIQING @chart=\"chart\" :info=\"tip.info_tip\" v-if=\"tip.show_tip\"></TipsZHAFASHUIQING>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport TipsZHAFASHUIQING from \"@/components/BaseBox/Tips/Tips-zhafashuiqing.vue\";\r\nimport FilterMethods from \"@/assets/commonJS/FilterMethods\";\r\nimport GetDataMethods from \"@/assets/commonJS/GetDataMethods\";\r\nexport default {\r\n  props: {\r\n    featrue: {\r\n      type: Object\r\n    },\r\n    search_FeatrueLayer: {\r\n      type: Function\r\n    }\r\n  },\r\n  components: {\r\n    TipsZHAFASHUIQING\r\n  },\r\n  data() {\r\n    return {\r\n      // 折叠面板对象\r\n      collapse: {\r\n        activeName: \"\",\r\n        list: []\r\n      },\r\n      // 地图对象\r\n      map: null,\r\n      // 该图层对象\r\n      JsonFlayer: null,\r\n      // 文字标注图层\r\n      TextGraphicsLayers: [],\r\n      // 提示 展示\r\n      tip: {\r\n        info_tip: null,\r\n        show_tip: false\r\n      },\r\n      // 表单数据\r\n      form: {\r\n        search_str: \"\",\r\n        adressList: [],\r\n        // 渠道选择列表\r\n        qudaoList: [],\r\n        social: [\"site\"],\r\n        siteList: [\r\n          {\r\n            value: \"1\",\r\n            label: \"闸门\"\r\n          },\r\n          {\r\n            value: \"2\",\r\n            label: \"阀门\"\r\n          }\r\n        ],\r\n        // 多选框列表\r\n        checkBoxList: [\r\n          {\r\n            value: \"site\",\r\n            size: \"small\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"站点\"\r\n          },\r\n          {\r\n            value: \"STNM\",\r\n            size: \"small\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"站名\"\r\n          },\r\n          {\r\n            value: \"UPZ\",\r\n            size: \"small\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"闸前水深\"\r\n          },\r\n          {\r\n            value: \"DWZ\",\r\n            size: \"small\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"闸后水深\"\r\n          },\r\n          {\r\n            value: \"Q\",\r\n            size: \"small\",\r\n            // iconType: \"logo-facebook\",\r\n            title: \"流量\"\r\n          }\r\n        ],\r\n        model_adress: null,\r\n        model_qudao: null,\r\n        model_site: null\r\n      },\r\n      // 表格数据\r\n      table: {\r\n        // 表头设置\r\n        columns: [\r\n          {\r\n            title: \"\",\r\n            key: \"index\",\r\n            width: 45,\r\n            align: \"center\",\r\n            fixed: \"left\"\r\n          },\r\n          {\r\n            title: \"站名\",\r\n            key: \"STNM\",\r\n            width: 120,\r\n            align: \"center\",\r\n            fixed: \"left\",\r\n            sortable: \"custom\"\r\n          },\r\n          {\r\n            title: \"时间\",\r\n            key: \"TM\",\r\n            width: 130,\r\n            align: \"center\",\r\n            sortable: \"custom\"\r\n          },\r\n          {\r\n            title: \"流量(m³/s)\",\r\n            key: \"Q\",\r\n            width: 110,\r\n            align: \"center\",\r\n            sortable: \"custom\"\r\n          },\r\n          {\r\n            title: \"闸前水深(m)\",\r\n            key: \"UPZ\",\r\n            width: 120,\r\n            align: \"center\",\r\n            sortable: \"custom\"\r\n          },\r\n          {\r\n            title: \"闸后水深(m)\",\r\n            key: \"DWZ\",\r\n            width: 120,\r\n            align: \"center\",\r\n            sortable: \"custom\"\r\n          },\r\n          // {\r\n          //   title: \"闸前水势\",\r\n          //   key: \"SUPWPTN\",\r\n          //   width: 100,\r\n          //   align: \"center\"\r\n          // },\r\n          // {\r\n          //   title: \"闸后水势\",\r\n          //   key: \"SDWWPTN\",\r\n          //   width: 100,\r\n          //   align: \"center\"\r\n          // },\r\n        ],\r\n        // 表体内容\r\n        Rows: [],\r\n        // 过滤后的表体内容\r\n        Rows_filter: [],\r\n        // 表格是否加载中\r\n        loading: false,\r\n        // 当前页\r\n        currentPage: 1,\r\n        // 每页显示数量\r\n        pageSizes: 20,\r\n        // 表体高度\r\n        height: 300\r\n      }\r\n    };\r\n  },\r\n  // 引入过滤方法到此组件\r\n  mixins: [FilterMethods, GetDataMethods],\r\n  methods: {\r\n    // 表格每一行点击事件\r\n    cellClick(item) {\r\n      var evt = new Object();\r\n      evt.graphic = new Object();\r\n      evt.graphic.attributes = item;\r\n      evt.graphic.attributes.rowinfo = JSON.parse(JSON.stringify(item));\r\n      evt.graphic.attributes.rowinfo.tableType = {\r\n        zfsq: \"historyTable\"\r\n      };\r\n      var v = new Object();\r\n      v.itype = \"zhafashuiqing\";\r\n\r\n      // 设置中心缩放\r\n      this.setMapCenterandZoom(item.LGTD, item.LTTD);\r\n      // 取消所有站点的闪烁\r\n      this.$App.GraphicsLayer_Selection_clear();\r\n      // 对应站点闪烁\r\n      this.$App.add_Graphic_To_GraphicsLayer_Selection(item);\r\n      // 展示抽屉详情框\r\n      this.$App.showDrawer(evt, v);\r\n    },\r\n    // 展示提示框\r\n    showTips(item) {\r\n      // 隐藏之前提示框\r\n      this.hideTips();\r\n      console.log(\"item.rowinfo\",item.rowinfo)\r\n\r\n      if(item.rowinfo.TM === null) item.rowinfo.TM = ''\r\n      var div = `<div>\r\n        <div class=\"tip_row\">\r\n                <span class=\"tip_col_5\">时间：</span>\r\n                <span class=\"tip_col_7\">\r\n                ${item.rowinfo.TM? '20' + item.rowinfo.TM.substr(0,14) : \"\"}\r\n                </span>\r\n                <span class=\"tip_col_5\">流量：</span>\r\n                <span class=\"tip_col_7\">${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.Q, 3) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.Q, 3) + \"m³/s\"\r\n                }</span>\r\n                <span class=\"tip_col_5\">闸前水深：</span>\r\n                <span class=\"tip_col_7\">${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.UPZ) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.UPZ) + \"m\"\r\n                }</span>\r\n              </div>\r\n              <div class=\"divider\"></div>\r\n              <div class=\"tip_row\">\r\n                <span class=\"tip_col_5\">闸前水势：</span>\r\n                <span class=\"tip_col_7\" id=\"${item.STCD}_zhaqianshuishi\">\r\n\r\n                </span>\r\n                <span class=\"tip_col_5\">闸后水深：</span>\r\n                <span class=\"tip_col_7\">\r\n                ${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.DWZ) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.DWZ) + \"m\"\r\n                }\r\n                </span>\r\n                <span class=\"tip_col_5\" >闸后水势：</span>\r\n                <span class=\"tip_col_7\" id=\"${item.STCD}_zhahoushuishi\">\r\n\r\n                </span>\r\n              </div>\r\n              <div class=\"divider\"></div>\r\n              <div class=\"tip_row\">\r\n                <span class=\"tip_col_5\">预警闸前水深：</span>\r\n                <span class=\"tip_col_7\" id=\"${item.STCD}_YJZQ_Z\">\r\n                ${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.YUJING_SZ) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.YUJING_SZ) + \"m\"\r\n                }\r\n                </span>\r\n                <span class=\"tip_col_5\" >预警闸后水深：</span>\r\n                <span class=\"tip_col_7\" id=\"${item.STCD}_YJZH_Z\">\r\n                ${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.YUJING_EZ) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.YUJING_EZ) + \"m\"\r\n                }\r\n                </span>\r\n                <span class=\"tip_col_5\" >预警流量：</span>\r\n                <span class=\"tip_col_7\" id=\"${item.STCD}_YJQ\">\r\n                ${\r\n                  this.$FilterData.Float_Filter(item.rowinfo.YUJING_Q,3) == \"\"\r\n                    ? \"\"\r\n                    : this.$FilterData.Float_Filter(item.rowinfo.YUJING_Q,3) + \"m³/s\"\r\n                }\r\n                </span>\r\n              </div>\r\n              <div class=\"divider\"></div>\r\n        <div id=\"${\r\n          item.STCD\r\n        }\" style=\"width: 450px;height:290px;margin:auto\"></div>\r\n      </div>`;\r\n      this.map.infoWindow.resize(730, 650); // 提示框大小\r\n      this.map.infoWindow.setTitle(item.STNM); // 提示题目\r\n      this.map.infoWindow.setContent(div); // 提示内容\r\n\r\n\r\n                //获取坐标\r\n                var x=Number(item.LGTD);\r\n                var y=Number(item.LTTD);\r\n\r\n\r\n                //如果basemap使用ArcGIS的就需要\r\n                //转换坐标系\r\n                x = (x / 180.0) * 20037508.34\r\n                if (y > 85.05112) y = 85.05112;\r\n                if (y < -85.05112) y = -85.05112;\r\n                y = (Math.PI / 180.0) * y;\r\n                var tmp = Math.PI / 4.0 + y / 2.0;\r\n                y = 20037508.34 * Math.log(Math.tan(tmp)) / Math.PI;\r\n\r\n\r\n                var zoompoint = {\r\n                    //spatialReference: {wkid: 4326},\r\n                    spatialReference: this.map.spatialReference,\r\n                    x: x,\r\n                    y: y\r\n                };\r\n\r\n                \r\n      this.map.infoWindow.show(zoompoint); // 提示位置\r\n      // 如果事件类型不是鼠标经过，则\r\n      if (item.eventType != \"mouse-over\") {\r\n        // 设置中心和缩放 (接受经纬度，和缩放比例)\r\n        this.setMapCenterandZoom(Number(item.LGTD) + 0.1, item.LTTD);\r\n      }\r\n      var body = {\r\n        STCD: item.STCD,\r\n        _page_size: 999999\r\n      };\r\n\r\n      // 时间参数\r\n      var DTT = this.$FilterData\r\n              .elDatePicker_Filter(this.$App.zeroPointToNowOfTheDay())\r\n              .split(\",\");\r\n      body.Time_min = DTT[1];\r\n      body.Time_max = DTT[2];\r\n\r\n      this.$GetData.Survey_History_ZFSQ(\r\n        \"historyTable\",\r\n        body,\r\n        {\r\n          default: true\r\n        },\r\n        data => {\r\n          this.setWPTN_HTML(\r\n            `${item.STCD}_zhaqianshuishi`,\r\n            item.rowinfo.SUPWPTN\r\n          );\r\n          this.setWPTN_HTML(`${item.STCD}_zhahoushuishi`, item.rowinfo.SDWWPTN);\r\n          this.createChart(item.STCD, data.data);\r\n        }\r\n      );\r\n\r\n      // this.$GetData.Survey_History_ZFSQ(\r\n      //   \"alarmTable\",\r\n      //   {\r\n      //     STCD: item.STCD\r\n      //   },\r\n      //   {\r\n      //     default: true\r\n      //   },\r\n      //   data => {\r\n      //     var data = data.data[0];\r\n      //     if (data) {\r\n      //       var YJZQ_Z_div = document.getElementById(`${item.STCD}_YJZQ_Z`),\r\n      //         YJZH_Z_div = document.getElementById(`${item.STCD}_YJZH_Z`),\r\n      //         YJQ_div = document.getElementById(`${item.STCD}_YJQ`);\r\n\r\n      //       YJZQ_Z_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\r\n      //         data.SZ\r\n      //       )}m</span>`;\r\n      //       YJZH_Z_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\r\n      //         data.EZ\r\n      //       )}m</span>`;\r\n      //       YJQ_div.innerHTML = `<span>${this.$FilterData.Float_Filter(\r\n      //         data.Q,\r\n      //         3\r\n      //       )}m³/s</span>`;\r\n      //     }\r\n      //   }\r\n      // );\r\n    },\r\n    setWPTN_HTML(id, WPTN) {\r\n      var div = document.getElementById(id);\r\n      var html;\r\n      switch (WPTN) {\r\n        case \"4\":\r\n          html = `<span style=\"color:blue\">↓</span>`;\r\n          break;\r\n\r\n        case \"5\":\r\n          html = `<span style=\"color:red\">↑</span>`;\r\n          break;\r\n\r\n        case \"6\":\r\n          html = `<span style=\"color:black\">一</span>`;\r\n          break;\r\n        default:\r\n          html = \"\";\r\n          break;\r\n      }\r\n      if (div) {\r\n        div.innerHTML = html;\r\n      }\r\n    },\r\n    // 设置中心和缩放 (接受经纬度，和缩放比例)\r\n    setMapCenterandZoom(LGTD, LTTD, Zoom) {\r\n      //koen 20190929\r\n      //暂时不允许点击，防止缩到全球地图的bug\r\n      //this.map.centerAndZoom([Number(LGTD), Number(LTTD)], Zoom || 1);\r\n    },\r\n    // 隐藏提示\r\n    hideTips() {\r\n      this.map.infoWindow.hide();\r\n      this.tip.show_tip = false; // 关闭提示框组件\r\n    },\r\n    // 制图\r\n    createChart(id, data) {\r\n      if (data.length > 0) {\r\n        var echartData = this.$App.transform_ZFSQ_data_into_ehart_data(\r\n          data,\r\n          \"historyTable\",\r\n            true\r\n        ); // 渠道水情历史统计表数据 转 ehart图形用数据 返回一个对象, 对象里分别装 Y1轴对象 Y2轴对象 X轴对象\r\n\r\n        console.warn(\"echartData.x.list\",echartData.x.list)\r\n        var x_List = echartData.x.list.map(item => {\r\n          item = item.substr(10);\r\n          console.log('++++++++++++++',item);\r\n          return item;\r\n        });\r\nconsole.warn(\"echartData.x.list\",x_List)\r\n        // var y2_y3_max =\r\n        //   echartData.y2.max > echartData.y3.max\r\n        //     ? echartData.y2.max\r\n        //     : echartData.y3.max;\r\n        // var y2_y3_min =\r\n        //   echartData.y2.min < echartData.y3.min\r\n        //     ? echartData.y2.min\r\n        //     : echartData.y3.min;\r\n\r\n        var myChart = this.$echarts.init(document.getElementById(id));\r\n\r\n        myChart.setOption({\r\n          title: {\r\n            text: \"今日水情图\"\r\n          },\r\n          tooltip: {\r\n            trigger: \"axis\"\r\n          },\r\n          legend: {\r\n            data: [echartData.y1.name, echartData.y2.name, echartData.y3.name],\r\n            y: \"bottom\"\r\n          },\r\n\r\n          calculable: true,\r\n          animation: false,\r\n          xAxis: [\r\n            {\r\n              type: \"category\",\r\n              boundaryGap: false,\r\n              data: x_List,\r\n              axisTick: {\r\n                interval: function(index, val) {\r\n                  var listLength = echartData.x.list.length;\r\n                  if (listLength >= 4) {\r\n                    var tick = Math.round(listLength / 4);\r\n                    // console.log((index + 1) % tick === 0);\r\n                    // console.log('1575listLength',listLength);\r\n                    // console.log('1576tick',tick);\r\n                    if ((index + 1) % tick === 0) {\r\n                      return true;\r\n                    } else {\r\n                      return false;\r\n                    }\r\n                  } else {\r\n                    return true;\r\n                  }\r\n                },\r\n                length: 10\r\n              },\r\n              axisLabel: {\r\n                interval: function(index, val) {\r\n                  var listLength = echartData.x.list.length;\r\n                  if (listLength >= 4) {\r\n                    var tick = Math.round(listLength / 4);\r\n                    // console.log('1575listLength',listLength);\r\n                    // console.log('1576tick',tick);\r\n                    let a = (index + 1) % tick;\r\n                    if ((index + 1) % tick === 0) {\r\n                      return true;\r\n                    } else {\r\n                      return false;\r\n                    }\r\n                  } else {\r\n                    return true;\r\n                  }\r\n                },\r\n                rotate: 10,\r\n                margin: 16\r\n              }\r\n            }\r\n          ],\r\n          yAxis: [\r\n            {\r\n              name: `${echartData.y1.name} m³/s`,\r\n              type: \"value\",\r\n              axisLabel: {\r\n                formatter: \"{value} \"\r\n              },\r\n              scale: true\r\n              // max: echartData.y1.max,\r\n              // min: echartData.y1.min\r\n            },\r\n            {\r\n              name: `闸阀上/下水深m`,\r\n              type: \"value\",\r\n              axisLabel: {\r\n                formatter: \"{value} \"\r\n              },\r\n              scale: true\r\n            },\r\n            // {\r\n            //   name: ` `,\r\n            //   type: \"value\",\r\n            //   axisLabel: {\r\n            //     formatter: \"{value} \"\r\n            //   },\r\n            //   scale: true\r\n            // }\r\n          ],\r\n          series: [\r\n            {\r\n              name: echartData.y1.name,\r\n              type: \"line\",\r\n              data: echartData.y1.list\r\n            },\r\n            {\r\n              name: echartData.y2.name,\r\n              type: \"line\",\r\n              data: echartData.y2.list,\r\n              yAxisIndex: 1\r\n            },\r\n            {\r\n              name: echartData.y3.name,\r\n              type: \"line\",\r\n              data: echartData.y3.list,\r\n              yAxisIndex: 1\r\n            }\r\n          ]\r\n        });\r\n      } else {\r\n        var myChart = document.getElementById(id);\r\n        myChart.style.display = \"flex\";\r\n        myChart.style.alignItems = \"center\";\r\n        myChart.style.justifyContent = \"center\";\r\n        myChart.innerHTML = \"暂无今天数据\";\r\n      }\r\n    },\r\n    // 表格加载\r\n    tableLoading() {\r\n      this.table.loading = true;\r\n    },\r\n    // 表格加载取消\r\n    cancelTableLoading() {\r\n      this.table.loading = false;\r\n    },\r\n    // 加载表格数据\r\n    loadTableData(data) {\r\n      // 加载站点数据\r\n      this.table.Rows = data;\r\n    },\r\n    getDataFromEnd(url, callback) {\r\n      // 获取表格数据 `/guanqu/gis/details?ID=${this.info.ID}`\r\n      this.axios.get(url).then(res => {\r\n        if (typeof callback == \"function\") {\r\n          callback(res);\r\n        }\r\n      });\r\n    },\r\n    // 查询\r\n    search() {\r\n      var body = new Object();\r\n      // 如果输入框有内容，添加站名过滤字段\r\n      if (this.form.search_str.length > 0) {\r\n        body[\"STNM\"] = `${this.form.search_str}`;\r\n      }\r\n      // 如果地址选择框有内容，添加行政区划过滤字段\r\n      if (this.form.model_adress && this.form.model_adress.length != 0) {\r\n        body[\"ADDVCD\"] = `${this.$App.ADDVCD_Array_Filter(\r\n          this.form.model_adress\r\n        )}`;\r\n      }\r\n      // 如果渠道选择框有内容，添加渠道过滤字段\r\n      if (this.form.model_qudao && this.form.model_qudao.length != 0) {\r\n        body[\r\n          \"Canal_Code\"\r\n        ] = `${this.$App.Canal_Code_Array_Filter(this.form.model_qudao)}`;\r\n      }\r\n      // 如果站点类型选择框有内容，添加行政区划过滤字段\r\n      if (this.form.model_site) {\r\n        body[\"CTYPE\"] = this.form.model_site;\r\n      }\r\n\r\n      this.tableLoading(); // 表格加载中\r\n      this.search_FeatrueLayer('zhafashuiqing',  body, this.featrue, newFeatureLayerOBJ => {\r\n        this.table.currentPage = 1;\r\n        this.baseBox_init();\r\n        this.cancelTableLoading(); //取消表格加载\r\n        this.hideTips();\r\n      });\r\n    },\r\n    // 给图层对象添加方法\r\n    addEventToJsonFlayer(JsonFlayer) {\r\n      //当鼠标悬停在元素上\r\n      JsonFlayer.on(\"mouse-over\", evt => {\r\n        var attributes = evt.graphic.attributes;\r\n        attributes.eventType = \"mouse-over\";\r\n        this.showTips(attributes);\r\n        // 给地图对象添加方法\r\n        this.addEventToMap();\r\n      });\r\n\r\n      //当鼠标悬停在元素上\r\n      JsonFlayer.on(\"mouse-out\", evt => {\r\n        // this.hideTips();\r\n      });\r\n    },\r\n    // 给地图对象添加方法\r\n    addEventToMap() {\r\n      this.map.on(\"click\", () => {\r\n        // 隐藏提示\r\n        this.hideTips();\r\n      });\r\n    },\r\n    // 处理页码切换\r\n    handleCurrentChange(index) {\r\n      this.table.currentPage = index;\r\n    },\r\n    // 处理每页显示条数切换\r\n    handleSizeChange(pageSizes) {\r\n      this.table.pageSizes = pageSizes;\r\n      this.table.currentPage = 1;\r\n    },\r\n    // 分页过滤\r\n    pageFilter(currentPage, pageSizes) {\r\n      var _currentPage = currentPage || this.table.currentPage;\r\n      var _pageSizes = pageSizes || this.table.pageSizes;\r\n      if (this.table.Rows_filter.length != 0) {\r\n        // 截取数组\r\n        var newList = this.table.Rows_filter.slice(\r\n          (_currentPage - 1) * _pageSizes,\r\n          _currentPage * _pageSizes\r\n        );\r\n\r\n        return newList;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n\r\n    // 过滤table数据\r\n    filterTableData() {\r\n      console.log(\"闸阀水情\", this.table.Rows);\r\n      this.table.Rows_filter = this.table.Rows.map((val, index) => {\r\n        var val_clone = JSON.parse(JSON.stringify(val));\r\n        // 序号\r\n        val_clone.index = index + 1;\r\n        // 时间过滤\r\n        val_clone.TM = this.$FilterData.dateFilter(val_clone.TM,5,null,0);\r\n        // 流量过滤\r\n        val_clone.Q = this.Z_Filter(val_clone.Q, 3);\r\n        // 闸前水深过滤\r\n        val_clone.UPZ = this.Z_Filter(val_clone.UPZ);\r\n        // 闸后水深过滤\r\n        val_clone.DWZ = this.Z_Filter(val_clone.DWZ);\r\n        // 闸前水势过滤\r\n        val_clone.SUPWPTN = this.WPTN_Filter(val_clone.SUPWPTN);\r\n        // 闸后水势过滤\r\n        val_clone.SDWWPTN = this.WPTN_Filter(val_clone.SDWWPTN);\r\n        return val_clone;\r\n      });\r\n    },\r\n    // 选取一部分从父组件传来的数据作为表格的数据\r\n    getTableDataFormParent() {\r\n      var tableData = this.featrue.Rows.map(val => {\r\n        return val.rowinfo;\r\n      });\r\n      console.log(\"tableData_zhafashuiqing\", tableData);\r\n      return tableData;\r\n    },\r\n    // 获取图层对象,从父组件中\r\n    getJsonFlayerFormParent() {\r\n      this.JsonFlayer = this.featrue.LayerObject;\r\n    },\r\n    // 获取地图对象,从父组件中\r\n    getMapFormParent() {\r\n      this.map = this.featrue.map;\r\n    },\r\n    // 往featrue对象里添加操作TextGraphicsLayer的对象，里面有移除所有TextGraphicsLayer的方法，和根据多选框添加文字标注图层的方法\r\n    addTextGraphicsLayerControllerToFeatrue() {\r\n      this.featrue.TextGraphicsLayerController = new Object();\r\n      this.featrue.TextGraphicsLayerController.removeAllTextGraphicsLayer = this.removeAllTextGraphicsLayer;\r\n      this.featrue.TextGraphicsLayerController.addTextGraphicsLayerByCheckGroup = this.addTextGraphicsLayerByCheckGroup;\r\n    },\r\n    // 多选框标记勾选触发事件\r\n    checkboxGroup_onChange(onCheck_Array) {\r\n      this.removeAllTextGraphicsLayer(); // 清除所有文本标注图层\r\n      this.addTextGraphicsLayerByCheckGroup(); // 根据多选框添加文字标注图层\r\n    },\r\n    // 添加文字标注图层\r\n    addTextGraphicsLayer(options) {\r\n      var textGraphicsLayer = new esri.layers.GraphicsLayer(); // 新增一个标注文本图层\r\n      textGraphicsLayer.textType = options.textType;\r\n      this.featrue.map.addLayer(textGraphicsLayer); // 给地图添加新增的标注文本图层\r\n      var Rows = this.featrue.Rows;\r\n      //创建textsymbol文本标注\r\n      if (Rows.length > 0) {\r\n        //动态读取json数据源结果集\r\n        for (var i = 0; i < Rows.length; i++) {\r\n          var Row = Rows[i];\r\n          var point = new esri.geometry.Point(\r\n            Row.geometry.x,\r\n            Row.geometry.y,\r\n            this.featrue.map.spatialReference\r\n          );\r\n          //定义文本symbol\r\n          var textsymbol = new esri.symbol.TextSymbol(\r\n            Row.rowinfo[options.textType]\r\n          ) //动态设置文本值\r\n            .setColor(new dojo.Color(options.color || [55, 55, 55])) //setColor设置文本颜色\r\n            .setFont(\r\n              new esri.symbol.Font(options.fontSize || \"10pt\") //setFont设置文本大小\r\n                .setWeight(esri.symbol.Font.WEIGHT_BOLD)\r\n            ) //setWeight设置文本粗体\r\n            .setOffset(options.offset_x || 0, options.offset_y || -25); //设置偏移方向\r\n          var graphic = new esri.Graphic(point, textsymbol);\r\n          textGraphicsLayer.add(graphic);\r\n        }\r\n      }\r\n      this.TextGraphicsLayers.push(textGraphicsLayer);\r\n    },\r\n    // 根据多选框添加文字标注图层\r\n    addTextGraphicsLayerByCheckGroup() {\r\n      var textTypeList;\r\n      var indexOfSocial = this.form.social.indexOf(\"site\");\r\n      // 如果多选框里存在 site站点类型\r\n      if (indexOfSocial !== -1) {\r\n        this.featrue.LayerObject.show();\r\n        this.featrue.LayerObject_yujing.show();\r\n        textTypeList = this.form.social.filter(val => {\r\n          if (val != \"site\") {\r\n            return true;\r\n          }\r\n        });\r\n      } else {\r\n        this.featrue.LayerObject.hide();\r\n        this.featrue.LayerObject_yujing.hide();\r\n        textTypeList = this.form.social;\r\n      }\r\n\r\n      textTypeList.forEach((textType, index) => {\r\n        var textGraphicsLayer = new esri.layers.GraphicsLayer(); // 新增一个图形图层\r\n        textGraphicsLayer.textType = textType;\r\n        this.featrue.map.addLayer(textGraphicsLayer); // 给地图添加新增的标注文本图层\r\n        var Rows = this.featrue.Rows;\r\n        //创建textsymbol文本标注\r\n        if (Rows.length > 0) {\r\n          //动态读取json数据源结果集\r\n          for (var i = 0; i < Rows.length; i++) {\r\n            var Row = Rows[i];\r\n            var point = new esri.geometry.Point(\r\n              Row.geometry.x,\r\n              Row.geometry.y,\r\n              this.featrue.map.spatialReference\r\n            );\r\n            var value = Row.rowinfo[textType];\r\n            // 过滤\r\n            switch (textType) {\r\n              case \"DWZ\":\r\n                var value = `${this.$FilterData.Float_Filter(Row.rowinfo[textType])}`;\r\n                if (value == \"\") {\r\n                  value = \"\";\r\n                } else {\r\n                  value += \"m\";\r\n                }\r\n                break;\r\n              case \"UPZ\":\r\n                var value = `${this.$FilterData.Float_Filter(Row.rowinfo[textType])}`;\r\n                if (value == \"\") {\r\n                  value = \"\";\r\n                } else {\r\n                  value += \"m\";\r\n                }\r\n                break;\r\n              case \"Q\":\r\n                var value = `${this.$FilterData.Float_Filter(Row.rowinfo[textType], 3)}`;\r\n                if (value == \"\") {\r\n                  value = \"\";\r\n                } else {\r\n                  value += \"m³/s\";\r\n                }\r\n                break;\r\n            }\r\n\r\n            //定义文本symbol\r\n            var textsymbol = new esri.symbol.TextSymbol(value) //动态设置文本值\r\n              .setColor(new dojo.Color(value == \"不正常\"? [255, 0 , 0] : [55, 55, 55])) //setColor设置文本颜色\r\n              .setFont(\r\n                new esri.symbol.Font(\"10pt\") //setFont设置文本大小\r\n                  .setWeight(esri.symbol.Font.WEIGHT_BOLD)\r\n              ) //setWeight设置文本粗体\r\n              .setOffset(0, -(25 + index * 15)); //设置偏移方向\r\n            var graphic = new esri.Graphic(point, textsymbol);\r\n            textGraphicsLayer.add(graphic);\r\n          }\r\n        }\r\n        this.TextGraphicsLayers.push(textGraphicsLayer);\r\n      });\r\n    },\r\n    // 移除文字标注图层\r\n    removeTextGraphicsLayer(textType) {\r\n      // 找到对应的文字标注图层\r\n      for (let i = 0; i < this.TextGraphicsLayers.length; i++) {\r\n        var val = this.TextGraphicsLayers[i];\r\n        if (val.textType == textType) {\r\n          this.featrue.map.removeLayer(val); // 移除对应的文字标注图层\r\n          // val.hide();\r\n          this.TextGraphicsLayers.splice(i, 1); // 从文字标注图层数组里去除对应的文字图层对象\r\n        }\r\n      }\r\n    },\r\n    // 移除所有文字标注图层\r\n    removeAllTextGraphicsLayer() {\r\n      for (let i = 0; i < this.TextGraphicsLayers.length; i++) {\r\n        var val = this.TextGraphicsLayers[i];\r\n        this.featrue.map.removeLayer(val); // 移除对应的文字标注图层\r\n      }\r\n      this.TextGraphicsLayers = [];\r\n    },\r\n    // 初始化baseBox\r\n    baseBox_init() {\r\n      // 获取地图对象,从父组件中\r\n      this.getMapFormParent();\r\n      // 获取图层对象,从父组件中\r\n      this.getJsonFlayerFormParent();\r\n      // 选取一部分从父组件传来的数据,将其加载为表格数据\r\n      this.loadTableData(this.getTableDataFormParent());\r\n      // 过滤table数据\r\n      this.filterTableData();\r\n      // 给图层对象添加方法\r\n      this.addEventToJsonFlayer(this.JsonFlayer);\r\n\r\n      // 获取行政区划数据,然后设置地址选择框选项\r\n      this.getTableData_WRP_AD_B(data => {\r\n        this.form.adressList = data;\r\n        // data.map(val => {\r\n        //   var newVal = new Object();\r\n        //   newVal.value = val.AD_CD;\r\n        //   newVal.label = val.AD_NM;\r\n        //   return newVal;\r\n        // });\r\n      });\r\n\r\n      // 获取输排水渠道数据,然后设置渠道选择框选项\r\n      this.getTableData_WRP_IrrBTCanalSystem(data => {\r\n        this.form.qudaoList = data;\r\n        // data.map(val => {\r\n        //   var newVal = new Object();\r\n        //   newVal.value = val.Canal_Code;\r\n        //   newVal.label = val.Canal_Name;\r\n        //   return newVal;\r\n        // });\r\n      });\r\n\r\n      // 多选框标记勾选触发事件\r\n      // 1.清除所有文本标注图层\r\n      // 2.根据多选框添加文字标注图层\r\n      this.checkboxGroup_onChange();\r\n      // 往featrue对象里添加操作TextGraphicsLayer的对象，里面有移除所有TextGraphicsLayer的方法，和根据多选框添加文字标注图层的方法\r\n      this.addTextGraphicsLayerControllerToFeatrue();\r\n    },\r\n    // 排序\r\n    sort_change(item) {\r\n      var order = item.order,\r\n        key = item.prop;\r\n\r\n      this.filterTableData();\r\n      var newList;\r\n      if (order) {\r\n        switch (order) {\r\n          case \"descending\":\r\n            if (key != \"TM\") {\r\n              newList = this.table.Rows_filter.sort((a, b) => {\r\n                return Number(b[key]) - Number(a[key]);\r\n              });\r\n            } else {\r\n              newList = this.table.Rows_filter.sort((a, b) => {\r\n                var aTime = new Date(`20${a.TM}`).getTime(),\r\n                  bTime = new Date(`20${b.TM}`).getTime();\r\n                aTime = isNaN(aTime) ? 0 : aTime;\r\n                bTime = isNaN(bTime) ? 0 : bTime;\r\n                return bTime - aTime;\r\n              });\r\n            }\r\n            break;\r\n\r\n          case \"ascending\":\r\n            if (key != \"TM\") {\r\n              newList = this.table.Rows_filter.sort((a, b) => {\r\n                return Number(a[key]) - Number(b[key]);\r\n              });\r\n            } else {\r\n              newList = this.table.Rows_filter.sort((a, b) => {\r\n                var aTime = new Date(`20${a.TM}`).getTime(),\r\n                  bTime = new Date(`20${b.TM}`).getTime();\r\n                aTime = isNaN(aTime) ? 0 : aTime;\r\n                bTime = isNaN(bTime) ? 0 : bTime;\r\n                return aTime - bTime;\r\n              });\r\n            }\r\n        }\r\n        this.table.Rows_filter = newList;\r\n      }\r\n      this.$TableMethods.refreshCurrentChange(this.table, 1);\r\n    }\r\n  },\r\n  created() {\r\n    // 初始化baseBox\r\n    this.baseBox_init();\r\n    this.search();\r\n    this.baseBox_Interval = setInterval(() => {\r\n      this.search();\r\n    },1000 * 60 * 5)\r\n  },\r\n  destroyed() {\r\n    clearInterval(this.baseBox_Interval)\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n/* 引入baseBox公共样式 */\r\n@import \"../../assets/commonLess/baseBox\";\r\n</style>\r\n"],"sourceRoot":"src/components/BaseBox"}]}