!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.esriLoader=e.esriLoader||{})}(this,function(e){"use strict";var r="4.11";function t(e){var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/"+e+"/"}function n(e){return!e||t(e)?function(e){void 0===e&&(e=r);var n=o(e),i=t(e);return 3===i.major?n+(i.minor<=10?"js/":"")+"esri/css/esri.css":n+"esri/css/main.css"}(e):e}function i(e,r){var t,o,i,d=n(e),a=(t=d,document.querySelector('link[href*="'+t+'"]'));return a||(o=d,(i=document.createElement("link")).rel="stylesheet",i.href=o,function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(a=i,r)),a}var d={Promise:window&&window.Promise};function a(e,r,t){var o,n,i,d;t&&(i=t,d=function(e){i(e.error||new Error("There was an error attempting to load "+n.src)),n.removeEventListener("error",d,!1)},(n=e).addEventListener("error",d,!1),o=d);var a=function(){r(e),e.removeEventListener("load",a,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",a,!1)}function s(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function c(e){void 0===e&&(e={});var r=e.version,t=e.url||o(r);return new d.Promise(function(o,n){var d,c,f=s();if(f){var l=f.getAttribute("src");l!==t?n(new Error("The ArcGIS API for JavaScript is already loaded ("+l+").")):u()?o(f):a(f,o,n)}else if(u())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var v=e.css;if(v)i(!0===v?r:v,e.insertCssBefore);e.dojoConfig&&(window.dojoConfig=e.dojoConfig),d=t,(c=document.createElement("script")).type="text/javascript",c.src=d,c.setAttribute("data-esri-loader","loading"),a(f=c,function(){f.setAttribute("data-esri-loader","loaded"),o(f)},n),document.body.appendChild(f)}})}function f(e){return new d.Promise(function(r,t){var o=window.require.on("error",t);window.require(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.remove(),r(e)})})}function l(e,r){if(void 0===r&&(r={}),u())return f(e);var t=s(),o=t&&t.getAttribute("src");return!r.url&&o&&(r.url=o),c(r).then(function(){return f(e)})}var v={getScript:s,isLoaded:u,loadModules:l,loadScript:c,loadCss:i,utils:d};e.getScript=s,e.isLoaded=u,e.loadModules=l,e.loadScript=c,e.loadCss=i,e.utils=d,e.default=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=esri-loader.min.js.map
